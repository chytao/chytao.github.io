{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u901a\u7528\u5907\u8003\u6d41\u7a0b \u00b6 \u606d\u559c\u5927\u5bb6\u6765\u5230\u534e\u4e3a\u4e91\u8ba1\u7b97IE\u8003\u8bd5\u7684\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\u2014\u2014\u9762\u8bd5\u73af\u8282\u3002 \u9762\u8bd5\u662f\u6700\u540e\u7684\u73af\u8282\u4e5f\u662f\u5bf9\u8003\u751f\u6765\u8bf4\u6700\u7ec8\u548c\u6700\u91cd\u8981\u7684\u8003\u9a8c\uff1b\u76f8\u5bf9\u4e8e\u4e91\u8ba1\u7b97\u7684\u7b14\u8bd5\u548cLab\u3002\u9762\u8bd5\u9636\u6bb5\u9700\u8981\u5927\u5bb6\u4ed8\u51fa\u66f4\u591a\u7684\u65f6\u95f4\u548c\u7cbe\u529b\u3002\u5f53\u7136\u7531\u4e8e\u4e2a\u4eba\u7684\u60c5\u51b5\u4e0d\u5c3d\u76f8\u540c\uff1b\u5728\u8fce\u63a5\u9762\u8bd5\u7684\u65f6\u5019\u5927\u5bb6\u7684\u6c34\u5e73\u4e5f\u662f\u53c2\u5dee\u4e0d\u9f50\u7684\u3002\u6240\u4ee5\u5728\u8fd9\u91cc\u6211\u7ed9\u5927\u5bb6\u5217\u4e00\u4e2a\u901a\u7528\u5907\u8003\u6d41\u7a0b\u3002\u6574\u4e2a\u7684\u5907\u8003\u6d41\u7a0b\u5927\u6982\u9700\u8981\u4e24\u4e2a\u6708\u5de6\u53f3\u7684\u65f6\u95f4\u3002 1.\u5728\u6b63\u5f0f\u8fdb\u5165\u9762\u8bd5\u72b6\u6001\u4e4b\u524d\u4f60\u5e94\u8be5\u5c06HCIE-Cloud\u7684\u7406\u8bba\u89c6\u9891\u5b8c\u6574\u7684\u770b\u4e00\u904d\u3002\uff08\u5efa\u8bae\u4e24\u5468\u4e4b\u5185\u5b8c\u6210\uff09 \u00b6 \u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5e76\u4e0d\u8981\u6c42\u5927\u5bb6\u5b8c\u5168\u638c\u63e1IE\u7406\u8bba\u89c6\u9891\u4e2d\u5b8c\u6574\u7684\u77e5\u8bc6\u70b9\u3002\u4e3b\u8981\u662f\u627e\u51fa\u5728\u770b\u89c6\u9891\u65f6\u6bd4\u8f83\u6a21\u7cca\u7684\u77e5\u8bc6\u70b9\u52a0\u4ee5\u8bb0\u5f55\u3002 2.\u5c06\u9762\u8bd5\u8f85\u5bfc\u89c6\u9891\u5b8c\u6574\u7684\u770b\u4e00\u904d\uff08\u5efa\u8bae\u4e00\u5468\u4e4b\u5185\u5b8c\u6210\uff09 \u00b6 \u6211\u4eec\u63d0\u4f9b\u7684\u9762\u8bd5\u8f85\u5bfc\u89c6\u9891\u5bf9IE\u8bfe\u7a0b\u4e2d\u91cd\u8981\u7684\u77e5\u8bc6\u70b9\u548c\u8003\u70b9\u505a\u4e86\u76f8\u5bf9\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u4f46\u662f\u7531\u4e8e\u65f6\u95f4\u4ee5\u53ca\u8001\u5e08\u6c34\u5e73\u6240\u9650\uff0c\u5e76\u4e0d\u80fd\u5b8c\u5168\u6db5\u76d6IE\u8003\u8bd5\u7684\u6240\u6709\u8003\u70b9\u3002\u8fd9\u5957\u89c6\u9891\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u8ba9\u5927\u5bb6\u6293\u4f4fIE\u9762\u8bd5\u7684\u91cd\u70b9\uff0c\u8fdb\u884c\u7740\u91cd\u7684\u590d\u4e60\uff0c\u52a0\u6df1\u5370\u8c61\u3002 3.\u901a\u8fc7\u9605\u8bfb\u4ea7\u54c1\u6587\u6863\u6df1\u5316\u5bf9\u77e5\u8bc6\u7684\u7406\u89e3\uff08\u8d2f\u7a7f\u59cb\u7ec8\uff09 \u00b6 \u4ea7\u54c1\u6587\u6863\u7684\u4f7f\u7528\u5e94\u8be5\u4f34\u968f\u6211\u4eec\u5b66\u4e60IE\u7684\u59cb\u7ec8\uff1b\u5e94\u5bf9IE\u9762\u8bd5\u6211\u7ed9\u5927\u5bb6\u63a8\u8350\u5fc5\u987b\u8981\u8bfb\u7684\u4ea7\u54c1\u6587\u6863\u3002\u7531\u4e8e\u4ea7\u54c1\u6587\u6863\u77e5\u8bc6\u8981\u7d20\u8fc7\u591a\u5e76\u4e0d\u5efa\u8bae\u5728\u8003\u8bd5\u4e2d\u901a\u8bfb\u4ea7\u54c1\u6587\u6863\u3002\u4e3b\u8981\u7528\u4f5c\u67e5\u627e\u77e5\u8bc6\u76f2\u533a\u548c\u77e5\u8bc6\u8bef\u533a\u7684\u5de5\u5177\u4e66\u4f7f\u7528\u3002\u4f46\u662f\u5728\u4e0b\u9762\u5217\u51fa\u7684\u4ea7\u54c1\u6587\u6863\u4e2d\u63cf\u8ff0\\\u6982\u8981\u90e8\u5206\uff0c\u9700\u8981\u5927\u5bb6\u4ed4\u7ec6\u7814\u8bfb\u3002 1.FusinComepute 2.FusionShere\u4e91\u6570\u636e\u4e2d\u5fc3 3.FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316 4.FusionStorage 5.FusionCloud\uff08\u684c\u9762\u4e91\uff09 6.ManageOne ServiceCenter 7.ebackup 8.BCManager 9.FusionCloud6.3.1 10.\u5b58\u50a8\u6f2b\u8bb0\uff08\u5efa\u8bae\u770b\uff09 11.\u4e00\u4e91\u4e00\u4e16\u754c\uff08\u5efa\u8bae\u770b\uff09 4.PPT\uff08\u5efa\u8bae\u4e00\u5468\uff09 \u00b6 \u975e\u5e38\u5efa\u8bae\u5927\u5bb6\u7c97\u7565\u7684\u9605\u8bfbIA\uff1bIP;IE\u7684PPT\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f60\u5e94\u8be5\u5bf9PPT\u4e2d\u51fa\u73b0\u7684\u6240\u6709\u4e91\u8ba1\u7b97\u7684\u4e13\u4e1a\u672f\u8bed\u505a\u5230\u8f83\u4e3a\u6df1\u5165\u7684\u7406\u89e3\u3002\u5728\u534e\u4e3a\u7684PPT\u4e2d\u9700\u8981\u4e13\u4e1a\u7684\u672f\u8bed\u662f\u4ee5\u82f1\u6587\u7f29\u5199\u7684\u5f62\u5f0f\u5b58\u5728\u7684\u5927\u5bb6\u4e00\u5b9a\u4e0d\u8981\u6df7\u6dc6\u3002 5.\u4f7f\u7528\u77e5\u8bc6\u81ea\u6d4b\u5bfc\u56fe\u8fdb\u884c\u81ea\u6d4b \u00b6 \u4f7f\u7528\u6211\u7ed9\u5927\u5bb6\u63d0\u4f9b\u7684\u77e5\u8bc6\u81ea\u6d4b\u8868\u8fdb\u884c\u81ea\u6211\u77e5\u8bc6\u7684\u7ba1\u7406\u3002\u8fd9\u4e2a\u77e5\u8bc6\u81ea\u6d4b\u8868\u6765\u81ea\u4e8e\u534e\u4e3a\u7684\u9762\u8bd5\u6218\u62a5\u4ee5\u53ca\u5bf9\u9762\u8bd5\u9898\u7684\u5f52\u7eb3\u603b\u7ed3\u3002\u5927\u5bb6\u5728\u901a\u8fc7\u8003\u8bd5\u540e\u4e5f\u5e0c\u671b\u5927\u5bb6\u80fd\u4ea7\u51fa\u9762\u8bd5\u6218\u62a5\u7528\u6765\u4f18\u5316\u589e\u52a0\u6211\u4eec\u7684\u77e5\u8bc6\u81ea\u6d4b\u8868\u3002\u5e2e\u52a9\u5176\u4ed6\u8003\u751f\u66f4\u597d\u7684\u901a\u8fc7\u8003\u8bd5\u3002 6.\u8f93\u51fa\u81ea\u5df1\u7684\u77e5\u8bc6\u4f53\u7cfb \u00b6 \u5efa\u8bae\u5927\u5bb6\u5728\u9762\u8bd5\u9636\u6bb5\u80fd\u591f\u6574\u7406\u8f93\u51fa\u81ea\u5df1\u7684\u4e00\u5957\u77e5\u8bc6\u4f53\u7cfb\u3002\u53ef\u4ee5\u662f\u5bf9\u9762\u8bd5\u9898\u76ee\u7684\u5f52\u7eb3\u603b\u7ed3\u3002\u53ef\u4ee5\u662f\u601d\u7ef4\u5bfc\u56fe\u7b49\u591a\u79cd\u5f62\u5f0f\u3002\u4ece\u539f\u5219\u4e0a\u6211\u4eec\u4e0d\u5efa\u8bae\u8003\u751f\u4f9d\u8d56\u5404\u4e2a\u673a\u6784\u7684\u9762\u8bd5\u5b9d\u5178\u3002 7.\u5b9e\u6218\u9636\u6bb5\uff08\u4e00\u4e2a\u6708\uff09 \u00b6 \u5728\u8ddd\u79bb\u4e2a\u4eba\u9762\u8bd5\u65f6\u95f4\u8fd8\u6709\u4e00\u4e2a\u6708\u7684\u65f6\u5019\u6211\u4eec\u5efa\u8bae\u4f60\u8fdb\u5165\u9762\u8bd5\u5b9e\u6218\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4e3b\u8981\u662f\u901a\u8fc7\u5927\u91cf\u7684\u6a21\u62df\u9762\u8bd5\u6765\u5c06\u4e4b\u524d\u5bf9\u77e5\u8bc6\u7684\u7406\u89e3\u5f52\u7eb3\u6210\u6d41\u7545\u7684\u9762\u8bd5\u8bed\u8a00\u8f93\u51fa\u51fa\u6765\u3002\u505a\u5230\u5fc3\u4e2d\u4e0d\u614c\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f60\u8981\u53bb\u901a\u8fc7\u5927\u91cf\u7684\u63d0\u95ee\u548c\u88ab\u63d0\u95ee\u8005\u4e4b\u95f4\u7684\u89d2\u8272\u4e92\u6362\uff0c\u6765\u8fdb\u4e00\u6b65\u52a0\u6df1\u5bf9\u77e5\u8bc6\u601d\u8003\u7684\u6df1\u5ea6\u548c\u5e7f\u5ea6\u3002\u6700\u7ec8\u80fd\u591f\u6e05\u6670\u6d41\u7545\u7684\u8bed\u8a00\u6765\u5e94\u5bf9\u9762\u8bd5\u3002 8.\u5fc3\u91cc\u51c6\u5907\u9636\u6bb5 \u00b6 \u8003\u524d\u4e00\u5468\u5728\u8fdb\u884c\u5907\u8003\u7684\u540c\u65f6\u5efa\u8bae\u505a\u597d\u5e94\u5bf9\u8003\u8bd5\u7684\u5fc3\u7406\u51c6\u5907\uff1b\u653e\u677e\u5fc3\u60c5\uff1b\u6c89\u7740\u7684\u5e94\u5bf9\u8003\u8bd5\u3002","title":"Home"},{"location":"#_1","text":"\u606d\u559c\u5927\u5bb6\u6765\u5230\u534e\u4e3a\u4e91\u8ba1\u7b97IE\u8003\u8bd5\u7684\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\u2014\u2014\u9762\u8bd5\u73af\u8282\u3002 \u9762\u8bd5\u662f\u6700\u540e\u7684\u73af\u8282\u4e5f\u662f\u5bf9\u8003\u751f\u6765\u8bf4\u6700\u7ec8\u548c\u6700\u91cd\u8981\u7684\u8003\u9a8c\uff1b\u76f8\u5bf9\u4e8e\u4e91\u8ba1\u7b97\u7684\u7b14\u8bd5\u548cLab\u3002\u9762\u8bd5\u9636\u6bb5\u9700\u8981\u5927\u5bb6\u4ed8\u51fa\u66f4\u591a\u7684\u65f6\u95f4\u548c\u7cbe\u529b\u3002\u5f53\u7136\u7531\u4e8e\u4e2a\u4eba\u7684\u60c5\u51b5\u4e0d\u5c3d\u76f8\u540c\uff1b\u5728\u8fce\u63a5\u9762\u8bd5\u7684\u65f6\u5019\u5927\u5bb6\u7684\u6c34\u5e73\u4e5f\u662f\u53c2\u5dee\u4e0d\u9f50\u7684\u3002\u6240\u4ee5\u5728\u8fd9\u91cc\u6211\u7ed9\u5927\u5bb6\u5217\u4e00\u4e2a\u901a\u7528\u5907\u8003\u6d41\u7a0b\u3002\u6574\u4e2a\u7684\u5907\u8003\u6d41\u7a0b\u5927\u6982\u9700\u8981\u4e24\u4e2a\u6708\u5de6\u53f3\u7684\u65f6\u95f4\u3002","title":"\u901a\u7528\u5907\u8003\u6d41\u7a0b"},{"location":"#1hcie-cloud","text":"\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5e76\u4e0d\u8981\u6c42\u5927\u5bb6\u5b8c\u5168\u638c\u63e1IE\u7406\u8bba\u89c6\u9891\u4e2d\u5b8c\u6574\u7684\u77e5\u8bc6\u70b9\u3002\u4e3b\u8981\u662f\u627e\u51fa\u5728\u770b\u89c6\u9891\u65f6\u6bd4\u8f83\u6a21\u7cca\u7684\u77e5\u8bc6\u70b9\u52a0\u4ee5\u8bb0\u5f55\u3002","title":"1.\u5728\u6b63\u5f0f\u8fdb\u5165\u9762\u8bd5\u72b6\u6001\u4e4b\u524d\u4f60\u5e94\u8be5\u5c06HCIE-Cloud\u7684\u7406\u8bba\u89c6\u9891\u5b8c\u6574\u7684\u770b\u4e00\u904d\u3002\uff08\u5efa\u8bae\u4e24\u5468\u4e4b\u5185\u5b8c\u6210\uff09"},{"location":"#2","text":"\u6211\u4eec\u63d0\u4f9b\u7684\u9762\u8bd5\u8f85\u5bfc\u89c6\u9891\u5bf9IE\u8bfe\u7a0b\u4e2d\u91cd\u8981\u7684\u77e5\u8bc6\u70b9\u548c\u8003\u70b9\u505a\u4e86\u76f8\u5bf9\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u4f46\u662f\u7531\u4e8e\u65f6\u95f4\u4ee5\u53ca\u8001\u5e08\u6c34\u5e73\u6240\u9650\uff0c\u5e76\u4e0d\u80fd\u5b8c\u5168\u6db5\u76d6IE\u8003\u8bd5\u7684\u6240\u6709\u8003\u70b9\u3002\u8fd9\u5957\u89c6\u9891\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u8ba9\u5927\u5bb6\u6293\u4f4fIE\u9762\u8bd5\u7684\u91cd\u70b9\uff0c\u8fdb\u884c\u7740\u91cd\u7684\u590d\u4e60\uff0c\u52a0\u6df1\u5370\u8c61\u3002","title":"2.\u5c06\u9762\u8bd5\u8f85\u5bfc\u89c6\u9891\u5b8c\u6574\u7684\u770b\u4e00\u904d\uff08\u5efa\u8bae\u4e00\u5468\u4e4b\u5185\u5b8c\u6210\uff09"},{"location":"#3","text":"\u4ea7\u54c1\u6587\u6863\u7684\u4f7f\u7528\u5e94\u8be5\u4f34\u968f\u6211\u4eec\u5b66\u4e60IE\u7684\u59cb\u7ec8\uff1b\u5e94\u5bf9IE\u9762\u8bd5\u6211\u7ed9\u5927\u5bb6\u63a8\u8350\u5fc5\u987b\u8981\u8bfb\u7684\u4ea7\u54c1\u6587\u6863\u3002\u7531\u4e8e\u4ea7\u54c1\u6587\u6863\u77e5\u8bc6\u8981\u7d20\u8fc7\u591a\u5e76\u4e0d\u5efa\u8bae\u5728\u8003\u8bd5\u4e2d\u901a\u8bfb\u4ea7\u54c1\u6587\u6863\u3002\u4e3b\u8981\u7528\u4f5c\u67e5\u627e\u77e5\u8bc6\u76f2\u533a\u548c\u77e5\u8bc6\u8bef\u533a\u7684\u5de5\u5177\u4e66\u4f7f\u7528\u3002\u4f46\u662f\u5728\u4e0b\u9762\u5217\u51fa\u7684\u4ea7\u54c1\u6587\u6863\u4e2d\u63cf\u8ff0\\\u6982\u8981\u90e8\u5206\uff0c\u9700\u8981\u5927\u5bb6\u4ed4\u7ec6\u7814\u8bfb\u3002 1.FusinComepute 2.FusionShere\u4e91\u6570\u636e\u4e2d\u5fc3 3.FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316 4.FusionStorage 5.FusionCloud\uff08\u684c\u9762\u4e91\uff09 6.ManageOne ServiceCenter 7.ebackup 8.BCManager 9.FusionCloud6.3.1 10.\u5b58\u50a8\u6f2b\u8bb0\uff08\u5efa\u8bae\u770b\uff09 11.\u4e00\u4e91\u4e00\u4e16\u754c\uff08\u5efa\u8bae\u770b\uff09","title":"3.\u901a\u8fc7\u9605\u8bfb\u4ea7\u54c1\u6587\u6863\u6df1\u5316\u5bf9\u77e5\u8bc6\u7684\u7406\u89e3\uff08\u8d2f\u7a7f\u59cb\u7ec8\uff09"},{"location":"#4ppt","text":"\u975e\u5e38\u5efa\u8bae\u5927\u5bb6\u7c97\u7565\u7684\u9605\u8bfbIA\uff1bIP;IE\u7684PPT\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f60\u5e94\u8be5\u5bf9PPT\u4e2d\u51fa\u73b0\u7684\u6240\u6709\u4e91\u8ba1\u7b97\u7684\u4e13\u4e1a\u672f\u8bed\u505a\u5230\u8f83\u4e3a\u6df1\u5165\u7684\u7406\u89e3\u3002\u5728\u534e\u4e3a\u7684PPT\u4e2d\u9700\u8981\u4e13\u4e1a\u7684\u672f\u8bed\u662f\u4ee5\u82f1\u6587\u7f29\u5199\u7684\u5f62\u5f0f\u5b58\u5728\u7684\u5927\u5bb6\u4e00\u5b9a\u4e0d\u8981\u6df7\u6dc6\u3002","title":"4.PPT\uff08\u5efa\u8bae\u4e00\u5468\uff09"},{"location":"#5","text":"\u4f7f\u7528\u6211\u7ed9\u5927\u5bb6\u63d0\u4f9b\u7684\u77e5\u8bc6\u81ea\u6d4b\u8868\u8fdb\u884c\u81ea\u6211\u77e5\u8bc6\u7684\u7ba1\u7406\u3002\u8fd9\u4e2a\u77e5\u8bc6\u81ea\u6d4b\u8868\u6765\u81ea\u4e8e\u534e\u4e3a\u7684\u9762\u8bd5\u6218\u62a5\u4ee5\u53ca\u5bf9\u9762\u8bd5\u9898\u7684\u5f52\u7eb3\u603b\u7ed3\u3002\u5927\u5bb6\u5728\u901a\u8fc7\u8003\u8bd5\u540e\u4e5f\u5e0c\u671b\u5927\u5bb6\u80fd\u4ea7\u51fa\u9762\u8bd5\u6218\u62a5\u7528\u6765\u4f18\u5316\u589e\u52a0\u6211\u4eec\u7684\u77e5\u8bc6\u81ea\u6d4b\u8868\u3002\u5e2e\u52a9\u5176\u4ed6\u8003\u751f\u66f4\u597d\u7684\u901a\u8fc7\u8003\u8bd5\u3002","title":"5.\u4f7f\u7528\u77e5\u8bc6\u81ea\u6d4b\u5bfc\u56fe\u8fdb\u884c\u81ea\u6d4b"},{"location":"#6","text":"\u5efa\u8bae\u5927\u5bb6\u5728\u9762\u8bd5\u9636\u6bb5\u80fd\u591f\u6574\u7406\u8f93\u51fa\u81ea\u5df1\u7684\u4e00\u5957\u77e5\u8bc6\u4f53\u7cfb\u3002\u53ef\u4ee5\u662f\u5bf9\u9762\u8bd5\u9898\u76ee\u7684\u5f52\u7eb3\u603b\u7ed3\u3002\u53ef\u4ee5\u662f\u601d\u7ef4\u5bfc\u56fe\u7b49\u591a\u79cd\u5f62\u5f0f\u3002\u4ece\u539f\u5219\u4e0a\u6211\u4eec\u4e0d\u5efa\u8bae\u8003\u751f\u4f9d\u8d56\u5404\u4e2a\u673a\u6784\u7684\u9762\u8bd5\u5b9d\u5178\u3002","title":"6.\u8f93\u51fa\u81ea\u5df1\u7684\u77e5\u8bc6\u4f53\u7cfb"},{"location":"#7","text":"\u5728\u8ddd\u79bb\u4e2a\u4eba\u9762\u8bd5\u65f6\u95f4\u8fd8\u6709\u4e00\u4e2a\u6708\u7684\u65f6\u5019\u6211\u4eec\u5efa\u8bae\u4f60\u8fdb\u5165\u9762\u8bd5\u5b9e\u6218\u9636\u6bb5\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4e3b\u8981\u662f\u901a\u8fc7\u5927\u91cf\u7684\u6a21\u62df\u9762\u8bd5\u6765\u5c06\u4e4b\u524d\u5bf9\u77e5\u8bc6\u7684\u7406\u89e3\u5f52\u7eb3\u6210\u6d41\u7545\u7684\u9762\u8bd5\u8bed\u8a00\u8f93\u51fa\u51fa\u6765\u3002\u505a\u5230\u5fc3\u4e2d\u4e0d\u614c\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f60\u8981\u53bb\u901a\u8fc7\u5927\u91cf\u7684\u63d0\u95ee\u548c\u88ab\u63d0\u95ee\u8005\u4e4b\u95f4\u7684\u89d2\u8272\u4e92\u6362\uff0c\u6765\u8fdb\u4e00\u6b65\u52a0\u6df1\u5bf9\u77e5\u8bc6\u601d\u8003\u7684\u6df1\u5ea6\u548c\u5e7f\u5ea6\u3002\u6700\u7ec8\u80fd\u591f\u6e05\u6670\u6d41\u7545\u7684\u8bed\u8a00\u6765\u5e94\u5bf9\u9762\u8bd5\u3002","title":"7.\u5b9e\u6218\u9636\u6bb5\uff08\u4e00\u4e2a\u6708\uff09"},{"location":"#8","text":"\u8003\u524d\u4e00\u5468\u5728\u8fdb\u884c\u5907\u8003\u7684\u540c\u65f6\u5efa\u8bae\u505a\u597d\u5e94\u5bf9\u8003\u8bd5\u7684\u5fc3\u7406\u51c6\u5907\uff1b\u653e\u677e\u5fc3\u60c5\uff1b\u6c89\u7740\u7684\u5e94\u5bf9\u8003\u8bd5\u3002","title":"8.\u5fc3\u91cc\u51c6\u5907\u9636\u6bb5"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","text":"00-FusionSphere\uff08\u670d\u52a1\u5668\u865a\u62df\u5316\uff09\u89e3\u51b3\u65b9\u6848 \u00b6 00-FusionSphere\u7b80\u4ecb \u00b6 FusionSphere\u89e3\u51b3\u65b9\u6848\u901a\u8fc7\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u4f7f\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u627f\u62c5\u591a\u53f0\u670d\u52a1\u5668\u7684\u5de5\u4f5c\u3002\u901a\u8fc7\u6574\u5408\u73b0\u6709\u7684\u5de5\u4f5c\u8d1f\u8f7d\u5e76\u5229\u7528\u5269\u4f59\u7684\u670d\u52a1\u5668\u4ee5\u90e8\u7f72\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u89e3\u51b3\u65b9\u6848\uff0c\u5b9e\u73b0\u8f83\u9ad8\u7684\u6574\u5408\u7387\u3002 01-FusionSphere\u89e3\u51b3\u65b9\u6848\u7684\u5e94\u7528\u573a\u666f \u00b6 \u5355\u865a\u62df\u5316\u573a\u666f\uff1a \u5355\u865a\u62df\u5316\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u53ea\u91c7\u7528FusionCompute\u4f5c\u4e3a\u7edf\u4e00\u7684\u64cd\u4f5c\u7ef4\u62a4\u7ba1\u7406\u5e73\u53f0\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c\u4e0e\u7ef4\u62a4\u7684\u5e94\u7528\u573a\u666f\u3002\u5305\u542b\u8d44\u6e90\u76d1\u63a7\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u7cfb\u7edf\u7ba1\u7406\u7b49\u3002 FusionCompute\u4e3b\u8981\u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83\u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002\u540c\u65f6\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002 \u591a\u865a\u62df\u5316\u573a\u666f\uff1a \u591a\u865a\u62df\u5316\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u6709\u591a\u5957\u865a\u62df\u5316\u73af\u5883\u9700\u8981\u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\u3002\u591a\u865a\u62df\u5316\u573a\u666f\u63d0\u4f9b\u5982\u4e0b\u4e3b\u8981\u529f\u80fd\uff1a \u7edf\u4e00\u7ba1\u7406\u548c\u7ef4\u62a4\uff1a\u652f\u6301\u540c\u65f6\u63a5\u5165FusionCompute\u548cVMware\u865a\u62df\u5316\u73af\u5883\uff0c\u5bf9\u591a\u865a\u62df\u5316\u73af\u5883\u7684\u8d44\u6e90\u548c\u4e1a\u52a1\u8fdb\u884c\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u7ef4\u62a4\u3002 \u7edf\u4e00\u76d1\u63a7\u544a\u8b66\uff1a\u652f\u6301\u5bf9\u591a\u4e2a\u865a\u62df\u5316\u73af\u5883\u3001\u591a\u79cd\u7269\u7406\u8bbe\u5907\u7684\u544a\u8b66\u8fdb\u884c\u7edf\u4e00\u63a5\u5165\u3001\u76d1\u63a7\u548c\u7ba1\u7406\u3002 \u79c1\u6709\u4e91\u573a\u666f\uff1a \u79c1\u6709\u4e91\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u865a\u62df\u8d44\u6e90\u53ca\u4e1a\u52a1\u3002\u53d1\u653e\u4e1a\u52a1\u65f6\u7531\u7ba1\u7406\u5458\u548c\u79df\u6237\u5206\u522b\u5b8c\u6210\u4e0d\u540c\u7684\u4efb\u52a1\uff0c\u5171\u540c\u5b8c\u6210\u4e1a\u52a1\u7684\u53d1\u653e\u3002\u7ba1\u7406\u8d44\u6e90\u65f6\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u5bf9\u7cfb\u7edf\u6240\u6709\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\uff1b\u79df\u6237\u53ea\u80fd\u7ba1\u7406\u6240\u5c5eVDC\u7684\u8d44\u6e90\u3002 \u6839\u636e\u5b9e\u9645\u4f7f\u7528\u9700\u6c42\u7684\u4e0d\u540c\uff0c\u79c1\u6709\u4e91\u573a\u666f\u53c8\u53ef\u5206\u4e3a\u591a\u79df\u6237\u5171\u4eabVPC\u573a\u666f\u548c\u591a\u79df\u6237\u79c1\u6709VPC\u573a\u666f\u3002 \u591a\u79df\u6237\u5171\u4eabVPC\u573a\u666f \u8be5\u573a\u666f\u4e2d\uff0c\u53d1\u653e\u4e1a\u52a1\u65f6\u7ba1\u7406\u5458\u901a\u8fc7VDC\u5c06\u865a\u62df\u8d44\u6e90\u5206\u7ed9\u79df\u6237\u3002\u79df\u6237\u5728\u79df\u6237\u89c6\u56fe\uff0c\u521b\u5efa\u865a\u62df\u673a\u6216\u5e94\u7528\u5b9e\u4f8b\u65f6\u53ef\u4f7f\u7528\u7ba1\u7406\u5458\u5728\u5171\u4eabVPC\u4e2d\u521b\u5efa\u7684\u7f51\u7edc\u3002\u82e5\u5728\u521b\u5efaVDC\u65f6\uff0c\u5c06\u7ba1\u7406\u5458\u52a0\u5165\u4e86VDC\u4e2d\uff0c\u5219\u7ba1\u7406\u5458\u4e00\u4eba\u5728\u4e0d\u540c\u89c6\u56fe\u4e2d\uff0c\u53ef\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u3002\u8be5\u573a\u666f\u9002\u7528\u4e8e\u5982\u4e0b\u60c5\u51b5\uff1a \u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u9664\u7f51\u7edc\u4e4b\u5916\u7684\u865a\u62df\u8d44\u6e90\uff08\u5305\u542b\u865a\u62df\u673a\u3001\u78c1\u76d8\u7b49\uff09\u53ca\u4e1a\u52a1\u3002 \u4f01\u4e1a\u4e2d\u7684\u7f51\u7edc\u7531\u7ba1\u7406\u5458\u7edf\u4e00\u89c4\u5212\u548c\u7ef4\u62a4\uff0c\u4f01\u4e1a\u5404\u90e8\u95e8\u5747\u4f7f\u7528\u7ba1\u7406\u5458\u521b\u5efa\u7684\u7f51\u7edc\u3002 \u591a\u79df\u6237\u79c1\u6709VPC\u573a\u666f \u8be5\u573a\u666f\u4e2d\uff0c\u53d1\u653e\u4e1a\u52a1\u65f6\u7ba1\u7406\u5458\u901a\u8fc7VDC\u5c06\u865a\u62df\u8d44\u6e90\u5206\u7ed9\u79df\u6237\u3002\u79df\u6237\u5728\u79df\u6237\u89c6\u56fe\uff0c\u81ea\u884c\u521b\u5efaVPC\u3001\u7f51\u7edc\u3001\u865a\u62df\u673a\u6216\u5e94\u7528\u5b9e\u4f8b\u3002\u5f53\u540c\u65f6\u6709\u5171\u4eab\u7f51\u7edc\u9700\u6c42\u65f6\uff0c\u53ef\u4ee5\u7531\u7ba1\u7406\u5458\u521b\u5efa\u5171\u4eabVPC\u4f9b\u6240\u6709\u79df\u6237\u4f7f\u7528\u3002\u82e5\u5728\u521b\u5efaVDC\u65f6\uff0c\u5c06\u7ba1\u7406\u5458\u52a0\u5165\u4e86VDC\u4e2d\uff0c\u5219\u7ba1\u7406\u5458\u4e00\u4eba\u5728\u4e0d\u540c\u89c6\u56fe\u4e2d\uff0c\u53ef\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u3002\u8be5\u573a\u666f\u9002\u7528\u4e8e\u5982\u4e0b\u60c5\u51b5\uff1a \u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u865a\u62df\u8d44\u6e90\uff08\u5305\u542b\u7f51\u7edc\u3001\u865a\u62df\u673a\u3001\u78c1\u76d8\u7b49\uff09\u53ca\u4e1a\u52a1\u3002 \u4f01\u4e1a\u5404\u90e8\u95e8\u7684\u7f51\u7edc\u76f8\u4e92\u9694\u79bb\uff0c\u5404\u81ea\u89c4\u5212\u3001\u521b\u5efa\u548c\u7ef4\u62a4\u3002 02-FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u89e3\u51b3\u65b9\u6848\u7684\u4ef7\u503c \u00b6 \u534e\u4e3aFusionSphere\u662f\u4e1a\u754c\u9886\u5148\u7684\u670d\u52a1\u5668\u865a\u62df\u5316\u89e3\u51b3\u65b9\u6848\uff0c\u80fd\u591f\u5e2e\u52a9\u5ba2\u6237\u5e26\u6765\u5982\u4e0b\u7684\u4ef7\u503c\uff0c\u4ece\u800c\u5927\u5e45\u63d0\u5347\u6570\u636e\u4e2d\u5fc3\u57fa\u7840\u8bbe\u65bd\u7684\u6548\u7387\u3002 \u5e2e\u52a9\u5ba2\u6237\u63d0\u5347\u6570\u636e\u4e2d\u5fc3\u57fa\u7840\u8bbe\u65bd\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002 \u5e2e\u52a9\u5ba2\u6237\u6210\u500d\u7f29\u77ed\u4e1a\u52a1\u4e0a\u7ebf\u5468\u671f\u3002 \u5e2e\u52a9\u5ba2\u6237\u6210\u500d\u964d\u4f4e\u6570\u636e\u4e2d\u5fc3\u80fd\u8017\u3002 \u5229\u7528\u865a\u62df\u5316\u57fa\u7840\u8bbe\u65bd\u7684\u9ad8\u53ef\u7528\u548c\u5f3a\u6062\u590d\u80fd\u529b\uff0c\u5b9e\u73b0\u4e1a\u52a1\u5feb\u901f\u81ea\u52a8\u5316\u6545\u969c\u6062\u590d\uff0c\u964d\u4f4e\u6570\u636e\u4e2d\u5fc3\u6210\u672c\u548c\u589e\u52a0\u7cfb\u7edf\u5e94\u7528\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4\u3002 FusionSphere\u89e3\u51b3\u65b9\u6848\u901a\u8fc7\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u4f7f\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u627f\u62c5\u591a\u53f0\u670d\u52a1\u5668\u7684\u5de5\u4f5c\u3002\u901a\u8fc7\u6574\u5408\u73b0\u6709\u7684\u5de5\u4f5c\u8d1f\u8f7d\u5e76\u5229\u7528\u5269\u4f59\u7684\u670d\u52a1\u5668\u4ee5\u90e8\u7f72\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u89e3\u51b3\u65b9\u6848\uff0c\u5b9e\u73b0\u8f83\u9ad8\u7684\u6574\u5408\u7387\u3002 03-FusionCompute\u4ea7\u54c1\u5b9a\u4f4d \u00b6 FusionCompute\u662f\u4e91\u64cd\u4f5c\u7cfb\u7edf\u8f6f\u4ef6 \u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca \u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83 \u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002 \u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\uff0c\u534f\u52a9\u8fd0\u8425\u5546\u548c\u4f01\u4e1a\u6784\u7b51\u5b89\u5168\u3001\u7eff\u8272\u3001\u8282\u80fd\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u80fd\u529b\u3002 03-FusionManager\u4ea7\u54c1\u5b9a\u4f4d \u00b6 FusionManager\u63d0\u4f9b\u670d\u52a1\u7ba1\u7406\u3001\u670d\u52a1\u81ea\u52a8\u5316\u3001\u8d44\u6e90\u548c\u670d\u52a1\u4fdd\u8bc1\u7b49\u529f\u80fd\u3002 \u4ece\u5e95\u5c42\u63a5\u5165\u6765\u770b\uff0cFusionManager\u53ef\u4ee5\u63a5\u5165\u7269\u7406\u8d44\u6e90\u3001\u534e\u4e3a\u548c\u7b2c\u4e09\u65b9\u7684\u865a\u62df\u5316\u8f6f\u4ef6\u3001\u684c\u9762\u4e91\u3001\u4e91\u5b58\u50a8\u548c\u5404\u79cd\u4e91\u670d\u52a1\u3002\u5176\u4e2d\u7269\u7406\u8d44\u6e90\u5305\u62ec\u8ba1\u7b97\u8bbe\u5907\u3001\u5b58\u50a8\u8bbe\u5907\u548c\u7f51\u7edc\u8bbe\u5907\u3002 \u4ece\u4e0a\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u6765\u770b\uff0cFusionManager\u53ef\u4ee5\u4e3a\u7528\u6237\u63d0\u4f9bITaaS\u7684\u591a\u6837\u5316\u7684\u529f\u80fd\u548c\u4f53\u9a8c\u3002 \u4eceFusionManager\u672c\u8eab\u63d0\u4f9b\u7684\u529f\u80fd\u6765\u770b\uff0cFusionManager\u63d0\u4f9b\u4e86\u865a\u62df\u548c\u7269\u7406\u8d44\u6e90\u63a5\u5165\u3001\u8d44\u6e90\u81ea\u52a8\u5316\u7ba1\u7406\u53ca\u8d44\u6e90\u7684\u53ef\u7528\u6027\u548c\u5b89\u5168\u6027\u4fdd\u969c\u7b49\u3002 \u56e0\u6b64\uff0cFusionManager\u7684\u5b9a\u4f4d\u662f\u4ee5\u4e91\u670d\u52a1\u81ea\u52a8\u5316\u7ba1\u7406\u548c\u8d44\u6e90\u667a\u80fd\u8fd0\u7ef4\u4e3a\u6838\u5fc3\uff0c\u4e3a\u7528\u6237\u5e26\u6765\u201c\u654f\u6377\u3001\u7cbe\u7b80\u201d\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u7ba1\u7406\u4f53\u9a8c\u3002 05-FusionSphere\u903b\u8f91\u67b6\u6784 \u00b6 \u7ec4\u4ef6\u8bf4\u660e\uff1a \u90e8\u4ef6 \u8bf4\u660e FusionCompute \u5fc5\u9009\u90e8\u4ef6FusionCompute\u662f\u4e91\u64cd\u4f5c\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u4e3b\u8981\u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83\u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002\u540c\u65f6\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\uff0c\u534f\u52a9\u8fd0\u8425\u5546\u548c\u4f01\u4e1a\u6784\u7b51\u5b89\u5168\u3001\u7eff\u8272\u3001\u8282\u80fd\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u80fd\u529b\u3002VSA\u662f\u63d0\u4f9b\u865a\u62df\u9632\u706b\u5899\u3001DHCP\u529f\u80fd\u7684\u7cfb\u7edf\u670d\u52a1\u865a\u62df\u673a\uff0c\u4ec5\u5f53\u7528\u6237\u4f7f\u7528FusionManager\u63d0\u4f9b\u7684\u7f51\u7edc\u9ad8\u7ea7\u7279\u6027\u65f6\u5b89\u88c5\u3002 FusionManager \u53ef\u9009\u90e8\u4ef6FusionManager\u4e3b\u8981\u5bf9\u4e91\u8ba1\u7b97\u7684\u8f6f\u4ef6\u548c\u786c\u4ef6\u8fdb\u884c\u5168\u9762\u7684\u76d1\u63a7\u548c\u7ba1\u7406\uff0c\u5b9e\u73b0\u540c\u6784\uff0c\u5f02\u6784VMware\u865a\u62df\u5316\u591a\u8d44\u6e90\u6c60\u7ba1\u7406\uff1b\u8f6f\u786c\u4ef6\u7edf\u4e00\u544a\u8b66\u76d1\u63a7\uff1b\u81ea\u52a9\u670d\u52a1\u53ca\u6d41\u7a0b\u5ba1\u6279\u4e09\u5927\u5173\u952e\u80fd\u529b\uff0c\u5e76\u5411\u5185\u90e8\u8fd0\u7ef4\u7ba1\u7406\u4eba\u5458\u63d0\u4f9b\u8fd0\u8425\u4e0e\u7ba1\u7406\u95e8\u6237\u3002 FusionSphere eSDK \u53ef\u9009\u90e8\u4ef6FusionSphere eSDK\u662fFusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u5317\u5411\u7edf\u4e00\u63a5\u53e3\uff0c\u7b2c\u4e09\u65b9\u7f51\u5173\u7cfb\u7edf\u548c\u5176\u4ed6\u8fd0\u8425\u5e73\u53f0\u53ef\u4ee5\u901a\u8fc7eSDK\u8f7b\u677e\u5b8c\u6210\u65e0\u7f1d\u5bf9\u63a5\u3002eSDK\u5f00\u653e\u4e86FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u7684\u5168\u90e8\u80fd\u529b\uff0c\u5305\u62ec\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u865a\u62df\u5316\u9ad8\u7ea7\u529f\u80fd\uff0c\u8fd0\u7ef4\u7ba1\u7406\u529f\u80fd\u7b49\u3002 FusionSphere SOI \u53ef\u9009\u90e8\u4ef6FusionSphere SOI\u6027\u80fd\u76d1\u63a7\u548c\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u6765\u5bf9FusionSphere\u4e91\u8ba1\u7b97\u7cfb\u7edf\u4e2d\u865a\u62df\u673a\u7684\u6027\u80fd\u73af\u5883\u6307\u6807\u8fdb\u884c\u91c7\u96c6\u548c\u5c55\u793a\uff0c\u5efa\u7acb\u6a21\u578b\u8fdb\u884c\u5206\u6790\uff0c\u6839\u636e\u5386\u53f2\u548c\u5f53\u524d\u6570\u636e\u5bf9\u672a\u6765\u6027\u80fd\u53d8\u5316\u8fdb\u884c\u9884\u6d4b\uff0c\u4ece\u800c\u7ed9\u51fa\u5bf9\u7ba1\u7406\u5458\u7684\u7cfb\u7edf\u6027\u80fd\u7ba1\u7406\u5efa\u8bae\u3002 eBackup \u53ef\u9009\u90e8\u4ef6eBackup\u662f\u865a\u62df\u5316\u5907\u4efd\u8f6f\u4ef6\uff0c\u914d\u5408FusionCompute\u5feb\u7167\u529f\u80fd\u548cCBT\uff08Changed Block Tracking\uff09\u5907\u4efd\u529f\u80fd\u5b9e\u73b0FusionSphere\u7684\u865a\u62df\u673a\u6570\u636e\u5907\u4efd\u65b9\u6848\u3002 UltraVR \u53ef\u9009\u90e8\u4ef6UltraVR\u662f\u5bb9\u707e\u4e1a\u52a1\u7ba1\u7406\u8f6f\u4ef6\uff0c\u5229\u7528\u5e95\u5c42SAN\u5b58\u50a8\u7cfb\u7edf\u63d0\u4f9b\u7684\u5f02\u6b65\u8fdc\u7a0b\u590d\u5236\u7279\u6027\uff0c\u4e3a\u534e\u4e3aFusionSphere\u63d0\u4f9b\u865a\u62df\u673a\u5173\u952e\u6570\u636e\u7684\u6570\u636e\u4fdd\u62a4\u548c\u5bb9\u707e\u6062\u590d\u3002 06-FusionCompute\u903b\u8f91\u67b6\u6784 \u00b6 \u6a21\u5757 \u529f\u80fd CNA\uff08Compute Node Agent\uff09\uff1a\u8ba1\u7b97\u8282\u70b9\u4ee3\u7406 CNA\u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\u63d0\u4f9b\u865a\u62df\u8ba1\u7b97\u529f\u80fd\u3002\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u865a\u62df\u673a\u3002\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u8d44\u6e90\u3002 VRM\uff08Virtual resource management\uff09\uff1a\u865a\u62df\u8d44\u6e90\u7ba1\u7406 VRM\u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\u7ba1\u7406\u96c6\u7fa4\u5185\u7684\u5757\u5b58\u50a8\u8d44\u6e90\u3002\u901a\u8fc7DHCP\uff08Dynamic Host Configuration Protocol\uff09\u4e3a\u865a\u62df\u673a\u5206\u914d\u79c1\u6709IP\u5730\u5740\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u7684\u7f51\u7edc\u8d44\u6e90(IP/VLAN/DHCP)\uff0c\u4e3a\u865a\u62df\u673a\u5206\u914dIP\u5730\u5740\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u4ee5\u53ca\u865a\u62df\u673a\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u5206\u5e03\u548c\u8fc1\u79fb\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u8d44\u6e90\u7684\u52a8\u6001\u8c03\u6574\u3002\u901a\u8fc7\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u7528\u6237\u6570\u636e\u7684\u7edf\u4e00\u7ba1\u7406\uff0c\u5bf9\u5916\u63d0\u4f9b\u5f39\u6027\u8ba1\u7b97\u3001\u5b58\u50a8\u3001IP\u7b49\u670d\u52a1\u3002\u901a\u8fc7\u63d0\u4f9b\u7edf\u4e00\u7684\u64cd\u4f5c\u7ef4\u62a4\u7ba1\u7406\u63a5\u53e3\uff0c\u64cd\u4f5c\u7ef4\u62a4\u4eba\u5458\u901a\u8fc7WebUI\u8fdc\u7a0b\u8bbf\u95eeFusionCompute\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c\u7ef4\u62a4\uff0c\u5305\u542b\u8d44\u6e90\u7ba1\u7406\u3001\u8d44\u6e90\u76d1\u63a7\u3001\u8d44\u6e90\u62a5\u8868\u7b49\u3002 07-FusionCompute\u7684\u4ea7\u54c1\u529f\u80fd \u00b6 \u865a\u62df\u5316\u8ba1\u7b97\uff1a \u00b6 \u670d\u52a1\u5668\u865a\u62df\u5316: \u00b6 \u5c06\u670d\u52a1\u5668\u7269\u7406\u8d44\u6e90\u62bd\u8c61\u6210\u903b\u8f91\u8d44\u6e90\uff0c\u8ba9\u4e00\u53f0\u670d\u52a1\u5668\u53d8\u6210\u51e0\u53f0\u751a\u81f3\u4e0a\u767e\u53f0\u76f8\u4e92\u9694\u79bb\u7684\u865a\u62df\u670d\u52a1\u5668\uff0c\u4e0d\u518d\u53d7\u9650\u4e8e\u7269\u7406\u4e0a\u7684\u754c\u9650\uff0c\u800c\u662f\u8ba9CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u3001I/O\u7b49\u786c\u4ef6\u53d8\u6210\u53ef\u4ee5\u52a8\u6001\u7ba1\u7406\u7684\u201c\u8d44\u6e90\u6c60\u201d\uff0c\u4ece\u800c\u63d0\u9ad8\u8d44\u6e90\u7684\u5229\u7528\u7387\uff0c\u7b80\u5316\u7cfb\u7edf\u7ba1\u7406\u3002\u540c\u65f6\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u63d0\u5347\u865a\u62df\u5316\u6548\u7387\uff0c\u589e\u52a0\u865a\u62df\u673a\u7684\u5b89\u5168\u6027\u3002 \u8ba1\u7b97\u865a\u62df\u5316\u7684\u5206\u7c7b\uff1a \u00b6 \u88f8\u91d1\u5c5e\u865a\u62df\u5316\uff08I\u578b\u865a\u62df\u5316\uff09 FusionCompute\u7684Hypervisor\u4f7f\u7528\u88f8\u91d1\u5c5e\u67b6\u6784\uff0c\u76f4\u63a5\u5728\u786c\u4ef6\u4e0a\u5b89\u88c5\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u5c06\u786c\u4ef6\u8d44\u6e90\u865a\u62df\u5316\u3002\u7531\u4e8e\u4f7f\u7528\u4e86\u88f8\u91d1\u5c5e\u67b6\u6784\uff0cFusionCompute\u53ef\u4e3a\u7528\u6237\u5e26\u6765\u63a5\u8fd1\u670d\u52a1\u5668\u6027\u80fd\u3001\u9ad8\u53ef\u9760\u548c\u53ef\u6269\u5c55\u7684\u865a\u62df\u673a\u3002 \u5bc4\u5c45\u865a\u62df\u5316\uff08II\u578b\u865a\u62df\u5316\uff09 \u6700\u5e95\u5c42\u662f\u7269\u7406\u786c\u4ef6\uff0c\u7269\u7406\u786c\u4ef6\u4e4b\u4e0a\u662f\u4e3b\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u662fVMM\uff08Virtual machine monitor\uff1a\u865a\u62df\u673a\u7ba1\u7406\u5c42\uff09\uff1b\u5728VMM\u4e0a\u624d\u662f\u5ba2\u6237\u865a\u62df\u673a \u6240\u8c13\u7684I\u578b\u865a\u62df\u5316\u548cII\u578b\u865a\u62df\u5316\u6211\u8ba4\u4e3a\u5176\u5b9e\u6700\u6839\u672c\u7684\u533a\u522b\u5728\u4e8e\u865a\u62df\u5316\u6240\u5728\u7684\u5c42\u7ea7\u4e0d\u540c\u3002I\u578b\u865a\u62df\u5316\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5c42\u5728\u7cfb\u7edf\u5c42\u3002II\u578b\u865a\u62df\u5316\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5c42\u5728\u5e94\u7528\u5c42\u3002\u8fd9\u4e24\u4e2a\u5c42\u7ea7\u5206\u522b\u5bf9\u5e94\u4e86\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u5185\u6838\u6001\uff1f\u4ec0\u4e48\u662f\u7cfb\u7edf\u6001\uff1f\u6211\u4eec\u5f15\u5165CPU\u7684\u865a\u62df\u5316\u4e00\u8d77\u6765\u8bb2\u3002 CPU\u865a\u62df\u5316 \u00b6 \u5728\u865a\u62df\u5316\u53d1\u5c55\u7684\u65e9\u671f\u4e3b\u8981\u4ee5*\u5168\u865a\u62df\u5316*\u548c*\u534a\u865a\u62df\u5316*\u4e24\u5927\u6d41\u6d3e\u4e3a\u4e3b\uff0c\u4e24\u8005\u5404\u6709\u4f18\u7f3a\u70b9\u3002\u5982\u679c\u80fd\u9002\u5f53\u7684\u5c06\u5176\u5e94\u7528\u4e0d\u540c\u7684\u73af\u5883\u4e2d\uff0c\u5c31\u80fd\u5145\u5206\u7684\u53d1\u6325\u4e24\u8005\u7684\u7279\u6027\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u6536\u76ca\u3002\u968f\u7740\u8fd9\u4e24\u5927\u6d41\u6d3e\u7684\u5206\u6b67\u548c\u7ade\u4e89\u6108\u6f14\u6108\u70c8\uff0c\u7531Intel\u9886\u8854\u7684\u786c\u4ef6\u5382\u5546\u4e5f\u7eb7\u7eb7\u52a0\u5165\u5230\u865a\u62df\u5316\u7684\u6d6a\u6f6e\u4e2d\uff0c\u5f00\u542f\u4e86(\u5927\u822a\u6d77\u65f6\u4ee3)\u786c\u4ef6\u865a\u62df\u5316\u7684\u65f6\u4ee3\uff0c\u4ece\u6b64\u5168\u865a\u62df\u5316\u548c\u534a\u865a\u62df\u5316\u524d\u8fdb\u7684\u9053\u8def\u9010\u6e10\u6709\u4e86\u9760\u62e2\u7684\u8d8b\u52bf\u3002\u518d\u5230\u540e\u6765\u7684 \u7b2c\u4e8c\u4ee3\u7684\u5185\u5b58\u865a\u62df\u5316 \u3001 \u7b2c\u4e09\u4ee3\u7684\u603b\u7ebf\u865a\u62df\u5316 \u7684\u51fa\u73b0\u548c\u5174\u8d77\uff0c\u5f53\u4e0b\u865a\u62df\u5316\u5e02\u573a\u5df2\u7ecf\u4e0d\u518d\u4ee5\u5355\u7eaf\u5356\u5356\u865a\u62df\u5316\u8f6f\u4ef6\u4e3a\u4e3b\u8981\u76c8\u5229\u624b\u6bb5\uff0c\u800c\u662f\u5c06\u865a\u62df\u5316\u6280\u672f\u6574\u5408\u5728\u66f4\u5927\u3001\u66f4\u5b8c\u5584\u7684\u865a\u62df\u5316\u5e73\u53f0\u89e3\u51b3\u65b9\u6848\u4e2d\u3002\u5176\u4e2d\u5305\u62ecRedhat\u7684RHEV\u3001VMWare\u7684vSphere\u7b49\u3002 CPU\u7684\u590d\u7528\u6bd4\u4e0d\u5efa\u8bae\u8d85\u8fc71:4 x86 CPU\u67b6\u6784\u4e0e\u865a\u62df\u5316\u4e4b\u95f4\u7684\u5173\u7cfb \u5728\u7406\u89e3\u5404\u79cd\u865a\u62df\u5316\u7684\u5b9e\u73b0\u4e4b\u524d\uff0c\u9996\u5148\u8981\u4e86\u89e3x 86cpu\u7684\u67b6\u6784 \u6ce8\u610f \uff1aCPU\u4e3a\u4e86\u4fdd\u8bc1\u7a0b\u5e8f\u4ee3\u7801\u6267\u884c\u7684\u5b89\u5168\u6027\u3001\u591a\u7528\u6237\u7684\u72ec\u7acb\u6027\u3001\u4fdd\u62a4OS\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u63d0\u51fa\u4e86CPU\u6267\u884c\u72b6\u6001\u7684\u6982\u5ff5\u3002\u8fd9\u6837\u80fd\u591f\u9650\u5236\u4e0d\u540c\u7a0b\u5e8f\u4e4b\u95f4\u7684\u8bbf\u95ee\u80fd\u529b\uff0c\u907f\u514d\u4e00\u4e2a\u7a0b\u5e8f\u83b7\u53d6\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u7684\u5185\u5b58\u6570\u636e\u9020\u6210\u6570\u636e\u6df7\u4e71\uff0c\u540c\u65f6\u4e5f\u907f\u514d\u4e86\u7a0b\u5e8f\u9519\u8bef\u7684\u64cd\u4f5c\u7269\u7406\u786c\u4ef6\u3002\u4e00\u822cCPU\u90fd\u4f1a\u5212\u5206\u4e3a \u7528\u6237\u6001 \u548c \u5185\u6838\u6001 \uff0cx86\u7684CPU\u67b6\u6784\u66f4\u662f\u7ec6\u5206\u4e3a\u4e86Ring3~0\u56db\u79cd\u72b6\u6001\u3002 Ring3 \u7528\u6237\u6001(User Mode) \uff1a\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684\u7a0b\u5e8f\u4ee3\u7801\u9700\u8981\u53d7\u5230CPU\u7684\u68c0\u67e5\uff0c\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u53ea\u80fd\u8bbf\u95ee \u5185\u5b58\u9875\u8868\u9879\u4e2d \u89c4\u5b9a\u80fd\u88ab\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u8bbf\u95ee\u7684\u9875\u9762\u865a\u62df\u5730\u5740(\u53d7\u9650\u7684\u5185\u5b58\u8bbf\u95ee)\uff0c\u800c\u4e14\u8fd8\u53ea\u80fd\u8bbf\u95ee TSS\u4e2d\u7684I/O Permission Bitmap \u4e2d\u89c4\u5b9a\u80fd\u88ab\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u8bbf\u95ee\u7684\u7aef\u53e3\u3002\u751a\u81f3\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u3001\u4e0d\u80fd\u62a2\u5360CPU\u3002\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f(Application)\u90fd\u8fd0\u884c\u5728\u7528\u6237\u6001\u4e0a\u3002\u2014\u2014 \u5f53\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684Application\u9700\u8981\u8c03\u7528\u53ea\u80fd\u88ab\u6838\u5fc3\u6001\u4ee3\u7801\u76f4\u63a5\u8bbf\u95ee\u7684\u786c\u4ef6\u8bbe\u5907\u65f6\uff0cCPU\u4f1a\u901a\u8fc7\u7279\u522b\u7684\u63a5\u53e3\u53bb\u8c03\u7528\u6838\u5fc3\u6001\u7684\u4ee3\u7801\uff0c\u4ee5\u6b64\u6765\u5b9e\u73b0Application\u5bf9\u786c\u4ef6\u8bbe\u5907\u7684\u8c03\u7528\u3002 \u5982\u679c\u7528\u6237\u6001\u7684Application\u76f4\u63a5\u8c03\u7528\u786c\u4ef6\u8bbe\u5907\u65f6\uff0c\u5c31\u4f1a\u88abHost OS\u6355\u6349\u5230\u5e76\u89e6\u53d1\u5f02\u5e38\uff0c\u5f39\u51fa\u8b66\u544a\u7a97\u53e3\u3002 Ring0 \u6838\u5fc3\u6001(Kernel Mode) \uff1a\u662fHost OS Kernel\u8fd0\u884c\u7684\u6a21\u5f0f\uff0c\u8fd0\u884c\u5728\u6838\u5fc3\u6001\u7684\u4ee3\u7801\u53ef\u4ee5\u65e0\u9650\u5236\u7684\u5bf9\u7cfb\u7edf\u5185\u5b58\u3001\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u3001\u7f51\u5361\u63a5\u53e3\u3001\u663e\u5361\u63a5\u53e3\u7b49\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u8fdb\u884c\u8bbf\u95ee\u3002\u53ea\u6709Host OS\u80fd\u591f\u65e0\u9650\u5236\u7684\u8bbf\u95ee\u78c1\u76d8\u3001\u952e\u76d8\u7b49\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u7684\u6570\u636e\uff0c\u4f46\u662f\u9996\u5148\u9700\u8981\u5728Host OS\u4e0a\u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f\u3002 \u865a\u62df\u5316\u5b9e\u73b0 \u7b80\u5355\u6765\u8bf4\uff1aGuest OS\u548cVMM\u90fd\u5c5e\u4e8e\u8fd0\u884c\u5728Ring3\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u6216\u8005\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002GuestOS\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u65f6\u5e76\u6267\u884c\u64cd\u4f5c\u6307\u4ee4\u65f6\uff0cVMM\u4f1a\u5c06\u8be5\u64cd\u4f5c\u6307\u4ee4\u76d1\u63a7\u3001\u6355\u83b7\u3001\u68c0\u6d4b\u540e\u5c06\u6307\u4ee4\u4f20\u9012\u7ed9HostOS\uff0cHostOS\u4f1a\u5c06GuestOS\u53d1\u51fa\u7684\u8fd0\u884c\u4e8e\u7528\u6237\u6001\u7684\u64cd\u4f5c\u6307\u4ee4\u6a21\u62df\u4e3a\u6838\u5fc3\u6001\u6307\u4ee4\u3002 \u6ce8\u610f \uff1a\u5f53\u4e0a\u8ff0\u7684\u6d41\u7a0b\u662f\u975e\u5e38\u7b80\u7565\u7684\uff0c\u5728\u4e0e\u5168\u865a\u62df\u5316\u548c\u534a\u865a\u62df\u5316\u7684\u5b9e\u73b0\u8fc7\u7a0b\u96c6\u5408\u65f6\uff0c\u5c31\u4f1a\u53d8\u5f97\u975e\u5e38\u590d\u6742\u3002 \u5168\u865a\u62df\u5316\uff08Full virtualization\uff09 GuestOS\u53ef\u4ee5\u76f4\u63a5\u5728\u5168\u865a\u62df\u5316VMM\u4e0a\u8fd0\u884c\u800c\u4e0d\u9700\u8981\u5bf9GuestOS\u672c\u8eab\u7684\u6838\u5fc3\u4ee3\u7801\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u5168\u865a\u62df\u5316\u7684GuestOS\u5177\u6709\u5b8c\u5168\u7684\u7269\u7406\u673a\u7279\u6027\u3002\u65e2VMM\u4f1a\u4e3aGuestOS\u62bd\u8c61\u6a21\u62df\u51fa\u5b83\u6240\u9700\u8981\u7684\u5305\u62ecCPU\u3001\u78c1\u76d8\u3001\u5185\u5b58\u3001\u7f51\u5361\u3001\u663e\u5361\u7b49\u62bd\u8c61\u786c\u4ef6\u8d44\u6e90\uff0c\u6240\u4ee5\u5168\u865a\u62df\u5316\u7684GuestOS\u5e76\u4e0d\u4f1a\u77e5\u9053\u81ea\u5df1\u5176\u5b9e\u662f\u4e00\u53f0\u865a\u62df\u673a\u3002 \u7ed3\u5408\u4e0a\u8ff0\u7684\u865a\u62df\u5316\u5b9e\u73b0\u56fe\u6765\u770b \uff1a\u5f53\u6211\u4eec\u4f7f\u7528GuestOS\u7684\u65f6\u5019\uff0c\u4e0d\u53ef\u907f\u514d\u7684\u4f1a\u8c03\u7528GuestOS\u4e2d\u7684 \u865a\u62df\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f*\u548c *\u6838\u5fc3\u8c03\u5ea6\u7a0b\u5e8f \u6765\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u3002\u4e0eHostOS\u7684\u4e0d\u540c\u5728\u4e8e\uff0cHostOS\u8fd0\u884c\u5728CPU\u7684\u6838\u5fc3\u6001\u4e2d\uff0c\u8fd9\u5c31\u8868\u793aHostOS\u53ef\u4ee5\u76f4\u63a5\u5bf9\u786c\u4ef6\u8bbe\u5907\u8fdb\u884c\u64cd\u4f5c\u3002\u4f46GuestOS\u4f5c\u4e3a\u4e00\u4e2a\u8fd0\u884c\u5728CPU\u7528\u6237\u6001\u4e2d\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u80fd\u591f\u76f4\u63a5\u7684\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cVMM\u5f15\u7528\u4e86\u4e24\u4e2a\u673a\u5236\u2014\u2014 \u7279\u6743\u89e3\u9664 & \u9677\u5165\u6a21\u62df \u3002 \u7279\u6743\u89e3\u9664 \uff1a\u4e5f\u79f0\u4e4b\u4e3a \u7ffb\u8bd1 \uff0c\u5f53GuestOS\u9700\u8981\u8c03\u7528\u8fd0\u884c\u5728\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u65f6\uff0cVMM\u5c31\u4f1a\u52a8\u6001\u7684\u5c06\u6838\u5fc3\u6001\u6307\u4ee4\u6355\u83b7\u5e76\u8c03\u7528\u82e5\u5e72\u8fd0\u884c\u5728\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u6765\u6a21\u62df\u51fa\u671f\u671b\u5f97\u5230\u7684\u6548\u679c(GuestOS\u548cVMM\u662f\u8fd0\u884c\u5728\u7528\u6237\u6001\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f)\uff0c\u4ece\u800c\u5c06\u6838\u5fc3\u6001\u7684\u7279\u6743\u89e3\u9664\u3002\u89e3\u9664\u4e86\u6838\u5fc3\u6001\u7684\u7279\u6743\u540e\uff0c\u5c31\u80fd\u591f\u5728GuestOS\u4e2d\u6267\u884c\u5927\u90e8\u5206\u7684\u6838\u5fc3\u6001\u6307\u4ee4\u4e86\u3002\u4f46\u662f\uff0c\u8fd9\u4ecd\u7136\u4e0d\u80fd\u5b8c\u7f8e\u7684\u89e3\u51b3\u95ee\u9898\u3002\u56e0\u4e3a\u5728\u4e00\u4e2aOS\u7684\u6307\u4ee4\u96c6\u4e2d\u8fd8\u5b58\u5728\u7740\u4e00\u79cd\u654f\u611f\u6307\u4ee4(\u53ef\u80fd\u662f\u5185\u6838\u6001\uff0c\u4e5f\u53ef\u80fd\u662f\u7528\u6237\u6001)\u3002\u6b64\u65f6\u5c31\u9700\u8981\u9677\u5165\u6a21\u62df\u7684\u5b9e\u73b0\u3002 \u9677\u5165\u6a21\u62df \uff1a\u65e0\u8bba\u662fHostOS\u8fd8\u662fGuestOS\uff0c\u53ea\u8981\u662f\u4e00\u4e2aOS\u90fd\u5fc5\u7136\u4f1a\u5b58\u5728\u6709\u654f\u611f\u6307\u4ee4(reboot\u3001shutdown\u7b49)\u3002\u8bd5\u60f3\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5c06GuestOS\u91cd\u542f\uff0c\u5e76\u5728GuestOS\u4e2d\u6267\u884c\u4e86 reboot \u6307\u4ee4\uff0c\u4f46\u662f\u5374\u5c06HostOS\u7ed9\u91cd\u542f\u4e86\uff0c\u8fd9\u5c06\u4f1a\u975e\u5e38\u7cdf\u7cd5\u3002VMM\u7684\u9677\u5165\u6a21\u62df\u673a\u5236\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 e.g. \u5728GuestOS\u4e2d\u6267\u884c\u4e86\u654f\u611f\u6307\u4ee4 reboot \u65f6\uff0cVMM\u9996\u5148\u4f1a\u5c06\u654f\u611f\u6307\u4ee4 reboot \u6355\u83b7\u3001\u68c0\u6d4b\u5e76\u5224\u5b9a\u5176\u4e3a\u654f\u611f\u6307\u4ee4\u3002\u6b64\u65f6VMM\u5c31\u4f1a\u9677\u5165\u6a21\u62df\uff0c\u5c06\u654f\u611f\u6307\u4ee4 reboot \u6a21\u62df\u6210\u4e00\u4e2a\u53ea\u9488\u5bf9GuestOS\u8fdb\u884c\u64cd\u4f5c\u7684\u3001\u975e\u654f\u611f\u7684\u3001\u5e76\u4e14\u8fd0\u884c\u5728\u975e\u6838\u5fc3\u6001\u4e0a\u7684 \"reboot\" \u6307\u4ee4\uff0c\u6700\u540eCPU\u6267\u884c\u865a\u62df\u673a\u7684\u91cd\u542f\u64cd\u4f5c\u3002 \u7531\u4e8e\u5168\u865a\u62df\u5316VMM\u4f1a\u9891\u7e41\u7684\u6355\u83b7\u8fd9\u4e9b\u6838\u5fc3\u6001\u7684\u548c\u654f\u611f\u7684\u6307\u4ee4\uff0c\u5c06\u8fd9\u4e9b\u6307\u4ee4\u8fdb\u884c\u8f6c\u6362\u4e4b\u540e\uff0c\u518d\u4ea4\u7ed9CPU\u6267\u884c\u3002\u6240\u4ee5 \u7ecf\u8fc7\u4e86\u4e24\u91cd\u8f6c\u6362 \uff0c\u5bfc\u81f4\u5176\u6548\u7387\u4f1a\u6bd4\u534a\u865a\u62df\u5316\u66f4\u4f4e\uff0c\u4f46\u5168\u865a\u62df\u5316VMM\u5e94\u7528\u7a0b\u5e8f\u7684\u597d\u5904\u5728\u4e8e\u5176\u4e0d\u9700\u8981\u5bf9GuestOS\u7684\u6838\u5fc3\u6e90\u7801\u505a\u4fee\u6539\uff0c\u6240\u4ee5\u5168\u865a\u62df\u5316\u7684VMM\u53ef\u4ee5\u5b89\u88c5\u7edd\u5927\u90e8\u5206\u7684OS(\u6682\u65f6\u6765\u8bf4\u53ea\u6709\u5df2Linux\u3001open soralis\u3001BSD\u7b49\u51e0\u79cdOS\u5f00\u6e90\u4e86\u5185\u6838\u4ee3\u7801)\u3002\u5178\u578b\u7684\u5168\u865a\u62df\u5316\u8f6f\u4ef6\u6709 \u2014\u2014 VMWare\u3001Hyper-V\u3001KVM-x86(\u590d\u6742\u6307\u4ee4\u96c6)\u3002 \u5168\u865a\u62df\u5316\u7684\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f \uff1a .\u57fa\u4e8e\u9677\u5165\u6a21\u62df\u7684\u5168\u865a\u62df\u5316 \u6700\u5148\u5b9e\u73b0\u8fd9\u79cdCPU\u5168\u865a\u62df\u5316\u6280\u672f\u7684\u662fTrap-and-emulation\u6280\u672f\uff0c\u5373**\u9677\u5165\u6a21\u5f0f\u548c\u6a21\u62df\u4eff\u771f**\u6280\u672f\u3002\u8fd9\u79cd\u6280\u672f\u901a\u8fc7\u5c06OS\u9700\u6c42\u7684\u7279\u6743\u6307\u4ee4\u901a\u8fc7VMM\u81ea\u52a8\u6355\u83b7\u7684\u65b9\u5f0f\u8fd0\u884c\u540e\u8fd4\u56de\u53bbOS\u3002\u5f53OS\u6709\u7279\u6743\u6307\u4ee4\u4ea7\u751f\u65f6\uff0cVMM\u5c06\u5176\u81ea\u52a8\u6355\u83b7\uff0c\u5c06OS\u6240\u8bf7\u6c42\u7684\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u622a\u83b7\uff0c\u7136\u540e\u901a\u8fc7VMM\u8fd0\u884c\u4e4b\u540e\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9OS\u5c42\u3002VMM\u4f1a\u4f7f\u7528\u6a21\u62df\u4eff\u771f\u5c06\u7279\u6743\u6307\u4ee4\u6a21\u62df\u4eff\u771f\u7684\u65b9\u5f0f\u6267\u884c\u4e00\u904d\u3002 \u5728\u865a\u62df\u5316\u6a21\u5f0f\u4e0b\uff0c\u5c31\u5b58\u5728\u77402\u4e2d\u7279\u6b8a\u7684\u6307\u4ee4\uff1a\u7279\u6743\u6307\u4ee4\u548c\u654f\u611f\u6307\u4ee4\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u7279\u6743\u6307\u4ee4\uff1f\u4ec0\u4e48\u662f\u654f\u611f\u6307\u4ee4\uff1f **\u7279\u6743\u6307\u4ee4\uff1a**\u7cfb\u7edf\u4e2d\u6709\u4e00\u4e9b\u64cd\u4f5c\u548c\u7ba1\u7406\u5173\u952e\u7cfb\u7edf\u8d44\u6e90\u7684\u6307\u4ee4\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ea\u6709\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u4e0a\u80fd\u591f\u6b63\u786e\u8fd0\u884c\u3002\u5982\u679c\u5728\u975e\u6700\u9ad8\u7279\u6743\u7ea7\u4e0a\u8fd0\u884c\uff0c\u7279\u6743\u6307\u4ee4\u4f1a\u5f15\u53d1\u4e00\u4e2a\u5f02\u5e38\uff0c\u5904\u7406\u5668\u4f1a\u9677\u5165\u5230\u6700\u9ad8\u7279\u6743\u7ea7\uff0c\u4ea4\u7531\u7cfb\u7edf\u8f6f\u4ef6\u5904\u7406\u4e86\u3002 **\u654f\u611f\u6307\u4ee4\uff1a**\u64cd\u4f5c\u7279\u6743\u8d44\u6e90\u7684\u6307\u4ee4\uff0c\u5305\u62ec\u4fee\u6539\u865a\u62df\u673a\u7684\u8fd0\u884c\u6a21\u5f0f\u6216\u8005\u4e0b\u9762\u7269\u7406\u673a\u7684\u72b6\u6001\uff1b\u8bfb\u5199\u65f6\u949f\u3001\u4e2d\u65ad\u7b49\u5bc4\u5b58\u5668\uff1b\u8bbf\u95ee\u5b58\u50a8\u4fdd\u62a4\u7cfb\u7edf\u3001\u5730\u5740\u91cd\u5b9a\u4f4d\u7cfb\u7edf\u53ca\u6240\u6709\u7684I/O\u6307\u4ee4\u3002 \u6839\u636ePopek\u548cGoldberg\u7684\u5b9a\u4e49\uff0c\u6307\u4ee4\u96c6\u652f\u6301\u865a\u62df\u5316\u7684\u524d\u63d0\u662f\uff1a\u6240\u6709\u654f\u611f\u6307\u4ee4\u90fd\u662f\u7279\u6743\u6307\u4ee4\u3002\u5f88\u53ef\u60dcx86\u6307\u4ee4\u96c6\u4e0d\u80fd\u6ee1\u8db3\u8fd9\u4e2a\u8981\u6c42\u3002 \u865a\u62df\u5316\u573a\u666f\u4e0b\uff0c\u8981\u6c42\u5c06GuestOS\u5185\u6838\u7684\u7279\u6743\u89e3\u9664\uff0c\u4ece\u539f\u6765\u76840\u964d\u4f4e\u52301\u6216\u80053\u3002\u8fd9\u90e8\u5206\u7279\u6743\u6307\u4ee4\u5728Guest OS\u4e2d\u53d1\u751f\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4ea7\u751fTrap\uff0c\u88abVMM\u6355\u83b7\uff0c\u4ece\u800c\u7531VMM\u5b8c\u6210\u3002\u8fd9\u5c31\u662f\u865a\u62df\u7684\u672c\u8d28\u65b9\u6cd5\uff0c \u7279\u6743\u89e3\u9664\u548c\u9677\u5165\u6a21\u62df(Privilege deprivileging/Trap-and-Emulation) \u3002\u865a\u62df\u5316\u573a\u666f\u4e2d\u654f\u611f\u6307\u4ee4\u5fc5\u987b\u88abVMM\u6355\u83b7\u5e76\u5b8c\u6210\u3002\u5bf9\u4e8e\u4e00\u822c RISC \u5904\u7406\u5668\uff0c\u5982 MIPS\uff0cPowerPC \u4ee5\u53caSPARC\uff0c\u654f\u611f\u6307\u4ee4\u80af\u5b9a\u662f\u7279\u6743\u6307\u4ee4\uff0c\u4f46\u662fx86 \u4f8b\u5916\uff0cx86\u7edd\u5927\u591a\u6570\u7684\u654f\u611f\u6307\u4ee4\u662f\u7279\u6743\u6307\u4ee4\uff0c\u4f46\u662f\u7531\u4e8e\u90e8\u5206\u654f\u611f\u6307\u4ee4\u4e0d\u662f\u7279\u6743\u6307\u4ee4\uff0c\u6267\u884c\u8fd9\u4e9b\u6307\u4ee4\u7684\u65f6\u5019\u4e0d\u4f1a\u81ea\u52a8trap\u88abVMM\u6355\u83b7\u3002 \u57fa\u4e8e\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7684\u5168\u865a\u62df\u5316 \u91c7\u7528\u6a21\u62df\u4eff\u771f\u7684\u65b9\u5f0f\u6a21\u62df\u548c\u865a\u62df\u5316x86\u67b6\u6784\u7684CPU\uff0c\u4f46\u662f\u7531\u4e8ex86\u67b6\u6784\u7684CPU\u4e2d\uff0c\u4e0d\u662f\u6240\u6709\u7684\u654f\u611f\u6307\u4ee4\u90fd\u662f\u7279\u6743\u6307\u4ee4\uff0c\u6240\u4ee5\u5e76\u4e0d\u80fd\u5b8c\u5168\u7684\u89e3\u51b3\u6389\u90a3\u4e9b\u4e0d\u662f\u7279\u6743\u6307\u4ee4\u7684\u654f\u611f\u6307\u4ee4\u7684\u6a21\u62df\u4eff\u771f\u95ee\u9898\u3002\u4f8b\u5982SGDT, SLDT, SIDT \u2026 \u7531\u4e8e\u6a21\u62df\u4eff\u771f\u6280\u672f\u56fa\u6709\u7684\u7f3a\u9677\uff0c\u5bfc\u81f4\u5bf9CPU\u7684\u865a\u62df\u5316\u5e76\u4e0d\u5b8c\u6574\u3002\u6240\u4ee5\u4e5f\u5bfc\u81f4\u4e86\u57fa\u4e8ex86\u7684\u865a\u62df\u5316\u96be\u4ee5\u548c\u5176\u4ed6CPU\u67b6\u6784\u4e00\u6837\u5b9e\u73b0\u865a\u62df\u5316\u3002\u6bd4\u5982IBM\u7684Power CPU\u67b6\u6784\u5c31\u5f88\u65e9\u5177\u5907\u4e86\u865a\u62df\u5316\u7684\u6280\u672f\u5e76\u4f7f\u7528\u4e8e\u5b9e\u8df5\u3002 \u8fd9\u4e2a\u73b0\u8c61\u57281999\u5e74\u5f97\u5230\u6539\u5584\uff0cVMware\u901a\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5b8c\u6210\u4e86\u5bf9x86 CPU\u67b6\u6784\u7684\u5b8c\u5168\u865a\u62df\u5316\u3002 \u5176\u4e3b\u8981\u91c7\u7528**\u4f18\u5148\u7ea7\u538b\u7f29\u6280\u672f\uff08Ring Compression\uff09 \u548c**\u4e8c\u8fdb\u5236\u4ee3\u7801\u7ffb\u8bd1\u6280\u672f\uff08Binary Translation\uff09 \u3002\u4f18\u5148\u7ea7\u538b\u7f29\u6280\u672f\u8ba9VMM\u548cGuest\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7279\u6743\u7ea7\u4e0b\u3002\u5bf9x86\u67b6\u6784\u800c\u8a00\uff0c\u5373VMM\u8fd0\u884c\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u522bRing 0\u4e0b\uff0cGuest OS\u8fd0\u884c\u5728Ring 1\u4e0b\uff0c\u7528\u6237\u5e94\u7528\u8fd0\u884c\u5728Ring 3\u4e0b\u3002\u56e0\u6b64\uff0cGuest OS\u7684\u6838\u5fc3\u6307\u4ee4\u65e0\u6cd5\u76f4\u63a5\u4e0b\u8fbe\u5230\u8ba1\u7b97\u673a\u7cfb\u7edf\u786c\u4ef6\u6267\u884c\uff0c\u800c\u662f\u9700\u8981\u7ecf\u8fc7VMM\u7684\u6355\u83b7\u548c\u6a21\u62df\u6267\u884c\uff08\u90e8\u5206\u96be\u4ee5\u865a\u62df\u5316\u7684\u6307\u4ee4\u9700\u8981\u901a\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u3010Binary Translation\u3011\u6280\u672f\u8fdb\u884c\u8f6c\u6362\uff09\u3002 \u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u7b80\u79f0BT\uff0c\u662f\u4e00\u79cd\u76f4\u63a5\u7ffb\u8bd1\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7684\u6280\u672f\uff0c\u80fd\u591f\u628a\u4e00\u79cd\u5904\u7406\u5668\u4e0a\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7ffb\u8bd1\u5230\u53e6\u5916\u4e00\u79cd\u5904\u7406\u5668\u4e0a\u6267\u884c\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5c06\u673a\u5668\u4ee3\u7801\u4ece\u6e90\u673a\u5668\u5e73\u53f0\u6620\u5c04(\u7ffb\u8bd1)\u81f3\u76ee\u6807\u673a\u5668\u5e73\u53f0\uff0c\u5305\u62ec\u6307\u4ee4\u8bed\u4e49\u4e0e\u786c\u4ef6\u8d44\u6e90\u7684\u6620\u5c04\uff0c\u4f7f\u6e90\u673a\u5668\u5e73\u53f0\u4e0a\u7684\u4ee3\u7801\u201c\u9002\u5e94\u201d\u76ee\u6807\u5e73\u53f0\u3002\u56e0\u6b64\u7ffb\u8bd1\u540e\u7684\u4ee3\u7801\u66f4\u9002\u5e94\u76ee\u6807\u673a\u5668\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u8fd0\u884c\u65f6\u6548\u7387\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7cfb\u7edf\u662f\u4f4d\u4e8e\u5e94\u7528\u7a0b\u5e8f\u548c\u8ba1\u7b97\u673a\u786c\u4ef6\u4e4b\u95f4\u7684\u4e00\u4e2a\u8f6f\u4ef6\u5c42\uff0c\u5b83\u5f88\u597d\u5730\u964d\u4f4e\u4e86\u5e94\u7528\u7a0b\u5e8f\u548c\u5e95\u5c42\u786c\u4ef6\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u4f7f\u5f97\u4e8c\u8005\u53ef\u4ee5\u76f8\u5bf9\u72ec\u7acb\u5730\u53d1\u5c55\u548c\u53d8\u5316\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u4e5f\u662f\u4e00\u79cd\u7f16\u8bd1\u6280\u672f\uff0c\u5b83\u4e0e\u4f20\u7edf\u7f16\u8bd1\u7684\u5dee\u522b\u5728\u4e8e\u5176\u7f16\u8bd1\u5904\u7406\u5bf9\u8c61\u4e0d\u540c\u3002\u4f20\u7edf\u7f16\u8bd1\u5904\u7406\u7684\u5bf9\u8c61\u662f\u67d0\u4e00\u79cd\u9ad8\u7ea7\u8bed\u8a00\uff0c\u7ecf\u8fc7\u7f16\u8bd1\u5904\u7406\u751f\u6210\u67d0\u79cd\u673a\u5668\u7684\u76ee\u6807\u4ee3\u7801\uff1b\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5904\u7406\u7684\u5bf9\u8c61\u662f\u67d0\u79cd\u673a\u5668\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u8be5\u4e8c\u8fdb\u5236\u4ee3\u7801\u662f\u901a\u8fc7\u4f20\u7edf\u7f16\u8bd1\u8fc7\u7a0b\u751f\u6210\u7684\uff0c\u7ecf\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5904\u7406\u540e\u751f\u6210\u53e6\u4e00\u79cd\u673a\u5668\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\u3002 \u6839\u636e\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u53ef\u5206\u4e3a\u4e09\u5927\u7c7b\uff1a\u89e3\u91ca\u6267\u884c\uff0c\u9759\u6001\u7ffb\u8bd1\u548c\u52a8\u6001\u7ffb\u8bd1\u3002 \u4ee3\u7801\u89e3\u91ca\u6267\u884c \u89e3\u91ca\u6267\u884c(Interpretation)\u8fc7\u7a0b\u5bf9\u6e90\u673a\u5668\u4ee3\u7801\u4e2d\u7684\u6bcf\u6761\u6307\u4ee4\u5b9e\u65f6\u89e3\u91ca\u6267\u884c\uff0c\u7cfb\u7edf\u4e0d\u4fdd\u5b58\u4e14\u4e0d\u7f13\u5b58\u89e3\u91ca\u8fc7\u7684\u6307\u4ee4\uff0c\u4e0d\u9700\u8981\u7528\u6237\u5e72\u6d89\uff0c\u4e5f\u4e0d\u8fdb\u884c\u4efb\u4f55\u4f18\u5316\u3002\u89e3\u91ca\u5668\u76f8\u5bf9\u5bb9\u6613\u5f00\u53d1\uff0c\u6bd4\u8f83\u5bb9\u6613\u4e0e\u8001\u7684\u4f53\u7cfb\u7ed3\u6784\u9ad8\u5ea6\u517c\u5bb9\uff0c\u4f46\u6548\u7387\u5f88\u5dee\u3002 \u9759\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1 \u5728\u9759\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1(SBT\uff0cStatic BinaryTranslation)\u4e2d\uff0c\u4ee3\u7801\u5728\u8fd0\u884c\u4e4b\u524d\u88ab\u79bb\u7ebf\u7ffb\u8bd1\uff0c\u6839\u636e\u76ee\u6807\u673a\u5668\u7684\u6307\u4ee4\u7ed3\u6784\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7a0b\u5e8f\uff0c\u7136\u540e\u76f4\u63a5\u6267\u884c\u8fd9\u4e2a\u7ffb\u8bd1\u540e\u751f\u6210\u7684\u7a0b\u5e8f\u3002\u9759\u6001\u7ffb\u8bd1\u5668\u7684\u79bb\u7ebf\u7ffb\u8bd1\u8fc7\u7a0b\u4e0d\u4f1a\u7ed9\u7a0b\u5e8f\u8fd0\u884c\u5e26\u6765\u989d\u5916\u5f00\u9500\uff0c\u56e0\u6b64\u53ef\u4ee5\u5145\u5206\u91c7\u7528\u5404\u79cd\u4f18\u5316\u63aa\u65bd\u751f\u4ea7\u9ad8\u8d28\u91cf\u4ee3\u7801\uff0c\u5927\u5927\u63d0\u9ad8\u8fd0\u884c\u65f6\u6548\u7387\u3002 \u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1 \u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1(DBT\uff0cDynamic BinaryTranslation)\u5219\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5bf9\u6267\u884c\u5230\u7684\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u7ffb\u8bd1\uff0c\u514b\u670d\u4e86\u9759\u6001\u7ffb\u8bd1\u6240\u65e0\u6cd5\u89e3\u51b3\u7684\u4e00\u4e9b\u56f0\u96be\uff0c\u5982\u8fd0\u884c\u65f6\u52a8\u6001\u4fe1\u606f\u6536\u96c6\uff0c\u4ee3\u7801\u6316\u6398\uff0c\u81ea\u4fee\u6539\u4ee3\u7801\u548c\u7cbe\u786e\u4e2d\u65ad\u95ee\u9898\u3002\u800c\u4e14\u52a8\u6001\u7ffb\u8bd1\u5668\u5bf9\u7528\u6237\u5b8c\u5168\u900f\u660e\uff0c\u65e0\u9700\u7528\u6237\u5e72\u9884\u3002\u867d\u7136\u52a8\u6001\u7ffb\u8bd1\u6709\u4e0a\u8ff0\u8bf8\u591a\u4f18\u70b9\uff0c\u7ffb\u8bd1\u8fc7\u7a0b\u5374\u7531\u4e8e\u53d7\u5230\u52a8\u6001\u6267\u884c\u7684\u9650\u5236\u800c\u4e0d\u80fd\u50cf\u9759\u6001\u7ffb\u8bd1\u90a3\u6837\u8fdb\u884c\u5b8c\u5168\u7ec6\u81f4\u7684\u4f18\u5316\uff0c\u4f7f\u5f97\u7ffb\u8bd1\u751f\u6210\u7684\u4ee3\u7801\u6548\u7387\u6bd4\u9759\u6001\u7ffb\u8bd1\u5668\u5dee\u3002 \u4e09\u79cd\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u7684\u6bd4\u8f83\uff1a \u7c7b\u522b \u4f18\u70b9 \u7f3a\u70b9 \u89e3\u91ca\u6267\u884c \u5f00\u53d1\u5bb9\u6613\uff0c\u4e0d\u9700\u8981\u7528\u6237\u5e72\u9884\uff0c\u9ad8\u5ea6\u517c\u5bb9 \u6548\u7387\u5f88\u5dee \u9759\u6001\u7ffb\u8bd1 \u79bb\u7ebf\u7ffb\u8bd1\uff0c\u53ef\u4ee5\u8fdb\u884c\u66f4\u597d\u7684\u4f18\u5316\uff0c\u6548\u7387\u8f83\u9ad8 \u4f9d\u8d56\u89e3\u91ca\u5668\u3001\u8fd0\u884c\u73af\u5883\u652f\u6301\uff1b\u9700\u8981\u7ec8\u7aef\u7528\u6237\u53c2\u4e0e \u52a8\u6001\u7ffb\u8bd1 \u65e0\u9700\u89e3\u91ca\u5668\u548c\u8fd0\u884c\u73af\u5883\u7684\u652f\u6301\uff0c\u65e0\u9700\u7528\u6237\u53c2\u4e0e\uff0c\u5229\u7528\u52a8\u6001\u4fe1\u606f\u6765\u53d1\u73b0\u4f18\u5316\u7684\u673a\u4f1a \u7ffb\u8bd1\u4ee3\u7801\u6548\u7387\u4e0d\u9ad8\uff0c\u5bf9\u76ee\u6807\u673a\u5668\u6709\u989d\u5916\u7684\u5f00\u9500 \u89e3\u91ca\u6267\u884c\u662f\u6700\u6613\u5b9e\u73b0\u7684\u4e00\u79cd\u7ffb\u8bd1\u6280\u672f\uff0c\u4f46\u662f\u5176\u7e41\u7410\u7684\u5b9e\u73b0\u65b9\u5f0f\u5927\u5927\u964d\u4f4e\u4e86\u7ffb\u8bd1\u7cfb\u7edf\u7684\u6267\u884c\u6548\u7387\u3002\u9759\u6001\u7ffb\u8bd1\u867d\u7136\u80fd\u63d0\u4f9b\u9ad8\u6548\u7684\u8fd0\u884c\u65f6\u6027\u80fd\uff0c\u4f46\u7531\u4e8e\u65e0\u6cd5\u5728\u9759\u6001\u73af\u5883\u4e0b\u8986\u76d6\u6240\u6709\u4ee3\u7801\uff0c\u65e0\u6cd5\u8131\u79bb\u5bf9\u89e3\u91ca\u5668\u7684\u4f9d\u8d56\u3002\u4e0e\u4e0a\u8ff0\u4e24\u79cd\u76f8\u6bd4\uff0c\u52a8\u6001\u7ffb\u8bd1\u5f88\u597d\u7684\u89e3\u51b3\u4e86\u4ee3\u7801\u8986\u76d6\u3001\u81ea\u4fee\u6539\u4ee3\u7801\u548c\u7cbe\u786e\u4e2d\u65ad\u7b49\u8bf8\u591a\u95ee\u9898\uff0c\u540c\u65f6\u4e5f\u80fd\u63d0\u4f9b\u53ef\u63a5\u53d7\u7684\u6267\u884c\u6548\u7387\u3002\u56e0\u6b64VMware\u57fa\u4e8e\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5b9e\u73b0\u4e86x86\u67b6\u6784\u7684CPU\u7684\u865a\u62df\u5316\u3002 \u5178\u578b\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\uff1a\u88ab\u7ffb\u8bd1\u7684\u4ee3\u7801\u79f0\u4e3a\u6e90\u673a\u5668\u4ee3\u7801\uff0c\u5728\u5bbf\u4e3b\u673a\u4e0a\u8fd0\u884c\u7684\u4ee3\u7801\u79f0\u4e3a\u76ee\u6807\u673a\u5668\u4ee3\u7801\uff0c\u4e00\u4e2a\u5178\u578b\u7684\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5668\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u6a21\u5757\uff1a\u7ffb\u8bd1\u5f15\u64ce\u548c\u6267\u884c\u5f15\u64ce\u3002\u5176\u4e2d\u7ffb\u8bd1\u5668\u5f15\u64ce\u8d1f\u8d23\u5c06\u6e90\u673a\u5668\u4ee3\u7801\u7ffb\u8bd1\u4ee3\u7801\u7ffb\u8bd1\u6210\u76ee\u6807\u673a\u5668\u4ee3\u7801\uff1b\u6267\u884c\u5f15\u64ce\u8d1f\u8d23\u51c6\u5907\u76ee\u6807\u673a\u5668\u4ee3\u7801\u8fd0\u884c\u7684\u4e0a\u4e0b\u6587\u73af\u5883\uff08Execution Context\uff09\u7136\u540e\u4ece\u76ee\u6807\u673a\u5668\u4ee3\u7801\u7f13\u5b58\u4e2d\u627e\u5230\u6e90\u673a\u5668\u4ee3\u7801\u5bf9\u5e94\u7684\u76ee\u6807\u4ee3\u7801\u5e76\u6267\u884c\u3002 \u5176\u57fa\u672c\u8fd0\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a \u67e5\u627e(Lookup)\u9636\u6bb5 \u8fd9\u4e2a\u9636\u6bb5\u67e5\u8be2\u76ee\u6807\u4ee3\u7801\u5757\u662f\u5426\u5b58\u5728\u4e8e\u76ee\u6807\u4ee3\u7801\u7f13\u5b58\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u8fd4\u56de\u76ee\u6807\u5757\u5165\u53e3\u5730\u5740\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fdb\u5165\u7ffb\u8bd1\u9636\u6bb5\u3002 \u4e0a\u4e0b\u6587\u5207\u6362(Context Switch)\u9636\u6bb5 \u5f53\u4e00\u4e2a\u76ee\u6807\u4ee3\u7801\u5757\u88ab\u67e5\u8be2\u5230\u6216\u8005\u7ffb\u8bd1\u6a21\u5757\u751f\u6210\u7684\u65f6\u5019\uff0c\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7cfb\u7edf\u4f1a\u6267\u884c\u4e00\u6b21\u63a7\u5236\u6743\u8f6c\u79fb\u3002\u7cfb\u7edf\u4f1a\u628a\u63a7\u5236\u6743\u4ea4\u7ed9\u6267\u884c\u6a21\u5757\u53bb\u8fd0\u884c\u8be5\u76ee\u6807\u4ee3\u7801\u5757\uff0c\u76ee\u6807\u4ee3\u7801\u5757\u8fd0\u884c\u5b8c\u6bd5\u540e\u7cfb\u7edf\u9700\u8981\u6062\u590d\u6267\u884c\u5f15\u64ce\u7684\u63a7\u5236\u6743\u3002\u4e00\u6b21\u63a7\u5236\u6743\u8f6c\u79fb\u9700\u8981\u4fdd\u5b58\u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u3002 \u7ffb\u8bd1(Translation)\u9636\u6bb5 \u5b8c\u6210\u4ece\u6e90\u673a\u5668\u4e8c\u8fdb\u5236\u4ee3\u7801\u5230\u76ee\u6807\u673a\u5668\u4e8c\u8fdb\u5236\u4ee3\u7801\u7684\u7ffb\u8bd1\u3002\u5305\u62ec\u89e3\u7801\u3001\u4e2d\u95f4\u4ee3\u7801\u4f18\u5316\u3001\u7f16\u7801\u4e09\u4e2a\u5b50\u9636\u6bb5\u3002 \u6267\u884c\u548c\u94fe\u63a5(Executing & Linking)\u9636\u6bb5 \u5f53\u57fa\u672c\u5757\u88ab\u7ffb\u8bd1\u751f\u6210\u76ee\u6807\u4ee3\u7801\u5757\u4e4b\u540e\uff0c\u4f9d\u7167\u6e90\u4ee3\u7801\u7684\u63a7\u5236\u6d41\u5b8c\u6210\u76ee\u6807\u4ee3\u7801\u5757\u4e4b\u95f4\u7684\u76f4\u63a5\u4ee5\u53ca\u95f4\u63a5\u8df3\u8f6c\u7684\u94fe\u63a5\uff0c\u5e76\u4f9d\u6b21\u8fd0\u884c\u76ee\u6807\u4ee3\u7801\u5757\u3002 \u534a\u865a\u62df\u5316 Paravirtualization \u534a\u865a\u62df\u5316\u662f\u9700\u8981GuestOS\u534f\u52a9\u7684\u865a\u62df\u5316\u3002\u56e0\u4e3a\u5728\u534a\u865a\u62df\u5316VVMM\u4e2d\u8fd0\u884c\u7684GuestOS\uff0c\u90fd\u9700\u8981\u5c06\u5176\u5185\u6838\u6e90\u7801\u8fdb\u884c\u90fd\u8fdb\u8fc7\u4e86\u7279\u522b\u7684\u4fee\u6539\u3002\u534a\u865a\u62df\u5316VMM\u5728\u5904\u7406\u654f\u611f\u6307\u4ee4\u548c\u5185\u6838\u6001\u6307\u4ee4\u7684\u6d41\u7a0b\u4e0a\u76f8\u5bf9\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u5728\u534a\u865a\u62df\u5316VMM\u4e0a\u8fd0\u884c\u7684GuestOS\u90fd\u9700\u8981\u4fee\u6539\u5185\u6838\u4ee3\u7801\uff0c\u4e3b\u8981\u662f\u4fee\u6539GuestOS\u6307\u4ee4\u96c6\u4e2d\u7684\u654f\u611f\u6307\u4ee4\u548c\u6838\u5fc3\u6001\u6307\u4ee4\u3002\u8ba9HostOS\u5728\u6355\u6293\u5230\u6ca1\u6709\u7ecf\u8fc7\u534a\u865a\u62df\u5316VMM\u6a21\u62df\u548c\u7ffb\u8bd1\u5904\u7406\u7684GuestOS\u5185\u6838\u6001\u6307\u4ee4\u6216\u654f\u611f\u6307\u4ee4\u65f6\uff0cHostOS\u4e5f\u80fd\u591f\u51c6\u786e\u7684\u5224\u65ad\u51fa\u8be5\u6307\u4ee4\u662f\u5426\u5c5e\u4e8eGuestOS(GuestOS\u77e5\u9053\u81ea\u5df1\u662f\u865a\u62df\u673a)\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u9ad8\u6548\u7684\u907f\u514d\u4e86\u4e0a\u8ff0\u95ee\u9898\u3002\u5178\u578b\u7684\u534a\u865a\u62df\u5316\u8f6f\u4ef6\u6709\u2014\u2014Xen\u3001KVM-PowerPC(\u7b80\u6613\u6307\u4ee4\u96c6) \u534a\u865a\u62df\u5316\u9664\u4e86\u4fee\u6539\u5185\u6838\u5916\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5b9e\u73b0\u65b9\u6cd5\u2014\u2014\u5728\u6bcf\u4e00\u4e2aGuestOS\u4e2d\u5b89\u88c5\u534a\u865a\u62df\u5316\u8f6f\u4ef6\uff0c e.g. VMTools\u3001RHEVTools\u3002 \u6ce8\u610f \uff1a\u82e5\u4f7f\u7528KVM\u8fd0\u884cWindows\u65f6\uff0c\u4e00\u5b9a\u8981\u5b89\u88c5\u534a\u865a\u62df\u5316\u9a71\u52a8Tools\uff0c\u5426\u5219\u65e0\u6cd5\u5de5\u4f5c\u3002\u73b0\u5728\u4e3b\u6d41\u7684\u534a\u865a\u62df\u5316\u9a71\u52a8\u662f\u7531IBM\u548credhat\u8054\u5408\u5f00\u53d1\u4e00\u4e2a\u901a\u7528\u534a\u865a\u62df\u673a\u9a71\u52a8virtio \u3002 \u5bf9\u4e8ex86\u4f53\u7cfb\u7ed3\u6784CPU\uff0cXen\u4f7f\u7528\u8d85\u7ea7\u8c03\u7528\u6765\u66ff\u6362\u88ab\u76d1\u63a7\u7684\u64cd\u4f5c\uff0c\u5176\u4e2d\u5305\u62ecx86\u67b6\u6784\u4e0b\u7684\u654f\u611f\u6307\u4ee4\u3002Xen\u6240\u91c7\u7528\u7684\u8d85\u7ea7\u66ff\u6362\u7684\u65b9\u6cd5\u662f\u4e00\u79cd\u5168\u65b0\u7684\u8bbe\u8ba1\u7406\u5ff5\uff1a\u5b83\u5c06\u95ee\u9898\u7684\u4e2d\u5fc3\uff0c\u7531VMM\u79fb\u5411Guest OS\u81ea\u8eab\uff0c\u901a\u8fc7\u4e3b\u52a8\u7684\u65b9\u5f0f\u7531Guest OS\u53bb\u5904\u7406\u8fd9\u4e9b\u6307\u4ee4\uff0c\u800c\u4e0d\u662f\u88ab\u79fb\u4ea4\u7ed9VMM\u505a\u5904\u7406\uff0c\u5728\u8fd9\u79cd\u8bbe\u8ba1\u7406\u5ff5\u4e0b\uff0c\u4fee\u6539Guest OS\u5185\u6838\u3002 \u80fd\u4fee\u6539Guest OS\u662f\u534a\u865a\u62df\u5316\u7684\u4e00\u4e2a\u6280\u672f\u6838\u5fc3\u3002\u901a\u8fc7\u4fee\u6539Guest OS\u7684\u5185\u6838\u3002\u4f7fGuest OS\u660e\u786e\u77e5\u9053\u81ea\u5df1\u662f\u8fd0\u884c\u57281\u73af\u4e0a\uff0c\u800c\u4e0d\u662f\u901a\u5e38OS\u76840\u73af\uff0c\u6709\u6548\u7684\u907f\u514d\u4e86\u865a\u62df\u5316\u7684\u6267\u884c\u51b2\u7a81\u95ee\u9898\u3002Guest OS\u4e5f\u6e05\u695aVMM\u7ed9\u81ea\u5df1\u63d0\u4f9b\u4e86\u4e00\u4e2a\u865a\u62df\u7684\u5bc4\u5b58\u5668\u7ec4\uff0c\u5e76\u80fd\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u53bb\u8bbf\u95ee\u4ed6\u4eec\uff0c\u907f\u514d\u4e86\u8bbf\u95ee\u51b2\u7a81\u7684\u95ee\u9898\u3002 \u89e3\u51b3\u4e86\u654f\u611f\u6307\u4ee4\u95ee\u9898\u53ea\u662f\u89e3\u51b3\u4e86x86\u67b6\u6784\u4e0b\u7684\u534a\u865a\u62df\u5316\u7684\u7b2c\u4e00\u6b65\u3002\u8fd0\u884c\u57281\u73af\u7684\u64cd\u4f5c\u7cfb\u7edf\u6ca1\u6709\u6743\u9650\u6267\u884c\u7684\u6307\u4ee4\uff0c\u4ea4\u7ed90\u73af\u7684VMM\u6765\u5904\u7406\uff0c\u8fd9\u4e2a\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4e0e\u5e94\u7528\u7a0b\u5e8f\u7684\u7cfb\u7edf\u8c03\u7528\u5f88\u7c7b\u4f3c\uff1a\u7cfb\u7edf\u8c03\u7528\u7684\u4f5c\u7528\u662f\u628a\u5e94\u7528\u7a0b\u5e8f\u65e0\u6743\u6267\u884c\u7684\u6307\u4ee4\u4ea4\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u5b8c\u6210\u3002\u56e0\u6b64\uff0cXen\u5411Guest OS\u63d0\u4f9b\u4e86\u4e00\u5957\u201c\u7cfb\u7edf\u8c03\u7528\u201d\u3002\u4ee5\u65b9\u4fbfGuest OS\u8c03\u7528\uff0c\u8fd9\u90e8\u5206\u201d\u7cfb\u7edf\u8c03\u7528\u201c\u5c31\u662f\u8d85\u7ea7\u8c03\u7528Hypercall\u3002 \u8d85\u7ea7\u8c03\u7528Hypercall\u7684\u673a\u5236\u4f7f\u7528\uff0c\u4e0d\u4ec5\u4f7fx86\u67b6\u6784\u7684\u6307\u4ee4\u865a\u62df\u5316\u5f97\u4ee5\u5b9e\u73b0\uff0c\u4e5f\u4e3a\u540e\u9762\u7684\u5185\u5b58\u865a\u62df\u5316\u548cI/O\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u65b0\u7684\u601d\u8def\u548c\u65b9\u6cd5\uff0c\u8d85\u7ea7\u8c03\u7528\u548c\u4e8b\u4ef6\u901a\u9053\u662f\u6574\u4e2a\u534a\u865a\u62df\u5316\u7684\u57fa\u7840\u3002 X86\u67b6\u6784\u7279\u6743\u7ea7 x86 \u786c\u4ef6\u652f\u6301 4 \u4e2a\u7279\u6743\u7ea7 (Ring)\uff0c\u4e00\u822c\u5185\u6838\u8fd0\u884c\u5728 Ring 0\uff0c \u7528\u6237\u5e94\u7528\u8fd0\u884c\u5728 Ring 3\uff0c \u66f4\u5c0f\u7684 Ring \u6709\u6bd4\u66f4\u9ad8\u7684 Ring \u80fd\u8bbf\u95ee\u66f4\u591a\u7684\u7cfb\u7edf\u5168\u5c40\u8d44\u6e90\uff0c\u5373\u66f4\u9ad8\u7684\u7279\u6743\u3002\u6709\u4e9b\u6307\u4ee4\u53ea\u80fd\u5728 Ring 0 \u624d\u80fd\u6b63\u786e\u6267\u884c\uff0c\u5982 LGDT\u3001LMSW \u6307\u4ee4\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u7279\u6743\u6307\u4ee4\uff1b\u53e6\u5916\u6709\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5728 Ring 3 \u6b63\u786e\u6267\u884c\uff0c\u5982 SGDT\u3001 SMSW\u3001PUSHF/POPF\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u975e\u7279\u6743\u6307\u4ee4\u3002 \u6b63\u5e38\u6a21\u5f0f\u548c\u865a\u62df\u5316\u4e24\u79cd\u60c5\u51b5\u53d9\u8ff0\u4e0b\uff0c\u7279\u6743\u6a21\u5f0f\u8bf4\u660e\u5982\u4e0b\uff1a \u6b63\u5e38\u6a21\u5f0f \uff1a\u7279\u6743\u7ea7\u522b\u662f\u9488\u5bf9\u6bb5\u6765\u8bb2\u7684\uff0c\u6bb5\u63cf\u8ff0\u7b26\u7684\u6700\u540e\u4e24\u4f4d\u6807\u8bc6\u4e86\u8be5\u6bb5\u6240\u4f4d\u4e8e\u7684\u7279\u6743\u7ea7\u522b\uff0c\u6bd4\u5982\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd0\u884c\u4e8ering0\uff08\uff09\uff0c\u6b64\u65f6\u7684\u5185\u6838\u7a0b\u5e8f\u662f\u5177\u6709\u7279\u6743\u7684\uff0c\u5373ring0\u3002\u4f4d\u4e8ering3\u7528\u6237\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u7684\u65b9\u5f0f\uff0cint80\uff0c\u540e\u7279\u6743\u7ffb\u8f6c\u5165ring0\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u987a\u5229\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff08\u597d\u50cf\u662f\u7528\u6237\u7a0b\u5e8f\u8c03\u7528\u5185\u6838\u7a0b\u5e8f\u7684\u552f\u4e00\u9014\u5f84\uff09\u3002 \u865a\u62df\u5316\u60c5\u51b5\u4e0b \uff1a \u7279\u6743\u89e3\u9664 \uff1a\u662f\u6307\u89e3\u9664\u6b63\u5e38\u60c5\u51b5\u4e0b\u8fd0\u884c\u4e8ering0\u7684\u6bb5\uff0c\u6bd4\u5982\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff0c\u4e3a\u4e86\u865a\u62df\u5316\u9700\u8981\uff0c\u6b64\u65f6\u89e3\u9664\u5176\u7279\u6743\uff0c\u5c06\u5176\u8fd0\u884c\u4e8ering1\u3002\u5f53\u7528\u6237\u7a0b\u5e8f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u5176\u8df3\u8f6c\u5230\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd0\u884c\u4e8ering1\u3002\u4f46\u662f\uff0c\u5728\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\uff0c\u6709\u90e8\u5206\u6307\u4ee4\u662f\u5fc5\u987b\u5728ring0\u624d\u80fd\u6267\u884c\u7684\uff0c\u6b64\u65f6\uff0c\u4fbf\u4f1a\u81ea\u52a8\u9677\u5165\uff0c\u7136\u540e\u6a21\u62df\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7528\u6237\u7a0b\u5e8f\u8fd0\u884c\u7279\u6743\u6307\u4ee4\uff0c\u4f1a\u6709\u4e24\u6b21\u7279\u6743\u4e0b\u964d\uff0c\u4e00\u6b21\u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8fdb\u5165ring1\uff0c\u7b2c\u4e8c\u6b21\u662f\u901a\u8fc7\u7279\u6743\u6307\u4ee4\u9677\u5165\u8fdb\u5165ring0\u3002\u8fd9\u8bf4\u660e\uff0c\u4e2d\u65ad\u53d1\u751f\u65f6\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd8\u662f\u4ee5\u524d\u7684\u4f4d\u4e8e\u5185\u6838\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u5176\u8fd0\u884c\u7ea7\u522b\u4e3aring1\uff0c\u90e8\u5206\u6307\u4ee4\u8fd8\u9700\u8981\u518d\u6b21\u9677\u5165\uff0c\u624d\u80fd\u6267\u884c\u3002\u53e6\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u91cd\u8981\u95ee\u9898\uff0c\u5c31\u662f\u90e8\u5206\u654f\u611f\u975e\u7279\u6743\u6307\u4ee4\u65e0\u6cd5\u9677\u5165\u7684\u95ee\u9898\uff1a\u5b58\u5728\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u3001\u8d85\u7ea7\u8c03\u7528\u7b49\u65b9\u5f0f\uff0c\u5f3a\u8feb\u5176\u9677\u5165\uff0c\u7136\u540e\u6a21\u62df\u3002 \u5728\u4f20\u7edf\u7684 X86 \u5e73\u53f0\u4e0a\u652f\u6301\u865a\u62df\u5316\u4e0a\u5b58\u5728\u5982\u4e0b\u95ee\u9898 : X86 \u6307\u4ee4\u96c6\u4e2d\u5b58\u5728 17 \u6761\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4 \uff0c\u201c\u975e\u7279\u6743\u6307\u4ee4\u201d\u8868\u660e\u8fd9\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5728 x86 \u7684 ring 3 \u6267\u884c\uff0c \u800c\u201c\u654f\u611f\u6027\u201d\u8bf4\u660e VMM \u662f\u4e0d\u53ef\u4ee5\u8f7b\u6613\u8ba9\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u6267\u884c\u8fd9\u4e9b\u6307\u4ee4\u7684\u3002 \u8fd9 17 \u6761\u6307\u4ee4\u5728\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u6267\u884c\u6216\u8005\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u5168\u5c40\u72b6\u6001\u7684\u7834\u574f\uff0c\u5982 POPF \u6307\u4ee4\uff0c\u6216\u8005\u4f1a\u5bfc\u81f4\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u903b\u8f91\u4e0a\u7684\u95ee\u9898\uff0c\u5982 SMSW \u7b49\u8bfb\u7cfb\u7edf\u72b6\u6001\u6216\u63a7\u5236\u5bc4\u5b58\u5668\u7684\u6307\u4ee4\u3002\u4f20\u7edf\u7684 X86 \u6ca1\u6cd5\u6355\u83b7\u8fd9\u4e9b\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4\u3002 \u9664\u4e86\u90a3 17 \u6761\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4\uff0c\u5176\u4ed6\u654f\u611f\u7684\u6307\u4ee4\u90fd\u662f\u654f\u611f\u7684\u7279\u6743\u6307\u4ee4\u3002\u5728 x86 \u865a\u62df\u5316\u73af\u5883\uff0cVMM \u9700\u8981\u5bf9\u7cfb\u7edf\u8d44\u6e90\u8fdb\u884c\u7edf\u4e00\u7684\u63a7\u5236\uff0c\u6240\u4ee5\u5176\u5fc5\u7136\u8981\u5360\u636e\u6700\u9ad8\u7684\u7279\u6743\u7ea7\uff0c\u5373 Ring 0\uff0c \u6240\u4ee5\u4e3a\u4e86\u6355\u83b7\u7279\u6743\u6307\u4ee4\uff0c\u5728\u4f20\u7edf x86 \u4e0a\u4e00\u4e2a\u76f4\u63a5\u53ef\u884c\u7684\u65b9\u6cd5\u662f \u201cRing deprivileging\u201d\uff0c \u5982\u5c06\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7684\u7279\u6743\u7ea7\u4ece Ring 0\u6539\u4e3a Ring 1 \u6216 Ring 3\uff0c \u5373 \u201c\u6d88\u9664\u201d \u5ba2\u5185\u6838\u7684\u7279\u6743\uff0c\u4ee5\u4f4e\u4e8e VMM\u6240\u5728\u7684 Ring 0\uff0c \u4ece\u800c\u8ba9 VMM \u6355\u83b7\u654f\u611f\u7684\u7279\u6743\u6307\u4ee4\u3002 \u603b\u7ed3 \u534a\u865a\u62df\u5316\u7684\u601d\u60f3\u5c31\u662f\uff0c\u8ba9\u5ba2\u6237\u64cd\u4f5c\u7cfb\u7edf\u77e5\u9053\u81ea\u5df1\u662f\u5728\u865a\u62df\u673a\u4e0a\u8dd1\u7684\uff0c\u5de5\u4f5c\u5728\u975ering0\u72b6\u6001\uff0c\u90a3\u4e48\u5b83\u539f\u5148\u5728\u7269\u7406\u673a\u4e0a\u6267\u884c\u7684\u4e00\u4e9b\u7279\u6743\u6307\u4ee4\uff0c\u5c31\u4f1a\u4fee\u6539\u6210\u5176\u4ed6\u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u53ef\u4ee5\u548cVMM\u7ea6\u5b9a\u597d\u7684\uff0c\u8fd9\u5c31\u76f8\u5f53\u4e8e\uff0c\u901a\u8fc7\u4fee\u6539\u4ee3\u7801\u628a\u64cd\u4f5c\u7cfb\u7edf\u79fb\u690d\u5230\u4e00\u79cd\u65b0\u7684\u67b6\u6784\u4e0a\u6765\uff0c\u5c31\u50cf\u662f\u5b9a\u5236\u5316\u3002\u6240\u4ee5XEN\u8fd9\u79cd\u534a\u865a\u62df\u5316\u6280\u672f\uff0c\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u5b9a\u5236\u5185\u6838\u7248\u672c\uff0c\u548cx86\u3001mips\u3001arm\u8fd9\u4e9b\u5185\u6838\u7248\u672c\u3002\u8fd9\u6837\u4ee5\u6765\uff0c\u5c31\u4e0d\u4f1a\u6709\u6355\u83b7\u5f02\u5e38\u3001\u7ffb\u8bd1\u3001\u6a21\u62df\u7684\u8fc7\u7a0b\u4e86\uff0c\u6027\u80fd\u635f\u8017\u975e\u5e38\u4f4e\u3002\u8fd9\u5c31\u662fXEN\u8fd9\u79cd\u534a\u865a\u62df\u5316\u67b6\u6784\u7684\u4f18\u52bf\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48XEN\u534a\u865a\u62df\u5316\u53ea\u652f\u6301\u865a\u62df\u5316Linux\uff0c\u65e0\u6cd5\u865a\u62df\u5316windows\u539f\u56e0\uff0c\u5fae\u8f6f\u4e0d\u4fee\u6539\u4ee3\u7801\u65e0\u6cd5\u5b9e\u73b0\u534a\u865a\u62df\u5316\u3002 \u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316 HVM 2005\u5e74 \u2014 Intel\u63d0\u51fa\u5e76\u5f00\u53d1\u4e86\u7531CPU\u76f4\u63a5\u652f\u6301\u7684\u865a\u62df\u5316\u6280\u672f\u3002\u8fd9\u79cd\u865a\u62df\u5316\u6280\u672f\u5f15\u5165\u65b0\u7684CPU\u8fd0\u884c\u6a21\u5f0f\u548c\u65b0\u7684\u6307\u4ee4\u96c6\uff0c\u4f7f\u5f97VMM\u548cGuestOS\u8fd0\u884c\u4e8e\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b(VMM=Root Mode;GuestOS=Non-Root Mode)\uff0cGuestOS\u8fd0\u884c\u4e8e\u53d7\u63a7\u6a21\u5f0f\uff0c\u539f\u6765\u7684\u4e00\u4e9b\u654f\u611f\u6307\u4ee4\u5728\u53d7\u63a7\u6a21\u5f0f\u4e0b\u4f1a\u5168\u90e8\u9677\u5165VMM\uff0c\u7531VMM\u6765\u5b9e\u73b0\u6a21\u62df\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u90e8\u5206\u975e\u5185\u6838\u6001\u654f\u611f\u6307\u4ee4\u7684\u9677\u5165\u2014\u2014 \u6a21\u62df\u96be\u9898 \uff0c\u800c\u4e14\u6a21\u5f0f\u5207\u6362\u65f6\u4e0a\u4e0b\u6587\u7684\u4fdd\u5b58\u6062\u590d\u7531\u786c\u4ef6\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u63d0\u9ad8\u4e86\u9677\u5165\u2014\u2014 \u6a21\u62df\u65f6\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u6548\u7387 \u3002\u8be5\u6280\u672f\u7684\u5f15\u5165\u4f7fx86 CPU\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5b9e\u73b0\u5b8c\u5168\u865a\u62df\u5316\u3002\u6545\u7686\u88ab\u51e0\u4e4e\u6240\u6709\u4e4b\u524d\u5206\u6b67\u7684\u5404\u5927\u6d41\u6d3e\u6240\u91c7\u7528\uff0c\u5305\u62ecKVM-x86\uff0cVMWare ESX Server 3\uff0cXen 3.0 \u3002 HVM\u7684\u5206\u7c7b \uff1a 1). Intel \u2013> VT-X 2). AMD \u2013> AMD-V \u76ee\u524d\u4e3b\u8981\u6709Intel\u7684VT-x\u548cAMD\u7684AMD-V\u8fd9\u4e24\u79cd\u6280\u672f\u3002\u5176\u6838\u5fc3\u601d\u60f3\u90fd\u662f\u901a\u8fc7\u5f15\u5165\u65b0\u7684\u6307\u4ee4\u548c\u8fd0\u884c\u6a21\u5f0f\uff0c\u4f7fVMM\u548cGuest OS\u5206\u522b\u8fd0\u884c\u5728\u4e0d\u540c\u6a21\u5f0f\uff08ROOT\u6a21\u5f0f\u548c\u975eROOT\u6a21\u5f0f\uff09\u4e0b\uff0c\u4e14Guest OS\u8fd0\u884c\u5728Ring 0\u4e0b\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cGuest OS\u7684\u6838\u5fc3\u6307\u4ee4\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8fbe\u5230\u8ba1\u7b97\u673a\u7cfb\u7edf\u786c\u4ef6\u6267\u884c\uff0c\u800c\u4e0d\u9700\u8981\u7ecf\u8fc7VMM\u3002\u5f53Guest OS\u6267\u884c\u5230\u7279\u6b8a\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u5207\u6362\u5230VMM\uff0c\u8ba9VMM\u6765\u5904\u7406\u7279\u6b8a\u6307\u4ee4\u3002 1\u3001Intel VT-x\u6280\u672f \u4e3a\u5f25\u8865x86\u5904\u7406\u5668\u7684\u865a\u62df\u5316\u7f3a\u9677\uff0c\u5e02\u573a\u7684\u9a71\u52a8\u50ac\u751f\u4e86VT-x\uff0cIntel\u63a8\u51fa\u4e86\u57fa\u4e8ex86\u67b6\u6784\u7684\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672fIntel VT(Intel Virtualization Technology)\u3002 \u76ee\u524d\uff0cIntel VT\u6280\u672f\u5305\u542bCPU\u3001\u5185\u5b58\u548cI/O\u4e09\u65b9\u9762\u7684\u865a\u62df\u5316\u6280\u672f\u3002 CPU\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u5206\u4e3a\u5bf9\u5e94\u5b89\u817e\u67b6\u6784\u7684VT-i(Intel Virtualization Technology for ltanium)\u548c\u5bf9\u5e94x86\u67b6\u6784\u7684VT-x(Intel Virtualization Technology for x86)\u3002 \u5185\u5b58\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u5305\u62ecEPT(Extended Page Table)\u6280\u672f\u3002 I/O\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u7684\u4ee3\u8868VT-d(Intel Virtualization Technology for Directed I/O)\u3002 Intel VT-x\u6280\u672f\u89e3\u51b3\u4e86\u65e9\u671fx86\u67b6\u6784\u5728\u865a\u62df\u5316\u65b9\u9762\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u53ef\u4f7f\u672a\u7ecf\u4fee\u6539\u7684Guest OS\u8fd0\u884c\u5728\u7279\u6743\u7ea70\uff0c\u540c\u65f6\u51cf\u5c11VMM\u5bf9Guest OS\u7684\u5e72\u9884\u3002Intel VT-d\u6280\u672f\u901a\u8fc7\u4f7fVMM\u5c06\u7279\u5b9aI/O\u8bbe\u5907\u76f4\u63a5\u5206\u914d\u7ed9\u7279\u5b9a\u7684Guest OS\uff0c\u51cf\u5c11VMM\u5bf9I/O\u5904\u7406\u7684\u7ba1\u7406\uff0c\u4e0d\u4f46\u52a0\u901f\u6570\u636e\u4f20\u8f93\uff0c\u4e14\u6d88\u9664\u4e86\u5927\u90e8\u5206\u6027\u80fd\u5f00\u9500\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002CPU\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u7b80\u8981\u8bf4\u660e\u6d41\u7a0b\u56fe\uff1a \u6548\u6cd5IBM \u5927\u578b\u673a\uff0cVT-x\u63d0\u4f9b\u4e862 \u4e2a\u8fd0\u884c\u73af\u5883\uff1a\u6839\uff08Root\uff09\u73af\u5883\u548c\u975e\u6839\uff08Non-root\uff09\u73af\u5883\u3002\u6839\u73af\u5883\u4e13\u95e8\u4e3aVMM\u51c6\u5907\uff0c\u5f88\u50cf\u539f\u6765\u6ca1\u6709VT-x \u7684x86\uff0c\u53ea\u662f\u591a\u4e86\u5bf9VT-x \u652f\u6301\u7684\u51e0\u6761\u6307\u4ee4\u3002\u975e\u6839\u73af\u5883\u4f5c\u4e3a\u4e00\u4e2a\u53d7\u9650\u73af\u5883\u7528\u6765\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a\u3002 \u6839\u64cd\u4f5c\u6a21\u5f0f\u4e0e\u975e\u6839\u64cd\u4f5c\u6a21\u5f0f\u90fd\u6709\u76f8\u5e94\u7684\u7279\u6743\u7ea70\u81f3\u7279\u6743\u7ea73\u3002VMM\u8fd0\u884c\u5728\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea70\uff0cGuestOS\u7684\u5185\u6838\u8fd0\u884c\u5728\u975e\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea70\uff0cGuestOS\u7684\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u5728\u975e\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea73\u3002\u8fd0\u884c\u73af\u5883\u4e4b\u95f4\u76f8\u4e92\u8f6c\u5316\uff0c\u4ece\u6839\u73af\u5883\u5230\u975e\u6839\u73af\u5883\u53ebVMEntry\uff1b\u4ece\u975e\u6839\u73af\u5883\u5230\u6839\u73af\u5883\u53ebVMExit\u3002VT-x\u5b9a\u4e49\u4e86VMEntry\u64cd\u4f5c\uff0c\u4f7fCPU\u7531\u6839\u6a21\u5f0f\u5207\u6362\u5230\u975e\u6839\u6a21\u5f0f\uff0c\u8fd0\u884c\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u6307\u4ee4\u3002\u82e5\u5728\u975e\u6839\u6a21\u5f0f\u6267\u884c\u4e86\u654f\u611f\u6307\u4ee4\u6216\u53d1\u751f\u4e86\u4e2d\u65ad\u7b49\uff0c\u4f1a\u6267\u884cVMExit\u64cd\u4f5c\uff0c\u5207\u6362\u56de\u6839\u6a21\u5f0f\u8fd0\u884cVMM\u3002 \u8865\u5145\uff1a\u5185\u6838\u6001\u7528\u6237\u6001 \u00b6 --->\u5185\u6838\u6001: CPU\u53ef\u4ee5\u8bbf\u95ee\u5185\u5b58\u6240\u6709\u6570\u636e, \u5305\u62ec\u5916\u56f4\u8bbe\u5907, \u4f8b\u5982\u786c\u76d8, \u7f51\u5361. CPU\u4e5f\u53ef\u4ee5\u5c06\u81ea\u5df1\u4ece\u4e00\u4e2a\u7a0b\u5e8f\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7a0b\u5e8f --->\u7528\u6237\u6001: \u53ea\u80fd\u53d7\u9650\u7684\u8bbf\u95ee\u5185\u5b58, \u4e14\u4e0d\u5141\u8bb8\u8bbf\u95ee\u5916\u56f4\u8bbe\u5907. \u5360\u7528CPU\u7684\u80fd\u529b\u88ab\u5265\u593a, CPU\u8d44\u6e90\u53ef\u4ee5\u88ab\u5176\u4ed6\u7a0b\u5e8f\u83b7\u53d6 (2)\u4e3a\u4ec0\u4e48\u9700\u8981\u7528\u6237\u6001\u548c\u5185\u6838\u6001\uff1f --->\u7531\u4e8e\u9700\u8981\u9650\u5236\u4e0d\u540c\u7684\u7a0b\u5e8f\u4e4b\u95f4\u7684\u8bbf\u95ee\u80fd\u529b, \u9632\u6b62\u4ed6\u4eec\u83b7\u53d6\u522b\u7684\u7a0b\u5e8f\u7684\u5185\u5b58\u6570\u636e, \u6216\u8005\u83b7\u53d6\u5916\u56f4\u8bbe\u5907\u7684\u6570\u636e, \u5e76\u53d1\u9001\u5230\u7f51\u7edc, CPU\u5212\u5206\u51fa\u4e24\u4e2a\u6743\u9650\u7b49\u7ea7 : \u7528\u6237\u6001 \u548c \u5185\u6838\u6001 (3)\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u7684\u5207\u6362? \u6240\u6709\u7528\u6237\u7a0b\u5e8f\u90fd\u662f\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684, \u4f46\u662f\u6709\u65f6\u5019\u7a0b\u5e8f\u786e\u5b9e\u9700\u8981\u505a\u4e00\u4e9b\u5185\u6838\u6001\u7684\u4e8b\u60c5, \u4f8b\u5982\u4ece\u786c\u76d8\u8bfb\u53d6\u6570\u636e, \u6216\u8005\u4ece\u952e\u76d8\u83b7\u53d6\u8f93\u5165\u7b49. \u800c\u552f\u4e00\u53ef\u4ee5\u505a\u8fd9\u4e9b\u4e8b\u60c5\u7684\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf, \u6240\u4ee5\u6b64\u65f6\u7a0b\u5e8f\u5c31\u9700\u8981\u5148\u64cd\u4f5c\u7cfb\u7edf\u8bf7\u6c42\u4ee5\u7a0b\u5e8f\u7684\u540d\u4e49\u6765\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c. \u8fd9\u65f6\u9700\u8981\u4e00\u4e2a\u8fd9\u6837\u7684\u673a\u5236: \u7528\u6237\u6001\u7a0b\u5e8f\u5207\u6362\u5230\u5185\u6838\u6001, \u4f46\u662f\u4e0d\u80fd\u63a7\u5236\u5728\u5185\u6838\u6001\u4e2d\u6267\u884c\u7684\u6307\u4ee4 \u8fd9\u79cd\u673a\u5236\u53eb**\u7cfb\u7edf\u8c03\u7528\uff08System call\uff09 , \u5728CPU\u4e2d\u7684\u5b9e\u73b0\u79f0\u4e4b\u4e3a**\u9677\u9631\u6307\u4ee4 (Trap Instruction) CPU\u548cVCPU\u5bf9\u5e94\u5173\u7cfb \u5355\u53f0\u670d\u52a1\u5668\u67092\u4e2a\u7269\u7406CPU\uff0c\u6bcf\u9897CPU\u67098\u6838\uff0c\u53c8\u56e0\u4e3a\u8d85\u7ebf\u7a0b\u6280\u672f\u53ef\u4ee5\u63d0\u4f9b\u6bcf\u4e2a\u7269\u7406\u5185\u6838\u4e24\u4e2a\u5904\u7406\u7ebf\u7a0b\uff0c\u56e0\u6b64\u6bcf\u9897CPU\u670916\u7ebf\u7a0b\uff0c\u603bvCPU\u6570\u91cf\u4e3a2*8*2=32\u4e2avCPU\u3002\u603b\u8d44\u6e90\u4e3a32*2.6GHz=83.2GHz\u3002 \u865a\u62df\u673avCPU\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7\u5355\u53f0CNA\u8282\u70b9\u53ef\u7528vCPU\u6570\u91cf\u3002\u591a\u4e2a\u865a\u62df\u673a\u95f4\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2a\u7269\u7406CPU\uff0c\u56e0\u6b64\u5355CNA\u8282\u70b9\u4e0a\u8fd0\u884c\u7684\u865a\u62df\u673avCPU\u6570\u91cf\u603b\u548c\u53ef\u4ee5\u8d85\u8fc7\u5b9e\u9645vCPU\u6570\u91cf\u3002 \u5185\u5b58\u865a\u62df\u5316\uff08x86\uff09 \u00b6 FusionCompute\u652f\u6301\u5185\u5b58\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u964d\u4f4e\u5185\u5b58\u865a\u62df\u5316\u5f00\u9500\uff0c\u63d0\u5347\u7ea630%\u7684\u5185\u5b58\u8bbf\u95ee\u6027\u80fd\u3002\u540c\u65f6\uff0cFusionCompute\u652f\u6301\u667a\u80fd\u5185\u5b58\u590d\u7528\u7b56\u7565\uff0c\u81ea\u52a8\u4f18\u5316\u7ec4\u5408\u5404\u79cd\u5185\u5b58\u590d\u7528\u7b56\u7565\uff0c\u5b9e\u73b0\u5185\u5b58\u7684\u9ad8\u590d\u7528\u7387\u3002\u6bcf\u4e2a\u865a\u62df\u673a\u6700\u5927\u652f\u63011TB\u865a\u62df\u5185\u5b58\u3002FusionCompute\u652f\u6301\u4ee5\u4e0b\u5185\u5b58\u590d\u7528\u6280\u672f\uff1a \u5185\u5b58\u6c14\u6ce1\uff1a\u7cfb\u7edf\u4e3b\u52a8\u56de\u6536\u865a\u62df\u673a\u6682\u65f6\u4e0d\u7528\u7684\u7269\u7406\u5185\u5b58\uff0c\u5206\u914d\u7ed9\u9700\u8981\u590d\u7528\u5185\u5b58\u7684\u865a\u62df\u673a\u3002\u5185\u5b58\u7684\u56de\u6536\u548c\u5206\u914d\u90fd\u662f\u52a8\u6001\u7684\uff0c\u865a\u62df\u673a\u4e0a\u7684\u5e94\u7528\u65e0\u611f\u77e5\u3002\u6574\u4e2a\u7269\u7406\u670d\u52a1\u5668\u4e0a\u7684\u6240\u6709\u865a\u62df\u673a\u4f7f\u7528\u7684\u5206\u914d\u5185\u5b58\u603b\u91cf\u4e0d\u80fd\u8d85\u8fc7\u8be5\u670d\u52a1\u5668\u7684\u7269\u7406\u5185\u5b58\u603b\u91cf\u3002 \u5185\u5b58\u4ea4\u6362\uff1a\u5c06\u5916\u90e8\u5b58\u50a8\u865a\u62df\u6210\u5185\u5b58\u7ed9\u865a\u62df\u673a\u4f7f\u7528\uff0c\u5c06\u865a\u62df\u673a\u4e0a\u6682\u65f6\u4e0d\u7528\u7684\u6570\u636e\u5b58\u653e\u5230\u5916\u90e8\u5b58\u50a8\u4e0a\u3002\u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u65f6\uff0c\u518d\u4e0e\u9884\u7559\u5728\u5185\u5b58\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u4ea4\u6362\u3002 \u5185\u5b58\u5171\u4eab\uff1a\u591a\u53f0\u865a\u62df\u673a\u5171\u4eab\u6570\u636e\u5185\u5bb9\u4e3a\u96f6\u7684\u5185\u5b58\u9875\u3002 08-\u5173\u952e\u7279\u6027 \u00b6 \u5185\u5b58\u865a\u62df\u5316\u95ee\u9898 Native\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5185\u5b58\u7684\u8ba4\u8bc6\u548c\u7ba1\u7406\u4e24\u70b9\u5171\u8bc6\uff1a \u5185\u5b58\u90fd\u662f\u4ece\u7269\u7406\u5730\u57400\u5f00\u59cb\u7684 \u5185\u5b58\u90fd\u662f\u8fde\u7eed\u7684 \u5185\u5b58\u865a\u62df\u5316\u9700\u8981\u89e3\u51b3\u7684\u4e24\u4e2a\u95ee\u9898 \u7269\u7406\u5730\u57400\u53ea\u6709\u4e00\u4e2a\u65e0\u6cd5\u6ee1\u8db3\u591a\u4e2a\u865a\u62df\u673a\u7684\u5185\u5b58\u5730\u5740\u9700\u8981\u4ece0\u5f00\u59cb \u5730\u5740\u8fde\u7eed\uff1a\u867d\u7136\u53ef\u4ee5\u5206\u914d\u8fde\u7eed\u7684\u7269\u7406\u5730\u5740\uff0c\u4f46\u662f\u5185\u5b58\u4f7f\u7528\u6548\u7387\u4e0d\u9ad8\uff0c\u7f3a\u4e4f\u7075\u6d3b\u6027\u3002 \u5185\u5b58\u865a\u62df\u5316\uff1a\u628a\u7269\u7406\u673a\u7684\u771f\u5b9e\u7269\u7406\u5185\u5b58\u540c\u4e00\u7ba1\u7406\uff0c\u5305\u88c5\u6210\u591a\u4e2a\u865a\u62df\u673a\u7684\u8042\u6751\u7ed9\u82e5\u5e72\u865a\u62df\u673a\u4f7f\u7528\u3002KVM\u901a\u8fc7\u5185\u5b58\u865a\u62df\u5316\u5171\u4eab\u7269\u7406\u7cfb\u7edf\u5185\u5b58\u3002\u52a8\u6001\u5206\u914d\u7ed9\u865a\u62df\u673a\u3002 \u5728KVM\u4e2d\uff0c\u865a\u62df\u673a\u7269\u7406\u5185\u5b58\u4e3aqemu-kvm\u8fdb\u7a0b\u6240\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002KVM\u4f7f\u7528CPU\u8f85\u52a9\u7684\u5185\u5b58\u865a\u62df\u5316\u65b9\u5f0f\u3002\u5728Intel\u5e73\u53f0\u4e0a\uff0c\u5185\u5b58\u865a\u62df\u5316\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e3aEPT\uff08Extended page Table\uff09 \u865a\u62df\u673a\u8d44\u6e90\u7ba1\u7406 \u00b6 \u5ba2\u6237\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u65b9\u5f0f\u6216\u57fa\u4e8e\u6a21\u677f\u521b\u5efa\u865a\u62df\u673a\uff0c\u5e76\u5bf9\u96c6\u7fa4\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\uff0c\u5305\u62ec\u8d44\u6e90\u81ea\u884c\u52a8\u6001\u8c03\u5ea6\uff08\u5305\u542b\u8d1f\u8f7d\u5747\u8861\u548c\u52a8\u6001\u8282\u80fd\uff09\u3001\u865a\u62df\u673a\u7ba1\u7406\uff08\u5305\u542b\u521b\u5efa\u3001\u5220\u9664\u3001\u542f\u52a8\u3001\u5173\u95ed\u3001\u91cd\u542f\u3001\u4f11\u7720\u3001\u5524\u9192\u865a\u62df\u673a\u7b49\uff09\u3001\u5b58\u50a8\u8d44\u6e90\u7ba1\u7406\uff08\u5305\u542b\u666e\u901a\u78c1\u76d8\u548c\u5171\u4eab\u78c1\u76d8\u7684\u7ba1\u7406\uff09\u3001\u865a\u62df\u673a\u5b89\u5168\u7ba1\u7406\uff08\u5305\u542b\u81ea\u5b9a\u4e49VLAN\u7b49\uff09\uff0c\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u7075\u6d3b\u8c03\u6574\u865a\u62df\u673a\u7684QoS\uff08\u5305\u62ecCPU QoS\u548c\u5185\u5b58QoS\uff09\u3002 \u865a\u62df\u673a\u751f\u547d\u5468\u671f\u7ba1\u7406 \u865a\u62df\u673a\u652f\u6301\u591a\u79cd\u64cd\u4f5c\u65b9\u5f0f\uff0c\u7528\u6237\u53ef\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u7075\u6d3b\u8c03\u6574\u865a\u62df\u673a\u72b6\u6001\u3002\u865a\u62df\u673a\u64cd\u4f5c\u65b9\u5f0f\u5305\u62ec\uff1a \u521b\u5efa/\u5220\u9664/\u542f\u52a8/\u5173\u95ed/\u91cd\u542f/\u67e5\u8be2\u865a\u62df\u673a FusionCompute\u63a5\u53d7\u6765\u81ea\u4e1a\u52a1\u7ba1\u7406\u7cfb\u7edf\u7684\u521b\u5efa\u865a\u62df\u673a\u8bf7\u6c42\uff0c\u4f9d\u636e\u8bf7\u6c42\u4e2d\u5b9a\u4e49\u7684\u865a\u62df\u673a\u89c4\u683c\uff08VCPU\u3001\u5185\u5b58\u5927\u5c0f\u3001\u76d8\u5927\u5c0f\uff09\u3001\u955c\u50cf\u8981\u6c42\u3001\u7f51\u7edc\u8981\u6c42\u7b49\uff0c\u9009\u62e9\u5408\u9002\u7684\u7269\u7406\u8d44\u6e90\u521b\u5efa\u865a\u62df\u673a\uff0c\u5e76\u5728\u865a\u62df\u673a\u521b\u5efa\u5b8c\u6210\u4e4b\u540e\uff0c\u67e5\u8be2\u865a\u62df\u673a\u8fd0\u884c\u72b6\u6001\u548c\u5c5e\u6027\u3002\u5728\u4f7f\u7528\u865a\u62df\u673a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u505c\u6b62\u3001\u91cd\u542f\u3001\u751a\u81f3\u5220\u9664\u81ea\u5df1\u7684\u865a\u62df\u673a\u3002\u8be5\u529f\u80fd\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u57fa\u672c\u7684\u865a\u62df\u673a\u64cd\u4f5c\u548c\u7ba1\u7406\u529f\u80fd\uff0c\u65b9\u4fbf\u7528\u6237\u5bf9\u865a\u62df\u673a\u7684\u4f7f\u7528\u3002 \u4f11\u7720/\u5524\u9192\u865a\u62df\u673a \u5f53\u4e1a\u52a1\u5904\u4e8e\u4f4e\u8d1f\u8f7d\u91cf\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u53ea\u4fdd\u7559\u90e8\u5206\u865a\u62df\u673a\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\uff0c\u5c06\u5176\u4ed6\u7a7a\u95f2\u865a\u62df\u673a\u4f11\u7720\uff0c\u4ee5\u964d\u4f4e\u7269\u7406\u670d\u52a1\u5668\u7684\u80fd\u8017\uff1b\u5f53\u9700\u8981\u4e1a\u52a1\u9ad8\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff0c\u518d\u5c06\u865a\u62df\u673a\u5524\u9192\uff0c\u4ee5\u6ee1\u8db3\u9ad8\u8d1f\u8f7d\u4e1a\u52a1\u91cf\u6b63\u5e38\u8fd0\u884c\u9700\u6c42\u3002\u8be5\u529f\u80fd\u6ee1\u8db3\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u8d44\u6e90\u9700\u6c42\u7684\u7075\u6d3b\u6027\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002 \u865a\u62df\u673a\u6a21\u677f \u901a\u8fc7\u4f7f\u7528\u865a\u62df\u673a\u6a21\u677f\u529f\u80fd\uff0c\u7528\u6237\u53ef\u5bf9\u865a\u62df\u673a\u5b9a\u4e49\u89c4\u683c\u5316\u6a21\u677f\uff0c\u5e76\u4f7f\u7528\u6a21\u677f\u65b9\u5f0f\u5b8c\u6210\u865a\u62df\u673a\u521b\u5efa\u3002 CPU QoS \u865a\u62df\u673a\u7684CPU QoS\u7528\u4e8e\u4fdd\u8bc1\u865a\u62df\u673a\u7684\u8ba1\u7b97\u8d44\u6e90\u5206\u914d\uff0c\u9694\u79bb\u865a\u62df\u673a\u95f4\u7531\u4e8e\u4e1a\u52a1\u4e0d\u540c\u800c\u5bfc\u81f4\u7684\u8ba1\u7b97\u80fd\u529b\u76f8\u4e92\u5f71\u54cd\uff0c\u6ee1\u8db3\u4e0d\u540c\u4e1a\u52a1\u5bf9\u865a\u62df\u673a\u8ba1\u7b97\u6027\u80fd\u7684\u8981\u6c42\uff0c\u6700\u5927\u7a0b\u5ea6\u590d\u7528\u8d44\u6e90\uff0c\u964d\u4f4e\u6210\u672c\u3002 \u521b\u5efa\u865a\u62df\u673a\u65f6\uff0c\u53ef\u6839\u636e\u865a\u62df\u673a\u9884\u671f\u90e8\u7f72\u4e1a\u52a1\u5bf9CPU\u7684\u6027\u80fd\u8981\u6c42\u800c\u6307\u5b9a\u76f8\u5e94\u7684CPU QoS\u3002\u4e0d\u540c\u7684CPU QoS\u4ee3\u8868\u4e86\u865a\u62df\u673a\u4e0d\u540c\u7684\u8ba1\u7b97\u80fd\u529b\u3002\u6307\u5b9aCPU QoS\u7684\u865a\u62df\u673a\uff0c\u7cfb\u7edf\u5bf9\u5176CPU\u7684QoS\u4fdd\u969c\uff0c\u4e3b\u8981\u4f53\u73b0\u5728\u8ba1\u7b97\u80fd\u529b\u7684\u6700\u4f4e\u4fdd\u969c\u548c\u8d44\u6e90\u5206\u914d\u7684\u4f18\u5148\u7ea7\u3002 CPU QoS\u5305\u542b\u5982\u4e0b\u4e09\u4e2a\u53c2\u6570\uff1a CPU\u8d44\u6e90\u4efd\u989d CPU\u4efd\u989d\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u5728\u7ade\u4e89\u7269\u7406CPU\u8d44\u6e90\u7684\u65f6\u5019\u6309\u6bd4\u4f8b\u5206\u914d\u8ba1\u7b97\u8d44\u6e90\u3002 \u4ee5\u4e00\u4e2a\u4e3b\u9891\u4e3a2.8GHz\u7684\u5355\u6838\u7269\u7406\u4e3b\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u4e0a\u9762\u8fd0\u884c\u6709\u4e09\u53f0\u5355CPU\u7684\u865a\u62df\u673a\u3002\u4e09\u4e2a\u865a\u62df\u673aA\uff0cB\uff0cC\uff0c\u4efd\u989d\u5206\u522b\u4e3a1000\uff0c2000\uff0c4000\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673aCPU\u6ee1\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff0c\u4f1a\u6839\u636e\u4e09\u4e2a\u865a\u62df\u673a\u7684\u4efd\u989d\u6309\u6bd4\u4f8b\u5206\u914d\u8ba1\u7b97\u8d44\u6e90\u3002\u4efd\u989d\u4e3a1000\u7684\u865a\u62df\u673aA\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a400MHz\u7684\uff0c\u4efd\u989d\u4e3a2000\u7684\u865a\u62df\u673aB\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a800MHz\uff0c\u4efd\u989d\u4e3a4000\u7684\u865a\u62df\u673aC\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a1600MHz\u3002\uff08\u4ee5\u4e0a\u4e3e\u4f8b\u4ec5\u4e3a\u8bf4\u660eCPU\u4efd\u989d\u7684\u6982\u5ff5\uff0c\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\u60c5\u51b5\u4f1a\u66f4\u590d\u6742\uff09\u3002 CPU\u4efd\u989d\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u8ba1\u7b97\u8d44\u6e90\u65f6\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u72ec\u5360\u7269\u7406CPU\u8d44\u6e90\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u5747\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\uff0c\u865a\u62df\u673aA\u53ef\u4ee5\u83b7\u5f97\u6574\u4e2a\u7269\u7406\u6838\u53732.8GHz\u7684\u8ba1\u7b97\u80fd\u529b\u3002 CPU\u8d44\u6e90\u9884\u7559 CPU\u9884\u7559\u5b9a\u4e49\u4e86\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u7269\u7406CPU\u8d44\u6e90\u7684\u65f6\u5019\u5206\u914d\u7684\u6700\u4f4e\u8ba1\u7b97\u8d44\u6e90\u3002 \u5982\u679c\u865a\u62df\u673a\u6839\u636e\u4efd\u989d\u503c\u8ba1\u7b97\u51fa\u6765\u7684\u8ba1\u7b97\u80fd\u529b\u5c0f\u4e8e\u865a\u62df\u673a\u9884\u7559\u503c\uff0c\u8c03\u5ea6\u7b97\u6cd5\u4f1a\u4f18\u5148\u6309\u7167\u865a\u62df\u673a\u9884\u7559\u503c\u7684\u80fd\u529b\u628a\u8ba1\u7b97\u8d44\u6e90\u5206\u914d\u7ed9\u865a\u62df\u673a\uff0c\u5bf9\u4e8e\u9884\u7559\u503c\u8d85\u51fa\u6309\u4efd\u989d\u5206\u914d\u7684\u8ba1\u7b97\u8d44\u6e90\u7684\u90e8\u5206\uff0c\u8c03\u5ea6\u7b97\u6cd5\u4f1a\u4ece\u4e3b\u673a\u4e0a\u5176\u4ed6\u865a\u62df\u673a\u7684CPU\u4e0a\u6309\u5404\u81ea\u7684\u4efd\u989d\u6bd4\u4f8b\u6263\u9664\uff0c\u56e0\u6b64\u865a\u62df\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u4f1a\u4ee5\u9884\u7559\u503c\u4e3a\u51c6\u3002 \u5982\u679c\u865a\u62df\u673a\u6839\u636e\u4efd\u989d\u503c\u8ba1\u7b97\u51fa\u6765\u7684\u8ba1\u7b97\u80fd\u529b\u5927\u4e8e\u865a\u62df\u673a\u9884\u7559\u503c\uff0c\u90a3\u4e48\u865a\u62df\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u4f1a\u4ee5\u4efd\u989d\u503c\u8ba1\u7b97\u4e3a\u51c6\u3002 \u4ee5\u4e00\u4e2a\u4e3b\u9891\u4e3a2.8GHz\u7684\u5355\u6838\u7269\u7406\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u8fd0\u884c\u6709\u4e09\u53f0\u5355CPU\u7684\u865a\u62df\u673aA\u3001B\u3001C\uff0c\u4efd\u989d\u5206\u522b\u4e3a1000\u30012000\u30014000\uff0c\u9884\u7559\u503c\u5206\u522b\u4e3a700MHz\u30010MHz\u30010MHz\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673a\u6ee1CPU\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff1a \u865a\u62df\u673aA\u5982\u679c\u6309\u7167\u4efd\u989d\u5206\u914d\uff0c\u672c\u5e94\u5f97400MHz\uff0c\u4f46\u7531\u4e8e\u5176\u9884\u7559\u503c\u5927\u4e8e400MHz\uff0c\u56e0\u6b64\u6700\u7ec8\u8ba1\u7b97\u80fd\u529b\u6309\u7167\u9884\u7559\u503c700MHz\u7b97\u3002 \u591a\u51fa\u7684(700-400)MHz\u6309\u7167B\u548cC\u5404\u81ea\u7684\u4efd\u989d\u6bd4\u4f8b\u4eceB\u548cC\u5904\u6263\u9664\u3002 \u865a\u62df\u673aB\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a(800-100)MHz\uff0c\u865a\u62df\u673aC\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a(1600-200)MHz\u3002 CPU\u9884\u7559\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u8ba1\u7b97\u8d44\u6e90\u7684\u65f6\u5019\u624d\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u72ec\u5360\u7269\u7406CPU\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u5747\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\uff0c\u865a\u62df\u673aA\u53ef\u4ee5\u83b7\u5f97\u6574\u4e2a\u7269\u7406\u6838\u53732.8GHz\u7684\u8ba1\u7b97\u80fd\u529b\u3002 CPU\u8d44\u6e90\u9650\u989d \u63a7\u5236\u865a\u62df\u673a\u5360\u7528\u7269\u7406CPU\u8d44\u6e90\u7684\u4e0a\u9650\u3002\u4ee5\u4e00\u4e2a\u4e24CPU\u7684\u865a\u62df\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u865a\u62df\u673aCPU\u4e0a\u9650\u4e3a3GHz\uff0c\u5219\u8be5\u865a\u62df\u673a\u7684\u4e24\u4e2a\u865a\u62dfCPU\u8ba1\u7b97\u80fd\u529b\u88ab\u9650\u5236\u4e3a1.5GHz\u3002 \u5185\u5b58QoS \u63d0\u4f9b\u865a\u62df\u673a\u5185\u5b58\u667a\u80fd\u590d\u7528\u529f\u80fd\uff0c\u4f9d\u8d56\u5185\u5b58\u9884\u7559\u6bd4\u3002\u901a\u8fc7\u5185\u5b58\u6c14\u6ce1\u7b49\u5185\u5b58\u590d\u7528\u6280\u672f\u5c06\u7269\u7406\u5185\u5b58\u865a\u62df\u51fa\u66f4\u591a\u7684\u865a\u62df\u5185\u5b58\u4f9b\u865a\u62df\u673a\u4f7f\u7528\uff0c\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u80fd\u5b8c\u5168\u4f7f\u7528\u5206\u914d\u7684\u865a\u62df\u5185\u5b58\u3002\u8be5\u529f\u80fd\u53ef\u6700\u5927\u7a0b\u5ea6\u7684\u590d\u7528\u5185\u5b58\u8d44\u6e90\uff0c\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\uff0c\u4e14\u4fdd\u8bc1\u865a\u62df\u673a\u8fd0\u884c\u65f6\u81f3\u5c11\u53ef\u4ee5\u83b7\u53d6\u5230\u9884\u7559\u5927\u5c0f\u7684\u5185\u5b58\uff0c\u4fdd\u8bc1\u4e1a\u52a1\u7684\u53ef\u9760\u8fd0\u884c\u3002 \u7cfb\u7edf\u7ba1\u7406\u5458\u53ef\u6839\u636e\u7528\u6237\u5b9e\u9645\u9700\u6c42\u8bbe\u7f6e\u865a\u62df\u673a\u5185\u5b58\u9884\u7559\u3002\u5185\u5b58\u590d\u7528\u7684\u4e3b\u8981\u539f\u5219\u662f\uff1a\u4f18\u5148\u4f7f\u7528\u7269\u7406\u5185\u5b58\u3002 \u5185\u5b58QoS\u5305\u542b\u5982\u4e0b\u4e24\u4e2a\u53c2\u6570\uff1a \u5185\u5b58\u8d44\u6e90\u4efd\u989d \u5185\u5b58\u4efd\u989d\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u7684\u65f6\u5019\u6309\u6bd4\u4f8b\u5206\u914d\u5185\u5b58\u8d44\u6e90\u3002 \u5728\u865a\u62df\u673a\u7533\u8bf7\u5185\u5b58\u8d44\u6e90\uff0c\u6216\u4e3b\u673a\u91ca\u653e\u7a7a\u95f2\u5185\u5b58\uff08\u865a\u62df\u673a\u8fc1\u79fb\u6216\u5173\u95ed\uff09\u65f6\uff0c\u4f1a\u6839\u636e\u865a\u62df\u673a\u7684\u5185\u5b58\u4efd\u989d\u60c5\u51b5\u6309\u6bd4\u4f8b\u5206\u914d\u3002 \u4e0d\u540c\u4e8eCPU\u8d44\u6e90\u53ef\u5b9e\u65f6\u8c03\u5ea6\uff0c\u5185\u5b58\u8d44\u6e90\u7684\u8c03\u5ea6\u662f\u5e73\u7f13\u7684\u8fc7\u7a0b\uff0c\u5185\u5b58\u4efd\u989d\u7b56\u7565\u5728\u865a\u62df\u673a\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u4e0d\u65ad\u8fdb\u884c\u5fae\u8c03\uff0c\u4f7f\u865a\u62df\u673a\u7684\u5185\u5b58\u83b7\u53d6\u91cf\u9010\u6e10\u8d8b\u4e8e\u6bd4\u4f8b\u3002 \u4ee56G\u5185\u5b58\u89c4\u683c\u7684\u4e3b\u673a\u4e3a\u4f8b\uff0c\u5047\u8bbe\u5176\u4e0a\u8fd0\u884c\u6709\u4e09\u53f04G\u5185\u5b58\u89c4\u683c\u7684\u865a\u62df\u673a\uff0c\u5185\u5b58\u4efd\u989d\u5206\u522b\u4e3a20480\u300120480\u300140960\uff0c\u90a3\u4e48\u5176\u5185\u5b58\u5206\u914d\u6bd4\u4f8b\u4e3a1:1:2\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673a\u5185\u90e8\u5747\u9010\u6b65\u52a0\u538b\uff0c\u7b56\u7565\u4f1a\u6839\u636e\u4e09\u4e2a\u865a\u62df\u673a\u7684\u4efd\u989d\u6309\u6bd4\u4f8b\u5206\u914d\u8c03\u6574\u5185\u5b58\u8d44\u6e90\uff0c\u6700\u7ec8\u4e09\u4e2a\u865a\u62df\u673a\u83b7\u5f97\u7684\u5185\u5b58\u91cf\u7a33\u5b9a\u4e3a1.5G\u30011.5G\u30013G\u3002 \u5185\u5b58\u4efd\u989d\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u65f6\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u83b7\u5f97\u5185\u5b58\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u6ca1\u6709\u5185\u5b58\u538b\u529b\u4e14\u672a\u8fbe\u5230\u9884\u7559\u503c\uff0c\u865a\u62df\u673aA\u5185\u5b58\u9700\u6c42\u538b\u529b\u589e\u5927\u540e\uff0c\u53ef\u4ee5\u4ece\u7a7a\u95f2\u5185\u5b58\u3001\u865a\u62df\u673aB\u548cC\u4e2d\u83b7\u53d6\u5185\u5b58\u8d44\u6e90\uff0c\u76f4\u5230\u865a\u62df\u673aA\u8fbe\u5230\u4e0a\u9650\u6216\u7a7a\u95f2\u5185\u5b58\u7528\u5c3d\u4e14\u865a\u62df\u673aB\u548cC\u8fbe\u5230\u9884\u7559\u503c\u3002\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5f53\u4efd\u989d\u4e3a40960\u7684\u865a\u62df\u673a\u6ca1\u6709\u5185\u5b58\u538b\u529b\uff08\u5185\u5b58\u8d44\u6e90\u9884\u7559\u4e3a1G\uff09\uff0c\u90a3\u4e48\u4efd\u989d\u4e3a20480\u7684\u4e24\u4e2a\u865a\u62df\u673a\u7406\u8bba\u4e0a\u53ef\u4ee5\u5404\u83b7\u5f97\u6700\u59272.5G\u7684\u5185\u5b58\u3002 \u5185\u5b58\u8d44\u6e90\u9884\u7559 \u5185\u5b58\u9884\u7559\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u7684\u65f6\u5019\u5206\u914d\u7684\u5185\u5b58\u4e0b\u9650\uff0c\u80fd\u591f\u786e\u4fdd\u865a\u62df\u673a\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4e00\u5b9a\u53ef\u4f7f\u7528\u7684\u5185\u5b58\u8d44\u6e90\u3002 \u9884\u7559\u7684\u5185\u5b58\u88ab\u4f1a\u865a\u62df\u673a\u72ec\u5360\u3002\u5373\uff0c\u4e00\u65e6\u5185\u5b58\u88ab\u67d0\u4e2a\u865a\u62df\u673a\u9884\u7559\uff0c\u5373\u4f7f\u865a\u62df\u673a\u5b9e\u9645\u5185\u5b58\u4f7f\u7528\u91cf\u4e0d\u8d85\u8fc7\u9884\u7559\u91cf\uff0c\u5176\u4ed6\u865a\u62df\u673a\u4e5f\u65e0\u6cd5\u62a2\u5360\u8be5\u865a\u62df\u673a\u7684\u7a7a\u95f2\u5185\u5b58\u8d44\u6e90\u3002 \u865a\u62df\u8d44\u6e90\u52a8\u6001\u590d\u7528 \u865a\u62df\u673a\u7a7a\u95f2\u65f6\uff0c\u53ef\u81ea\u52a8\u6839\u636e\u53ef\u8bbe\u7f6e\u7684\u6761\u4ef6\u5c06\u5176\u90e8\u5206\u5185\u5b58\u3001CPU\u7b49\u8d44\u6e90\u91ca\u653e\u5e76\u5f52\u8fd8\u5230\u865a\u62df\u8d44\u6e90\u6c60\uff0c\u4ee5\u4f9b\u7cfb\u7edf\u5206\u914d\u7ed9\u5176\u4ed6\u865a\u62df\u673a\u4f7f\u7528\u3002\u7528\u6237\u53ef\u5728Web\u754c\u9762\u4e0a\u5bf9\u52a8\u6001\u8d44\u6e90\u8fdb\u884c\u76d1\u63a7\u3002 \u8bf4\u660e\uff1a \u5355\u4e2a\u4e3b\u673aCPU\u590d\u7528\u7387\u8d8a\u4f4e\uff0c\u4e3b\u673a\u53ca\u865a\u62df\u673a\u6027\u80fd\u8d8a\u597d\uff0c\u5efa\u8bae\u53d1\u653e\u4e1a\u52a1\u53ca\u540e\u671f\u7ef4\u62a4\u65f6\uff0c\u5355\u4e2a\u4e3b\u673aCPU\u590d\u7528\u7387\u4e0d\u8d85\u8fc74:1\u3002 \u865a\u62df\u673a\u7edf\u8ba1 \u652f\u6301\u865a\u62df\u673a\u3001\u78c1\u76d8\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u7edf\u8ba1\u62a5\u8868\u3002 \u865a\u62df\u673a\u8d44\u6e90\u52a8\u6001\u8c03\u6574 \u00b6 FusionCompute\u652f\u6301\u865a\u62df\u673a\u8d44\u6e90\u52a8\u6001\u8c03\u6574\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u52a8\u6001\u8c03\u6574\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5\u3002\u865a\u62df\u673a\u8d44\u6e90\u8c03\u6574\u5305\u62ec\uff1a \u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574VCPU\u6570\u76ee \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\uff08\u5173\u673a\uff09\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u6216\u8005\u51cf\u5c11\u865a\u62df\u673a\u7684VCPU\u6570\u76ee\u3002\u901a\u8fc7\u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u865a\u62df\u673aVCPU\u6570\u76ee\uff0c\u53ef\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u4e0a\u4e1a\u52a1\u8d1f\u8f7d\u53d1\u751f\u53d8\u5316\u65f6\u5bf9\u8ba1\u7b97\u80fd\u529b\u7075\u6d3b\u8c03\u6574\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u5185\u5b58\u5927\u5c0f \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u6216\u8005\u51cf\u5c11\u865a\u62df\u673a\u7684\u5185\u5b58\u5bb9\u91cf\u3002\u901a\u8fc7\u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u5185\u5b58\u5927\u5c0f\uff0c\u53ef\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u4e0a\u4e1a\u52a1\u8d1f\u8f7d\u53d1\u751f\u53d8\u5316\u65f6\u5bf9\u5185\u5b58\u7075\u6d3b\u8c03\u6574\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u6dfb\u52a0/\u5220\u9664\u7f51\u5361 \u865a\u62df\u673a\u5728\u7ebf/\u79bb\u7ebf\u72b6\u6001\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u6302\u8f7d\u6216\u5378\u8f7d\u865a\u62df\u7f51\u5361\uff0c\u4ee5\u6ee1\u8db3\u4e1a\u52a1\u5bf9\u7f51\u5361\u6570\u91cf\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u6302\u8f7d\u865a\u62df\u78c1\u76d8 \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6302\u8f7d\u865a\u62df\u78c1\u76d8\uff0c\u5728\u4e0d\u4e2d\u65ad\u7528\u6237\u4e1a\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u865a\u62df\u673a\u7684\u5b58\u50a8\u5bb9\u91cf\uff0c\u5b9e\u73b0\u5b58\u50a8\u8d44\u6e90\u7684\u7075\u6d3b\u4f7f\u7528\u3002 \u8bf4\u660e\uff1a \u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u4e14\u865a\u62df\u673a\u4f7f\u7528\u7684\u78c1\u76d8\u662f\u865a\u62df\u5316\u5b58\u50a8\u65f6\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u589e\u52a0\u5df2\u6709\u78c1\u76d8\u5bb9\u91cf\u7684\u65b9\u5f0f\u8fdb\u884c\u865a\u62df\u673a\u5b58\u50a8\u5bb9\u91cf\u7684\u6269\u5bb9\u3002 \u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u5ea6\uff08DRS\uff09\u548c\u7535\u6e90\u7ba1\u7406\uff08DPM\uff09 \u00b6 DRS FusionSphere\u53ef\u4ee5\u5728\u865a\u62df\u673a\u521b\u5efa\u548c\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u611f\u77e5\u5168\u5c40\u7269\u7406\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u5e76\u901a\u8fc7\u667a\u80fd\u8c03\u5ea6\u7b97\u6cd5\uff0c\u786e\u5b9a\u9002\u5408\u865a\u62df\u673a\u8fd0\u884c\u7684\u6700\u4f73\u4e3b\u673a\uff0c\u5e76\u901a\u8fc7\u70ed\u8fc1\u79fb\u7b49\u624b\u6bb5\u5c06\u865a\u62df\u673a\u8fd0\u884c\u5728\u6700\u4f73\u4e3b\u673a\u4e4b\u4e0a\uff0c\u4ece\u800c\u63d0\u5347\u5168\u5c40\u4e1a\u52a1\u4f53\u9a8c\u3002 \u5b9a\u4e49 \u52a8\u6001\u8d44\u6e90\u8c03\u5ea6DRS\uff08Dynamic Resource Scheduler\uff09\uff0c\u6307\u91c7\u7528\u667a\u80fd\u8d1f\u8f7d\u5747\u8861\u8c03\u5ea6\u7b97\u6cd5\uff0c\u5e76\u7ed3\u5408\u52a8\u6001\u7535\u6e90\u7ba1\u7406\u529f\u80fd\uff0c\u901a\u8fc7\u5468\u671f\u6027\u68c0\u67e5\u540c\u4e00\u96c6\u7fa4\u8d44\u6e90\u5185\u5404\u4e2a\u4e3b\u673a\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u5728\u4e0d\u540c\u7684\u4e3b\u673a\u95f4\u8fc1\u79fb\u865a\u62df\u673a\uff0c\u4ece\u800c\u5b9e\u73b0\u540c\u4e00\u96c6\u7fa4\u5185\u4e0d\u540c\u4e3b\u673a\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\uff0c\u5e76\u6700\u5927\u7a0b\u5ea6\u964d\u4f4e\u7cfb\u7edf\u7684\u529f\u8017\u3002 \u7cfb\u7edf\u8f7b\u8f7d\u65f6\uff0c\u5c06\u8fc1\u79fb\u90e8\u5206\u865a\u62df\u673a\uff0c\u5e76\u5c06\u5176\u96c6\u4e2d\u5728\u90e8\u5206\u7269\u7406\u4e3b\u673a\uff0c\u968f\u5373\u5c06\u7a7a\u95f2\u4e3b\u673a\u4e0b\u7535\u3002 \u7cfb\u7edf\u91cd\u8f7d\u65f6\uff0c\u5c06\u542f\u52a8\u90e8\u5206\u7269\u7406\u4e3b\u673a\uff0c\u5e76\u5c06\u865a\u62df\u673a\u5747\u8861\u5206\u5e03\u5728\u5404\u4e3b\u673a\u4e2d\uff0c\u4ee5\u4fdd\u8bc1\u8d44\u6e90\u7684\u4f9b\u5e94\u548c\u7528\u6237\u7684\u4f53\u9a8c\u3002 \u901a\u8fc7\u8ba1\u5212\u4efb\u52a1\uff0c\u53ef\u6839\u636e\u7cfb\u7edf\u8fd0\u884c\u7684\u60c5\u51b5\uff0c\u5206\u65f6\u6bb5\u91c7\u53d6\u4e0d\u540c\u7684\u8d44\u6e90\u8c03\u5ea6\u7b56\u7565\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u7684\u7528\u6237\u9700\u6c42\u3002 \u4f9d\u8d56\u5173\u7cfb \u865a\u62df\u673a\u5b58\u5728\u4ee5\u4e0b\u7ed1\u5b9a\u5173\u7cfb\u65f6\uff0c\u52a8\u6001\u8d44\u6e90\u8c03\u5ea6\u5bf9\u8be5\u865a\u62df\u673a\u5931\u6548\u3002 \u7ed1\u5b9a\u4e3b\u673a \u7ed1\u5b9a\u56fe\u5f62\u5904\u7406\u5668 \u7ed1\u5b9aUSB\u8bbe\u5907 DPM DPM:\u52a8\u6001\u7535\u6e90\u7ba1\u7406\uff08Dynamic Power Management\uff09\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\uff0c\u667a\u80fd\u7684\u5c06\u90e8\u5206\u4e3b\u673a\u4e0a\u4e0b\u7535\u3002 \u5bf9\u5e94FusionCompute\u4e2d\u7684\u201c\u7535\u6e90\u7ba1\u7406\u81ea\u52a8\u5316\u201d\uff1a\u7535\u6e90\u7ba1\u7406\u81ea\u52a8\u5316\u529f\u80fd\u4f1a\u5468\u671f\u7684\u68c0\u67e5\u96c6\u7fa4\u4e2d\u7684\u670d\u52a1\u5668\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u96c6\u7fa4\u4e2d\u8d44\u6e90\u5229\u7528\u7387\u4e0d\u8db3\uff0c\u5219\u4f1a\u5c06\u591a\u4f59\u7684\u4e3b\u673a\u4e0b\u7535\u8282\u80fd\uff0c\u4e0b\u7535\u524d\u4f1a\u5c06\u5c06\u8981\u4e0b\u7535\u4e3b\u673a\u4e0a\u7684\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u5230\u5176\u4ed6\u4e3b\u673a\uff1b\u5982\u679c\u96c6\u7fa4\u8d44\u6e90\u8fc7\u5ea6\u5229\u7528\uff0c\u5219\u4f1a\u5c06\u79bb\u7ebf\u7684\u4e3b\u673a\u5546\u5e97\uff0c\u4ee5\u589e\u52a0\u96c6\u7fa4\u8d44\u6e90\uff0c\u5978\u60c5\u4e3b\u673a\u7684\u8d1f\u8377\u3002 \u865a\u62df\u7f51\u5361 \u00b6 \u865a\u62df\u7f51\u5361\u5747\u6709\u81ea\u5df1\u7684IP\u5730\u5740\u3001MAC\u5730\u5740\uff0c\u4ece\u7f51\u7edc\u89d2\u5ea6\u6765\u770b\uff0c\u865a\u62df\u7f51\u5361\u4e0e\u7269\u7406\u7f51\u5361\u4e00\u81f4\u3002FusionCompute\u652f\u6301\u667a\u80fd\u7f51\u5361\uff0c\u5b9e\u73b0\u591a\u961f\u5217\u3001\u865a\u62df\u4ea4\u6362\u3001QoS\u3001\u4e0a\u884c\u94fe\u8def\u805a\u5408\u529f\u80fd\uff0c\u63d0\u5347\u865a\u62df\u7f51\u5361\u7684I/O\u6027\u80fd\u3002 \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff08DVS\uff09 \u00b6 \u8ba1\u7b97\u865a\u62df\u5316\u9a71\u52a8\u7f51\u7edc\u865a\u62df\u5316\u7684\u53d1\u5c55\u3002\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\uff0c\u4e00\u53f0\u670d\u52a1\u5668\u8fd0\u884c\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u901a\u8fc7\u7269\u7406\u7f51\u7ebf\u4e0e\u4ea4\u6362\u673a\u76f8\u8fde\uff0c\u7531\u4ea4\u6362\u673a\u5b9e\u73b0\u4e0d\u540c\u7684\u4e3b\u673a\u7684\u4ea4\u6362\u3001\u6d41\u91cf\u63a7\u5236\u3001\u5b89\u5168\u63a7\u5236\u7b49\u529f\u80fd\u3002\u5728\u8ba1\u7b97\u865a\u62df\u5316\u540e\uff0c\u4e00\u53f0\u670d\u52a1\u5668\u865a\u62df\u5316\u6210\u591a\u53f0\u7684\u865a\u62df\u7684\u4e3b\u673a\uff0c\u6bcf\u4e2a\u865a\u62df\u4e3b\u673a\u6709\u81ea\u5df1\u7684CPU\u3001\u5185\u5b58\u548c\u7f51\u5361\u3002\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u7684\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u65e2\u9700\u8981\u7ef4\u6301\u539f\u6709\u7684\u901a\u4fe1\uff0c\u540c\u65f6\u7531\u4e8e\u5171\u4eab\u7269\u7406\u8bbe\u5907\uff0c\u5f15\u51fa\u4e86\u65b0\u7684\u5b89\u5168\u9694\u79bb\u3001\u4ee5\u53ca\u5bf9\u6d41\u63a7\u7684\u66f4\u9ad8\u7684\u9700\u6c42\uff0c\u5bf9\u865a\u62df\u4ea4\u6362\u6280\u672f\u7684\u8bc9\u6c42\u7531\u6b64\u4ea7\u751f\u3002 \u4e3a\u7edf\u4e00\u548c\u7b80\u5316\u5bf9\u5404\u53f0\u4e3b\u673a\u7684\u865a\u62df\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u7ba1\u7406\uff0c\u4e1a\u754c\u5f15\u5165\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u3002\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u4e00\u65b9\u9762\u53ef\u4ee5\u5bf9\u591a\u53f0\u670d\u52a1\u5668\u7684\u865a\u62df\u4ea4\u6362\u673a\u7edf\u4e00\u914d\u7f6e\u3001\u7ba1\u7406\u548c\u76d1\u63a7\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u865a\u62df\u673a\u5728\u670d\u52a1\u5668\u4e4b\u95f4\u8fc1\u79fb\u65f6\u7f51\u7edc\u914d\u7f6e\u7684\u4e00\u81f4\u6027\u3002 \u7b80\u5316\u548c\u589e\u5f3aFusionSphere\u73af\u5883\u4e2d\u7684\u865a\u62df\u673a\u7f51\u7edc\u8fde\u63a5\uff0c\u5e76\u63d0\u4f9b\u7edf\u4e00\u7ba1\u7406\u5165\u53e3\u3001\u5b89\u5168\u7ec4\u7b49\u7f51\u7edc\u529f\u80fd\u3002 \u5b9a\u4e49 \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u7ba1\u7406\uff0c\u5373\u5b9e\u73b0\u7cfb\u7edf\u7ba1\u7406\u5458\u5bf9\u4e00\u81f3\u591a\u53f0CNA\u670d\u52a1\u5668\u4e0a\u7684\u865a\u62df\u4ea4\u6362\u673a\u7684\u7269\u7406\u7aef\u53e3\u548c\u865a\u62df\u7aef\u53e3\u8fdb\u884c\u914d\u7f6e/\u7ef4\u62a4\u3002 Firewall\uff1a\u9632\u706b\u5899 Uplink Port\uff1a\u7ea7\u8054\u7aef\u53e3 vNIC\uff1a\u865a\u62df\u673a\u7f51\u7edc\u63a5\u53e3\u5361 VSP\uff1a\u865a\u62df\u4ea4\u6362\u7aef\u53e3 - - \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u6a21\u578b\u7684\u57fa\u672c\u7279\u5f81\uff1a \u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\uff0c\u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u53ef\u4ee5\u8986\u76d6\u96c6\u7fa4\u4e2d\u7684\u591a\u4e2aCNA\u8282\u70b9\u3002 \u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u5177\u6709\u591a\u4e2a\u5206\u5e03\u5f0f\u7684\u865a\u62df\u7aef\u53e3VSP\uff08Virtual Switch Port\uff09\uff0c\u6bcf\u4e2aVSP\u5177\u6709\u5404\u81ea\u7684\u5c5e\u6027\uff08\u901f\u7387\u3001\u7edf\u8ba1\u548cACL\u7b49\uff09\uff0c\u4e3a\u4e86\u7ba1\u7406\u65b9\u4fbf\u91c7\u7528\u7aef\u53e3\u7ec4\u7ba1\u7406\u76f8\u540c\u5c5e\u6027\u7684\u4e00\u7ec4\u7aef\u53e3\uff0c\u76f8\u540c\u7aef\u53e3\u7ec4\u7684VLAN\uff08Virtual Local Area Network\uff09\u76f8\u540c\u3002 \u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2aUplink\u7aef\u53e3\u7ec4\uff0c\u7528\u4e8e\u865a\u62df\u673a\u5bf9\u5916\u7684\u901a\u4fe1\uff0cUplink\u7aef\u53e3\u7ec4\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7269\u7406\u7f51\u5361\uff0c\u8fd9\u4e9b\u7269\u7406\u7f51\u5361\u53ef\u4ee5\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\u3002 \u6bcf\u4e2a\u865a\u62df\u673a\u53ef\u4ee5\u5177\u6709\u591a\u4e2avNIC\uff08Virtual Network Interface Card\uff09\u63a5\u53e3\uff0cvNIC\u53ef\u4ee5\u548c\u4ea4\u6362\u673a\u7684VSP\u4e00\u4e00\u5bf9\u63a5\u3002 \u521b\u5efa\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a \u4e0a\u884c\u94fe\u8def\uff08Uplick\uff09\u662f\u4ec0\u4e48 \u4e0a\u884c\u94fe\u8def\u662f\u94fe\u63a5\u865a\u62df\u4ea4\u6362\u673a\uff08VSW\uff09\u548c\u7269\u7406\u673a\u4e0a\u7f51\u5361\u7684\u901a\u9053\uff1b\u865a\u62df\u673a\u4ea4\u6362\u673a\u901a\u8fc7\u4e0a\u884c\u94fe\u8def\u5c06\u865a\u62df\u673a\u4ea7\u751f\u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u7269\u7406\u7f51\u7edc\u4e2d\u3002 Linux Bridge\u4ecb\u7ecd Linux Bridge\uff08\u7f51\u6865\uff09\u662f\u5de5\u4f5c\u4e8e\u4e8c\u5c42\u7684\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0c\u529f\u80fd\u7c7b\u4f3c\u4e8e\u7269\u7406\u7684\u4ea4\u6362\u673a\u3002 Bridge\u53ef\u4ee5\u7ed1\u5b9a\u5176\u4ed6Linux\u7f51\u7edc\u8bbe\u5907\u4f5c\u4e3a\u4ece\u8bbe\u5907\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8bbe\u5907\u865a\u62df\u5316\u4e3a\u7aef\u53e3\uff0c\u5f53\u4e00\u4e2a\u4ece\u8bbe\u5907\u88ab\u7ed1\u5b9a\u5230Bridge\u4e0a\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u771f\u5b9e\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u63d2\u5165\u4e86\u4e00\u4e2a\u8fde\u63a5\u6709\u7ec8\u7aef\u7684\u7f51\u7ebf\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb \u00b6 \u5f53\u865a\u62df\u673a\u5728\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u65f6\uff0c\u7269\u7406\u673a\u53ef\u80fd\u5b58\u5728\u8d44\u6e90\u5206\u914d\u4e0d\u5747\uff0c\u9020\u6210\u8d1f\u8f7d\u8fc7\u91cd\u6216\u8fc7\u8f7b\u7684\u60c5\u51b5\u3002\u53e6\u5916\uff0c\u7269\u7406\u673a\u5b58\u5728\u786c\u4ef6\u66f4\u6362\u3001\u8f6f\u4ef6\u5347\u7ea7\u3001\u7ec4\u7f51\u8c03\u6574\u3001\u6545\u969c\u5904\u7406\u7b49\u64cd\u4f5c\uff0c\u5982\u4f55\u5728\u4e0d\u4e2d\u65ad\u4e1a\u52a1\u7684\u60c5\u51b5\u4e0b\u5b8c\u6210\u8fd9\u4e9b\u64cd\u4f5c\u5341\u5206\u91cd\u8981\u3002\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u6280\u672f\u53ef\u4ee5\u5728\u4e1a\u52a1\u8fde\u7eed\u524d\u63d0\u4e0b\uff0c\u5b8c\u6210\u8d1f\u8f7d\u5747\u8861\u6216\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u548c\u5de5\u4f5c\u6548\u7387\u3002\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u901a\u5e38\u662f\u5c06\u6574\u4e2a\u865a\u62df\u673a\u7684\u8fd0\u884c\u72b6\u6001\u5b8c\u6574\u4fdd\u5b58\u4e0b\u6765\uff0c\u540c\u65f6\u53ef\u4ee5\u5feb\u901f\u6062\u590d\u5230\u539f\u6709\u7684\u751a\u81f3\u4e0d\u540c\u7684\u786c\u4ef6\u5e73\u53f0\u4e0a\u3002\u865a\u62df\u673a\u6062\u590d\u540e\uff0c\u4ecd\u7136\u53ef\u4ee5\u5e73\u6ed1\u8fd0\u884c\uff0c\u7528\u6237\u611f\u77e5\u4e0d\u5230\u4efb\u4f55\u5dee\u5f02\u3002\u6839\u636e\u865a\u62df\u673a\u6570\u636e\u5b58\u50a8\u5728\u5f53\u524d\u4e3b\u673a\u8fd8\u662f\u8fdc\u7aef\u5b58\u50a8\u8bbe\u5907\uff08\u5171\u4eab\u5b58\u50a8\uff09\u7684\u4e0d\u540c\uff0c\u5206\u4e3a\u5171\u4eab\u5b58\u50a8\u70ed\u8fc1\u79fb\u548c\u975e\u5171\u4eab\u5b58\u50a8\u70ed\u8fc1\u79fb\u4e24\u79cd\u65b9\u5f0f\u3002 \u8fc1\u79fb\u8fc7\u7a0b \u5c06\u865a\u62df\u673a\u914d\u7f6e\u548c\u8bbe\u5907\u4fe1\u606f\u4f20\u9001\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u4f20\u9001\u865a\u62df\u673a\u5185\u5b58\uff08\u5185\u5b58\u5206\u7247+\u8fed\u4ee3\u8fc1\u79fb\uff09 \u200b \u5c06\u865a\u62df\u673a\u8fc1\u79fb\u65f6\u7684\u521d\u59cb\u5185\u5b58\u4ee5\u53ca\u5185\u5b58\u53d8\u66f4\u5206\u7247\u540c\u6b65\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u6682\u65f6\u6e90\u865a\u62df\u673a\u5e76\u4f20\u9001\u72b6\u6001 \u200b \u5728\u6e90\u4e3b\u673a\u4e0a\u6682\u505c\u865a\u62df\u673a \u200b \u5c06\u6700\u540e\u7684\u53d8\u66f4\u5185\u5b58\u4f20\u9001\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u6062\u590d\u76ee\u6807\u865a\u62df\u673a \u200b \u5728\u76ee\u6807\u4e3b\u673a\u4e0a\u6062\u590d\u865a\u62df\u673a\uff0c\u5e76\u5728\u6e90\u4e3b\u673a\u4e0a\u505c\u6b62\u865a\u62df\u673a \u8ba8\u8bba\uff1a\u5185\u5b58\u5206\u7247\uff1b\u8fed\u4ee3\u8fc1\u79fb \u6211\u4eec\u5728\u8fd9\u91cc\u8ba8\u8bba\u865a\u62df\u673a\u4e3a\u5171\u4eab\u5b58\u50a8\u573a\u666f\u4e0b\u865a\u62df\u673a\u5185\u5b58\u8fc1\u79fb\u7684\u8fc7\u7a0b\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\u4e1a\u52a1\u662f\u4e0d\u4e2d\u65ad\u7684\u6240\u4ee5\u4f1a\u6709\u6301\u7eed\u7684\u6570\u636eIO\uff0c\u90a3\u4e48\u5728\u6267\u884c\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\u4e3a\u4e86\u4fdd\u8bc1\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u6570\u636e\u7684\u4e00\u81f4\u6027\u4f1a\u5728\u6267\u884c\u8fc1\u79fb\u524d\u5bf9\u6570\u636e\u8fdb\u884c\u5b9a\u683c\u3002\u5b9a\u683c\u540e\u7684\u6570\u636e\u662f\u53ea\u8bfb\u7684\uff0c\u6570\u636e\u5b9a\u683c\u4e4b\u540e\u865a\u62df\u673a\u4e1a\u52a1\u4ea7\u751f\u7684IO\u6570\u636e\u4f1a\u88ab\u5b58\u653e\u5230\u65b0\u5f00\u8f9f\u7684\u5185\u5b58\u7a7a\u95f4\u5f53\u4e2d\u3002 \u5c06\u5b9a\u683c\u7684\u6570\u636e\u4ece\u6e90\u7aef\u8fc1\u79fb\u5230\u76ee\u6807\u7aef\uff0c\u5b8c\u6210\u672c\u6b21\u5b9a\u683c\u6570\u636e\u8fc1\u79fb\u4e4b\u540e\u3002\u5c06\u865a\u62df\u673a\u5728\u6b64\u6b21\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u5199\u5165\u5230\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u5b9a\u683c\uff0c\u7136\u540e\u8fc1\u79fb\u5b9a\u683c\u6570\u636e\u3002\u65b0\u4e0b\u53d1\u7684IO\u6570\u636e\u5199\u5165\u5230\u65b0\u5f00\u8f9f\u7684\u5185\u5b58\u7a7a\u95f4\u5f53\u4e2d\u3002 \u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u968f\u7740\u8fc1\u79fb\u6b21\u6570\u7684\u589e\u52a0\u3002\u6bcf\u6b21\u8fdb\u884c\u8fc1\u79fb\u7684\u5b9a\u683c\u6570\u636e\u8d8a\u6765\u8d8a\u5c11\uff0c\u8fc1\u79fb\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u4e5f\u8d8a\u6765\u8d8a\u77ed\u3002 \u5f53\u9700\u8981\u8fdb\u884c\u8fc1\u79fb\u7684\u6570\u636e\u8fbe\u5230\u4e00\u4e2a\u9608\u503c\u4e4b\u540e\u5c31\u6682\u65f6\u4e2d\u65ad\u865a\u62df\u673a\u7684IO\u5c06\u6700\u540e\u7684\u5185\u5b58\u6570\u636e\u8fc1\u79fb\u5230\u76ee\u6807\u865a\u62df\u673a\u4e0a\uff1b\u6b64\u65f6\u6e90\u7aef\u548c\u76ee\u6807\u7aef\u7684\u5185\u5b58\u6570\u636e\u4e00\u81f4\u3002\u5c06\u6e90\u7aef\u7684\u4e1a\u52a1IO\u6d41\u91cf\u8fc1\u79fb\u5230\u76ee\u6807\u7aef\u865a\u62df\u673a\u4e0a\u3002\u5b8c\u6210\u8fc1\u79fb\u8fed\u4ee3\u3002 \u865a\u62df\u673a\u8fc1\u79fb\u7684\u7c7b\u578b \u8fc1\u79fb\u7c7b\u578b \u5b50\u7c7b \u8bf4\u660e \u624b\u52a8\u8fc1\u79fb \u6309\u76ee\u7684\u8fc1\u79fb \u7cfb\u7edf\u7ef4\u62a4\u4eba\u5458\u901a\u8fc7FusionCompute\u7684\u865a\u62df\u673a\u8fc1\u79fb\u529f\u80fd\uff0c\u624b\u52a8\u8fc1\u79fb\u4e00\u53f0\u865a\u62df\u673a\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u3002 \u81ea\u52a8\u8fc1\u79fb \u865a\u62df\u673a\u8d44\u6e90\u8c03\u5ea6 \u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u5185\uff0c\u7cfb\u7edf\u6839\u636e\u9884\u5148\u8bbe\u5b9a\u7684\u865a\u62df\u673a\u8c03\u5ea6\u7b56\u7565\uff0c\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u81ea\u52a8\u8fc1\u79fb\u3002 \u70ed\u8fc1\u79fb\u7684\u5e94\u7528\u573a\u666f \u5f53\u7269\u7406\u673a\u6545\u969c\u6216\u8005\u8d1f\u8f7d\u8fc7\u91cd\u65f6\uff0c\u53ef\u4ee5\u5c06\u8fd0\u884c\u7684\u865a\u62df\u673a\u8fc1\u79fb\u5230\u53e6\u4e00\u53f0\u7269\u7406\u673a\u4e0a\uff0c\u4ee5\u907f\u514d\u4e1a\u52a1\u4e2d\u65ad\uff0c\u4fdd\u8bc1\u4e1a\u52a1\u7684\u6b63\u5e38\u8fd0\u884c\u3002 \u5f53\u591a\u6570\u7684\u7269\u7406\u673a\u8d1f\u8f7d\u8fc7\u8f7b\u65f6\uff0c\u53ef\u4ee5\u5c06\u865a\u62df\u673a\u8fc1\u79fb\u6574\u5408\uff0c\u4ee5\u51cf\u5c11\u7269\u7406\u673a\u6570\u91cf\uff0c\u63d0\u9ad8\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002 \u5f53\u7269\u7406\u670d\u52a1\u5668\u786c\u4ef6\u8bbe\u5907\u6210\u4e3a\u74f6\u9888\uff0c\u6bd4\u5982CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u7b49\uff0c\u9700\u8981\u66f4\u6362\u6027\u80fd\u66f4\u597d\u7684\u786c\u4ef6\uff0c\u6216\u8005\u9700\u8981\u589e\u52a0\u8bbe\u5907\uff0c\u4f46\u662f\u53c8\u4e0d\u80fd\u5173\u95ed\u865a\u62df\u673a\u6216\u8005\u505c\u6b62\u4e1a\u52a1\u3002 \u670d\u52a1\u5668\u8f6f\u4ef6\u5347\u7ea7\uff0c\u6bd4\u5982\u865a\u62df\u5316\u5e73\u53f0\u5347\u7ea7\uff0c\u5c31\u53ef\u4ee5\u628a\u865a\u62df\u673a\u4ece\u65e7\u7248\u672c\u865a\u62df\u5316\u5e73\u53f0\u70ed\u8fc1\u79fb\u5230\u65b0\u7248\u672c\u865a\u62df\u5316\u5e73\u53f0\u3002 \u70ed\u8fc1\u79fb\u7684\u6ce8\u610f\u4e8b\u9879\u548c\u7ea6\u675f\u6761\u4ef6 \u70ed\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u4fdd\u8bc1\u7f51\u7edc\u72b6\u6001\u826f\u597d\u3002\u5982\u679c\u53d1\u751f\u7f51\u7edc\u4e2d\u65ad\uff0c\u70ed\u8fc1\u79fb\u4f1a\u6682\u505c\uff0c\u76f4\u5230\u7f51\u7edc\u6062\u590d\u540e\u624d\u4f1a\u7ee7\u7eed\uff0c\u5f53\u53d1\u751f\u8d85\u65f6\uff0c\u70ed\u8fc1\u79fb\u4f1a\u5931\u8d25\u3002 \u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u5141\u8bb8\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u751f\u547d\u5468\u671f\u548c\u7ba1\u7406\u865a\u62df\u673a\u786c\u4ef6\u8bbe\u5907\u7b49\u64cd\u4f5c\u3002 \u865a\u62df\u673a\u6b63\u5728\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5c3d\u53ef\u80fd\u4fdd\u8bc1\u6e90\u7aef\u3001\u76ee\u7684\u7aef\u670d\u52a1\u5668\u4e0d\u88ab\u610f\u5916\u4e0b\u7535\u6216\u91cd\u542f\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u70ed\u8fc1\u79fb\u5931\u8d25\uff0c\u751a\u81f3\u53ef\u80fd\u5bfc\u81f4\u865a\u62df\u673a\u88ab\u4e0b\u7535\u3002 \u865a\u62df\u673a\u6b63\u5728\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u5141\u8bb8\u5bf9\u865a\u62df\u673a\u505a\u5173\u673a\u3001\u91cd\u542f\u6216\u6062\u590d\u64cd\u4f5c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u70ed\u8fc1\u79fb\u5931\u8d25\uff0c\u5f53\u6267\u884cACPI\u65b9\u5f0f\u91cd\u542f\u65f6\uff0c\u518d\u6267\u884c\u70ed\u8fc1\u79fb\u4f1a\u5bfc\u81f4\u865a\u62df\u673a\u5173\u95ed\u3002 \u53ea\u652f\u6301\u540c\u6784\u70ed\u8fc1\u79fb\uff0c\u5373\u6e90\u7aef\u548c\u76ee\u7684\u7aefCPU\u578b\u53f7\u9700\u8981\u76f8\u540c\u3002\u5f02\u6784\u8fc1\u79fb\u9700\u8981\u5f00\u542fIMC\u6a21\u5f0f\u3002 \u8de8\u4e1a\u52a1\u7f51\u6bb5\u865a\u62df\u673a\u8fc1\u79fb\u53ef\u4ee5\u6210\u529f\uff0c\u4f46\u662f\u5230\u76ee\u7684\u7aef\u540e\u4f1a\u51fa\u73b0\u7f51\u7edc\u5f02\u5e38\uff0c\u4e3a\u4e86\u9632\u6b62\u8be5\u60c5\u51b5\u53d1\u751f\uff0c\u9700\u8981\u7528\u6237\u4fdd\u8bc1\u8fc1\u79fb\u4e1a\u52a1\u7f51\u6bb5\u4e00\u81f4\u3002 \u5982\u679c\u6e90\u7aef\u865a\u62df\u673avCPU\u6570\u5927\u4e8e\u76ee\u7684\u7aef\u7684\u7269\u7406\u673aCPU\u6838\u6570\uff0c\u5219\u8fc1\u79fb\u540e\u5c06\u4f1a\u5f71\u54cd\u5230\u865a\u62df\u673a\u7684\u6027\u80fd\uff0c\u5e94\u4fdd\u8bc1\u76ee\u7684\u7aef\u7269\u7406\u673aCPU\u6838\u6570\u5927\u4e8e\u7b49\u4e8e\u6e90\u7aef\u865a\u62df\u673avCPU\u6570\u3002 \u70ed\u8fc1\u79fb\u7684\u524d\u63d0\u6761\u4ef6 \u8fdb\u884c\u70ed\u8fc1\u79fb\u4e4b\u524d\u8981\u786e\u4fdd\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u4e3b\u673a\u4e4b\u95f4\u7684\u7f51\u7edc\u662f\u4e92\u901a\u7684\uff0c\u5e76\u4e14\u6e90\u7aef\u548c\u76ee\u7684\u83b7\u5f97\u8d44\u6e90\u6743\u9650\u662f\u5bf9\u7b49\u7684\uff0c\u5373\u4e24\u7aef\u540c\u65f6\u80fd\u591f\u8bbf\u95ee\u5230\u76f8\u540c\u7684\u5b58\u50a8\u8d44\u6e90\u548c\u7f51\u7edc\u8d44\u6e90\u3002 \u5728\u6267\u884c\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u524d\u5e94\u5f53\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u5065\u5eb7\u68c0\u67e5\uff0c\u5e76\u786e\u4fdd\u76ee\u7684\u7aef\u4e3b\u673a\u6709\u8db3\u591f\u7684CPU\u3001\u5185\u5b58\u548c\u5b58\u50a8\u8d44\u6e90\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\uff0c\u4f20\u9012\u7684\u914d\u7f6e\u4fe1\u606f\u548c\u8bbe\u5907\u4fe1\u606f\u5177\u4f53\u662f\u4ec0\u4e48\uff1f\u4fdd\u5b58\u5728\u54ea\u91cc\uff1f \u914d\u7f6e\u4fe1\u606f\u548c\u8bbe\u5907\u4fe1\u606f\u7edf\u79f0\u4e3a\u865a\u62df\u673a\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u5176\u4e2d\u914d\u7f6e\u4fe1\u606f\u6307\u7684\u662f\u865a\u62df\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5f15\u5bfc\u65b9\u5f0f\uff0c\u5f15\u5bfc\u6b21\u5e8f\u7b49\uff1b\u540e\u8005\u662f\u865a\u62df\u673a\u7684CPU\u4e2a\u6570\uff0c\u5185\u5b58\u5927\u5c0f\uff0c\u786c\u76d8\u4ee5\u53ca\u7f51\u5361\u7684\u4fe1\u606f\u7b49\u3002\u8fd9\u4e9b\u4fe1\u606f\u4fdd\u5b58\u5728**VRM**\u7684\u6570\u636e\u5e93\u4e2d\uff0cCNA\u4e0a\u7684**Libvirt**\u4e2d\u8fd8\u4f1a\u4ee5\u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u653e\u5728VM\u7cfb\u7edf\u76d8\u6240\u5728\u865a\u62df\u6570\u636e\u5b58\u50a8\u4e0a\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u7684\u4e2d\u65ad\u65f6\u957f \u70ed\u8fc1\u79fb\u7684\u4e2d\u65ad\u65f6\u957f\u5728\u81ea\u7531\u5ea6\u6bd4\u8f83\u9ad8\u7684\u4ea7\u54c1\u4e0a\u662f\u53ef\u4ee5\u8fdb\u884c\u8bbe\u7f6e\u7684\u6bd4\u5982\u8bbe\u7f6e\u4e3a500ms\u7b49 # virsh migrate-setmaxdowntime openEulerVM 500 \u5728\u534e\u4e3a\u7684\u4ea7\u54c1\u4e0a\u6267\u884c\u70ed\u8fc1\u79fb\u4e00\u822c\u8ba4\u4e3a\u5141\u8bb8\u4e221\u52302\u4e2a\u5305\u3002\u4e00\u822c\u4e22\u4e00\u4e2a\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u9700\u8981\u4e09\u5c42\u4e92\u901a\u8fd8\u662f\u4e8c\u5c42\u4e92\u901a \u4e09\u5c42\u4e92\u901a\u5373\u53ef\uff0c\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u9700\u8981\u4fdd\u8bc1\u4e24\u7aef\u7684\u865a\u62df\u673a\u5173\u8054\u540c\u4e00\u4e2aDVS\u3002 \u865a\u62df\u673a\u5f62\u5f0f\u90e8\u7f72\u7684VRM\u80fd\u6267\u884c\u865a\u62df\u673a\u8fc1\u79fb\u5417\uff1f \u4e0d\u80fd\uff1b\u9ed8\u8ba4\u201c\u4e0e\u4e3b\u673a\u7ed1\u5b9a\u201d \u8fc1\u79fbVRM\u865a\u62df\u673a \u00b6 \u64cd\u4f5c\u573a\u666f \u5f53VRM\u865a\u62df\u673a\u6240\u5728\u4e3b\u673a\u8fdb\u884c\u90e8\u4ef6\u66f4\u6362\u3001\u91cd\u88c5\u7cfb\u7edf\u7b49\u5fc5\u987b\u91cd\u542f\u4e3b\u673a\u7684\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u5c06VRM\u865a\u62df\u673a\u8fc1\u79fb\u5230\u5176\u4ed6\u4e3b\u673a\u3002 \u524d\u63d0\u6761\u4ef6 \u76ee\u6807\u4e3b\u673a\u4e0a\u4e0d\u5b58\u5728\u5176\u4ed6VRM\u865a\u62df\u673a\u3002 \u76ee\u6807\u4e3b\u673a\u548cVRM\u865a\u62df\u673a\u6240\u5728\u4e3b\u673a\u7684CPU\u578b\u53f7\u76f8\u540c\u3002 \u76ee\u6807\u4e3b\u673a\u7684\u865a\u62df\u5316\u672c\u5730\u786c\u76d8\u5269\u4f59\u7a7a\u95f4\u5927\u4e8e140GB\u3002 \u5df2\u83b7\u53d6VRM\u4e3b\u8282\u70b9\u548c\u76ee\u6807\u4e3b\u673a\u7684\u201cgandalf\u201d\u548c\u201croot\u201d\u7528\u6237\u7684\u5bc6\u7801\u3002 VRM\u865a\u62df\u673a\u8fd0\u884c\u6b63\u5e38\u3002\u4e3b\u5907\u90e8\u7f72\u65f6\uff0c\u8bf7\u786e\u4fdd\u4e3b\u5907VRM\u865a\u62df\u673a\u5747\u8fd0\u884c\u6b63\u5e38\u3002 \u5355\u8282\u70b9\u6267\u884cVRM\u865a\u62df\u673a\u8fc1\u79fb \u5c06\u5355\u8282\u70b9\u90e8\u7f72\u7684VRM\u6269\u5c55\u4e3a\u4e3b\u5907\u90e8\u7f72 \u6267\u884c\u5907\u8282\u70b9\u7684VRM\u865a\u62df\u673a\u8fc1\u79fb \u4e3b\u5907\u8282\u70b9\u6267\u884cVRM\u865a\u62df\u673a\u8fc1\u79fb \u5982\u679c\u662f\u6267\u884c\u4e3b\u8282\u70b9\u7684\u8fc1\u79fb\uff0c\u9700\u8981\u5c06\u4e3b\u88ab\u8282\u70b9\u8f6c\u6362\u4e3a\u5907\u8282\u70b9\u6267\u884c\u8fc1\u79fb \u5982\u679c\u662f\u88ab\u8282\u70b9\u6267\u884c\u8fc1\u79fb\uff0c\u6267\u884c\u8fc1\u79fb\u64cd\u4f5c\u5373\u53ef \u865a\u62df\u673a\u9ad8\u53ef\u7528\u6027HA \u00b6 \u865a\u62df\u673a\u9ad8\u53ef\u7528\u6027\u662f\u5f53\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u865a\u62df\u673a\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u7cfb\u7edf\u81ea\u52a8\u5c06\u6545\u969c\u7684\u865a\u62df\u673a\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u5185\u5728\u6b63\u5e38\u8fd0\u884c\u7684\u786c\u4ef6\u4e0a\u81ea\u52a8\u542f\u52a8\uff0c\u4f7f\u6545\u969c\u865a\u62df\u673a\u5feb\u901f\u6062\u590d\u3002 \u5f53\u7cfb\u7edf\u68c0\u6d4b\u5230\u865a\u62df\u673a\u6545\u969c\u65f6\uff0c\u7cfb\u7edf\u5c06\u9009\u62e9\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\uff0c\u5c06\u6545\u969c\u865a\u62df\u673a\u5728\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\u4e0a\u91cd\u65b0\u521b\u5efa\u3002 \u8ba1\u7b97\u8282\u70b9\u6389\u7535\u6062\u590d\u6216\u91cd\u542f \u5f53\u8ba1\u7b97\u8282\u70b9\u6389\u7535\u6062\u590d\u6216\u91cd\u542f\u65f6\uff0c\u7cfb\u7edf\u5c06\u8ba1\u7b97\u8282\u70b9\u4e0a\u5177\u6709HA\u5c5e\u6027\u7684\u865a\u62df\u673a\u91cd\u65b0\u521b\u5efa\u81f3\u5176\u4ed6\u8ba1\u7b97\u8282\u70b9\u3002 \u865a\u62df\u673a\u84dd\u5c4f\uff08 X86 \uff09 \u5f53\u7cfb\u7edf\u68c0\u6d4b\u5230\u865a\u62df\u673a\u84dd\u5c4f\u6545\u969c\u4e14\u8be5\u865a\u62df\u673a\u84dd\u5c4f\u5904\u7406\u7b56\u7565\u914d\u7f6e\u4e3aHA\u65f6\uff0c\u7cfb\u7edf\u9009\u62e9\u5176\u4ed6\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\u91cd\u65b0\u521b\u5efa\u865a\u62df\u673a\u3002\uff08**\u6ce8\u610f\uff1a**\u8fd9\u610f\u5473\u84dd\u5c4f\u662f\u5426\u6267\u884cHA\u662f\u53ef\u9009\u914d\u7f6e\uff09 \u4f9d\u8d56\u5173\u7cfb \u96c6\u7fa4\u4e2d\u9700\u8981\u6709\u8db3\u591f\u7684\u8d44\u6e90\u4f9b\u865a\u62df\u673aHA\u4f7f\u7528\u3002 VRM\u5224\u65adVM\u84dd\u5c4f\u6216\u8005\u5185\u6838\u5d29\u6e83 \u68c0\u6d4bVM\u84dd\u5c4f\u6216\u8005\u5185\u6838\u5d29\u6e83\u662f\u6839\u636etools\u548cVRM\u4e4b\u95f4\u7ef4\u6301\u7684\u5fc3\u8df3\u5173\u7cfb\u3002\u5f53\u4e00\u4e2a\u865a\u62df\u5316\u5468\u671f\u5185VRM\u6536\u4e0d\u5230\u5fc3\u8df3\uff0c\u5219\u8ba4\u4e3aVM\u5b58\u5728\u84dd\u5c4f\u6216\u8005\u5d29\u6e83\uff0c\u5224\u65ad\u84dd\u5c4f\u6216\u8005\u5d29\u6e83\u7684\u4f9d\u636e\u662fVM\u662f\u5426\u6709IO\u64cd\u4f5c\uff0c\u5982\u6ca1\u6709\u5219\u8ba4\u4e3a\u5185\u6838\u5d29\u6e83\uff0c\u53cd\u4e4b\u5219\u8ba4\u4e3a\u84dd\u5c4f\u6545\u969c\u3002 Tools\u529f\u80fd \u5b89\u88c5\u5e76\u542f\u52a8Tools\u540e\uff0c\u7528\u6237\u65e0\u9700\u505a\u4efb\u4f55\u64cd\u4f5c\uff0cTools\u5373\u53ef\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684\u78c1\u76d8I/O\u548c\u7f51\u7edcI/O\u529f\u80fd \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u865a\u62df\u786c\u4ef6\u76d1\u63a7\u529f\u80fd \u83b7\u53d6\u865a\u62df\u673a\u6307\u5b9a\u7f51\u5361IP\u4fe1\u606f \u83b7\u53d6\u865a\u62df\u673a\u5185\u90e8\u5404CPU\u5229\u7528\u7387\u3001\u5185\u5b58\u5229\u7528\u7387 \u83b7\u53d6\u865a\u62df\u673a\u5185\u5404\u4e2a\u78c1\u76d8/\u5206\u533a\u7684\u7a7a\u95f4\u4f7f\u7528\u4fe1\u606f \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u9ad8\u7ea7\u529f\u80fd \u5728\u7ebf\u8c03\u6574\u865a\u62df\u673a\u7684CPU\u89c4\u683c \u521b\u5efa\u865a\u62df\u673a\u5feb\u7167 \uff08 X86\u67b6\u6784 \uff09\u865a\u62df\u673a\u84dd\u5c4f\u68c0\u6d4b \u865a\u62df\u673a\u4e0e\u4e3b\u673a\u65f6\u949f\u540c\u6b65 \u865a\u62df\u673a\u7f51\u5361\u7684\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982QoS \u81ea\u52a8\u5347\u7ea7\u865a\u62df\u673a\u7684\u9a71\u52a8\u7a0b\u5e8f\uff0c\u5982Tools\u9a71\u52a8 DPDK\uff08\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\uff09\uff08x86\uff09 \u00b6 \u901a\u8fc7\u4f7f\u7528DPDK\uff08Data Plane Development Kit\uff0c\u6570\u636e\u5e73\u9762\u5f00\u53d1\u5957\u4ef6\uff0cDPDK\u662f\u4e00\u7cfb\u5217\u5e93\u548c\u9a71\u52a8\u7684\u96c6\u5408\uff09\u6280\u672f\uff0c\u7528\u6765\u5728X86\u5e73\u53f0\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u5305\u5904\u7406\u3002\u5b83\u901a\u8fc7\u73af\u5883\u62bd\u8c61\u5c42\u65c1\u8def\u5185\u6838\u534f\u8bae\u6808\u3001\u8f6e\u8be2\u6a21\u5f0f\u7684\u62a5\u6587\u65e0\u4e2d\u65ad\u6536\u53d1\u3001\u4f18\u5316\u5185\u5b58/\u7f13\u51b2\u533a/\u961f\u5217\u7ba1\u7406\u3001\u57fa\u4e8e\u7f51\u5361\u591a\u961f\u5217\u548c\u6d41\u8bc6\u522b\u7684\u8d1f\u8f7d\u5747\u8861\u7b49\u591a\u9879\u6280\u672f\uff0c\u5b9e\u73b0\u4e86\u5728X86\u5904\u7406\u5668\u67b6\u6784\u4e0b\u7684\u9ad8\u6027\u80fd\u62a5\u6587\u8f6c\u53d1\u80fd\u529b\uff0c\u63d0\u9ad8\u865a\u62df\u673a\u7f51\u7edc\u6027\u80fd\u3002 SR-IOV \u00b6 SR-IOV\u5b9e\u73b0\u4e86\u5c06PCI\u529f\u80fd\u5206\u914d\u5230\u591a\u4e2a\u865a\u62df\u63a5\u53e3\u4ee5\u5728\u865a\u62df\u5316\u73af\u5883\u4e2d\u5171\u4eab\u4e00\u4e2aPCI\u8bbe\u5907\u7684\u8d44\u6e90\u3002SR-IOV\u80fd\u591f\u8ba9\u7f51\u7edc\u4f20\u8f93\u7ed5\u8fc7\u8f6f\u4ef6\u6a21\u62df\u5c42\uff0c\u76f4\u63a5\u5206\u914d\u5230\u865a\u62df\u673a\u3002\u8fd9\u6837\u5c31\u964d\u4f4e\u4e86\u8f6f\u4ef6\u6a21\u62df\u5c42\u4e2d\u7684I/O\u5f00\u9500\u3002 ARM\u67b6\u6784X86\u67b6\u6784\u652f\u6301\u7279\u6027\u5bf9\u7167 \u5173\u952e\u7279\u6027 x86 ARM \u8de8\u4e3b\u673a\u70ed\u8fc1\u79fb \u652f\u6301 \u652f\u6301 \u5185\u5b58\u590d\u7528 \u652f\u6301 \u4e0d\u652f\u6301 \u865a\u62df\u673a\u9ad8\u53ef\u9760\u6027HA \u652f\u6301 \u652f\u6301 \u865a\u62df\u673a\u5b58\u50a8\u70ed\u8fc1\u79fb \u652f\u6301 \u652f\u6301 \u81ea\u52a8\u7cbe\u7b80\u914d\u7f6e \u652f\u6301 \u652f\u6301 \u865a\u62df\u5316\u9632\u75c5\u6bd2 \u652f\u6301 \u4e0d\u652f\u6301 \u5bb9\u707e\u5907\u4efd \u652f\u6301 \u652f\u6301 \u52a8\u6001\u8d44\u6e90\u8c03\u5ea6DRS \u652f\u6301 \u652f\u6301 \u52a8\u6001\u7535\u6e90\u7ba1\u7406DPM \u652f\u6301 \u652f\u6301 \u865a\u62df\u673a\u8d44\u6e90QoS \u652f\u6301 \u652f\u6301 \u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f(DPDK) \u652f\u6301\uff08 Intel\u6280\u672f \uff09 \u4e0d\u652f\u6301 \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673aDVS \u652f\u6301 \u652f\u6301 SR-IOV \u652f\u6301\uff08 Intel\u6280\u672f \uff09 \u4e0d\u652f\u6301 GPU\u76f4\u901a \u652f\u6301 \u652f\u6301 GPU\u865a\u62df\u5316 \u652f\u6301 \u4e0d\u652f\u6301 09-\u4e24\u53f0\u865a\u62df\u673a\u4e0d\u901a \u00b6 \u5728\u8003\u5bdf\u4e24\u53f0\u865a\u62df\u673a\u4e4b\u95f4\u4e0d\u540c\u7684\u95ee\u9898\u4e00\u822c\u4f1a\u7531\u81ea\u8eab\u5230\u5916\u90e8\u8003\u8651\u3002 \u865a\u62df\u673a\u672c\u8eab\u7684\u95ee\u9898 \u865a\u62df\u673a\u9632\u706b\u5899\u662f\u5426\u5173\u95ed \u4e24\u4e2a\u865a\u62df\u673aIP\uff08IP\u914d\u7f6e\uff0c\u7f51\u5173\uff0c\u8de8\u7f51\u6bb5\uff09 \u4e24\u4e2a\u865a\u62df\u673a\u6240\u94fe\u63a5\u7684\u7aef\u53e3\u7ec4\u662f\u5426\u6709\u95ee\u9898 \u6839\u636e\u6d41\u91cf\u8d70\u5411\u5206\u6790 \u540c\u4e3b\u673a\uff1b\u540cvlan\uff1a \u540c\u4e3b\u673a\uff1b\u4e0d\u540cvlan\uff1a \u4e0d\u540c\u4e3b\u673a\uff1b\u4e0d\u540cvlan \u4e0d\u540c\u4e3b\u673a\uff1b\u76f8\u540cvlan \u5176\u4ed6\u95ee\u9898 \u7269\u7406\u7ebf\u8def\u95ee\u9898 \u5916\u90e8\u7f51\u7edc\u8bbe\u5907\uff08\u4ea4\u6362\u673a\uff1b\u8def\u7531\u5668\uff09\u6545\u969c \u7269\u7406\u4ea4\u6362\u673a\u4e0a\u6ca1\u6709\u653e\u884c\u76f8\u5e94\u7684VLAN \u4ec0\u4e48\u662fDVS\u7531\u4ec0\u4e48\u7ec4\u6210 DVS\u662f\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff0c\u662f\u7531VRM\u7ef4\u6301\u5e76\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u8282\u70b9\uff08CNA\uff09\u7684\u903b\u8f91\u4ea4\u6362\u673a\u3002\u5b9e\u9645\u4e0a\u5728\u4e0a\u56fe\u4e2d\u6a2a\u8de8\u4e24\u4e2a\u8282\u70b9\u7684DVS\u662f\u7531\u4e24\u4e2a\u8282\u70b9\u5185\u90e8\u7684\u865a\u62df\u4ea4\u6362\u673a\u6784\u6210\u7684\u3002DVS\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u7684\u5806\u53e0\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u901a\u8fc7\u4e24\u4e2aEVS\u4e4b\u95f4\u7684\u8fde\u63a5\u7ebf\u5c06\u4e24\u4e2aEVS\u505a\u4e86\u5806\u53e0\u3002 \u4ec0\u4e48\u662f\u4e0a\u884c\u94fe\u8def \u4e0a\u884c\u94fe\u8def\u662f\u5728\u7269\u7406\u4ea4\u6362\u673a\u4e0a\u6307\u7684\u662f\u7269\u7406\u4ea4\u6362\u673a\u8fdb\u884c\u7ea7\u8054\u7684\u7aef\u53e3\uff1b\u5728\u865a\u62df\u4ea4\u6362\u673a\u4e2d\u6307\u7684\u662f\u865a\u62df\u673a\u4ea4\u6362\u673a\u8fde\u63a5\u7269\u7406\u7f51\u7edc\u7684\u901a\u9053\uff1b\u5b9e\u9645\u4e0a\u6211\u66f4\u504f\u5411\u4e0e\u662f\u591a\u53f0\u865a\u62df\u673a\u4ea4\u6362\u673a\u8fdb\u884c\u7ea7\u8054\u7684\u901a\u9053\u3002\u4e5f\u5c31\u662f\u865a\u62df\u4ea4\u6362\u673a\u8fdb\u884c\u5806\u53e0\u3002 \u4ec0\u4e48\u662f\u7aef\u53e3\u7ec4 \u7aef\u53e3\u7ec4\u662f\u4e00\u7ec4\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7aef\u53e3\u7684\u96c6\u5408\u3002\u901a\u8fc7\u7aef\u53e3\u7ec4\u5bf9\u7aef\u53e3\u7ec4\u5185\u7684\u7aef\u53e3\u7edf\u4e00\u914d\u7f6e\u7aef\u53e3\u7b56\u7565\u3002\u865a\u62df\u673a\u7684\u865a\u62df\u7f51\u5361\u8fde\u63a5\u5230\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u7ec4\uff0c\u8fd9\u6837\uff0c\u5373\u4f7f\u4e0e\u540c\u4e00\u7aef\u53e3\u7ec4\u76f8\u8fde\u63a5\u7684\u865a\u62df\u673a\u5404\u81ea\u5728\u4e0d\u540c\u7684\u7269\u7406\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e9b\u865a\u62df\u673a\u4e5f\u90fd\u5c5e\u4e8e\u865a\u62df\u73af\u5883\u5185\u7684\u540c\u4e00\u7f51\u7edc\u3002 \u8fde\u63a5\u5728\u540c\u4e00\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\u7f51\u5361\uff0c\u5177\u6709\u76f8\u540c\u7684\u7f51\u7edc\u5c5e\u6027\uff08\u5982\uff1aVLAN\u3001QoS\u3001\u5b89\u5168\u5c5e\u6027\u7b49\uff09\uff0c\u4ee5\u63d0\u4f9b\u589e\u5f3a\u7684\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u5206\u6bb5\u3001\u66f4\u4f73\u7684\u6027\u80fd\u3001\u9ad8\u53ef\u7528\u6027\u4ee5\u53ca\u6d41\u91cf\u7ba1\u7406\u3002 \u7aef\u53e3\u7c7b\u578b \u666e\u901a\u7c7b\u578b\u7684\u865a\u7aef\u53e3\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2aVLAN\uff0c\u4e2d\u7ee7\u7c7b\u578b\u7684\u865a\u7aef\u53e3\u53ef\u4ee5\u5141\u8bb8\u591a\u4e2aVLAN\u63a5\u6536\u548c\u53d1\u9001\u62a5\u6587\u3002 \u666e\u901a\u865a\u62df\u673a\u9009\u62e9\u666e\u901a\u7c7b\u578b\u7684\u7aef\u53e3\uff1b\u56e0\u4e3a\u666e\u901a\u865a\u62df\u673a\u53d1\u9001\u7684\u6570\u636e\u662f\u4e0d\u5e26vlan\u6807\u7b7e\u7684\u6570\u636e\u3002 \u865a\u62df\u673a\u7f51\u5361\u542f\u7528vlan\u8bbe\u5907\u9009\u62e9\u4e2d\u7ee7\uff08trunk\uff09\u7aef\u53e3\uff0c\u5426\u5219\u865a\u62df\u673a\u7f51\u7edc\u4e0d\u901a\u3002\u5b9e\u9645\u4e0a\u6240\u8c13\u7684\u4e2d\u7ee7\u7aef\u53e3\u5c31\u662ftrunk\u7c7b\u578b\u7684\u7aef\u53e3\u3002 \u7aef\u53e3\u7ec4\u5c5e\u6027 DHCP\u9694\u79bb\uff1a\u4f7f\u7528\u8be5\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\u65e0\u6cd5\u542f\u52a8DHCP Server\u670d\u52a1\uff0c\u4ee5\u9632\u6b62\u7528\u6237\u65e0\u610f\u8bc6\u6216\u6076\u610f\u542f\u52a8DHCP Server\u670d\u52a1\uff0c\u5f71\u54cd\u5176\u4ed6\u865a\u62df\u673aIP\u5730\u5740\u7684\u6b63\u5e38\u5206\u914d\u3002\uff08 \u5b89\u5168\u7ec4\u865a\u62df\u673a\u3001\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 IP\u4e0eMAC\u5730\u5740\u7ed1\u5b9a\uff1a\u4ec5\u5f53\u9009\u62e9\u201c\u7aef\u53e3\u7c7b\u578b\u201d\u4e3a\u201c \u666e\u901a \u201d\uff0c\u4e14\u865a\u62df\u673a\u4e3a\u901a\u8fc7\u81ea\u5b9a\u4e49\u865a\u62df\u673a\u65b9\u5f0f\u8bbe\u7f6e\u7684IP\u65f6\u6709\u6548\u3002\u4f7f\u7528\u8be5\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\uff0c\u5176IP\u5730\u5740\u4e0eMAC\u5730\u5740\u7ed1\u5b9a\uff0c\u9632\u6b62\u7528\u6237\u901a\u8fc7\u4fee\u6539\u865a\u62df\u673a\u7f51\u5361IP\u5730\u5740\u6216\u8005MAC\u5730\u5740\uff0c\u53d1\u8d77IP\u6216\u8005MAC\u4eff\u5192\u653b\u51fb\uff0c\u589e\u5f3a\u7528\u6237\u865a\u62df\u673a\u7684\u7f51\u7edc\u5b89\u5168\u6027\u3002\u5f00\u542f\u8be5\u529f\u80fd\u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u865a\u62df\u673a\u7f51\u5361\u914d\u7f6e\u591a\u4e2aIP\u5730\u5740\u4f1a\u5bfc\u81f4\u8be5\u7f51\u5361\u90e8\u5206IP\u5730\u5740\u901a\u4fe1\u5f02\u5e38\uff0c\u5efa\u8bae\u5728\u865a\u62df\u673a\u7f51\u5361\u914d\u7f6e\u591a\u4e2aIP\u5730\u5740\u65f6\u4e0d\u5f00\u542f\u8be5\u529f\u80fd\u3002\uff08 \u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u3001\u201c\u7528\u6237\u6001\u9a71\u52a8\u6a21\u5f0f\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 \u586b\u5145TCP\u6821\u9a8c\u548c\uff1a\u8be5\u7aef\u53e3\u7ec4\u4e0b\u7684\u865a\u62df\u673a\u5728\u63a5\u6536\u62a5\u6587\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u586b\u5145TCP\u6821\u9a8c\u548c\u3002\u6b64\u5f00\u5173\u53ea\u5e94\u7528\u4e8e\u5bf9TCP\u6821\u9a8c\u548c\u7684\u6b63\u786e\u6027\u6709\u8981\u6c42\u7684\u573a\u666f\uff0c\u4e0d\u5efa\u8bae\u5f00\u542f\u3002\u5f00\u542f\u5f00\u5173\u540e\u865a\u62df\u673a\u7f51\u7edc\u6536\u5305\u6027\u80fd\u4f1a\u6709\u6240\u4e0b\u964d\u3002\uff08 \u5b89\u5168\u7ec4\u865a\u62df\u673a\u3001\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u3001\u201c\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\uff08DPDK\uff09\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 \u53d1\u9001\u6d41\u91cf\u6574\u5f62\uff1a \u53d1\u9001\u5e73\u5747\u5e26\u5bbd\uff08Mbit/s\uff09\uff1a\u67d0\u6bb5\u65f6\u95f4\u5185\u5141\u8bb8\u901a\u8fc7\u7aef\u53e3\u7684\u5e73\u5747\u6bcf\u79d2\u53d1\u9001\u4f4d\u6570\u3002 \u4f7f\u7528\u666e\u901a\u7f51\u5361\u65f6\uff0c\u5728\u6ca1\u6709\u7a81\u53d1\u5927\u5c0f\u53ef\u4f7f\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u6d41\u91cf\u5c06\u7a33\u5b9a\u5728\u5e73\u5747\u5e26\u5bbd\u6240\u8bbe\u5b9a\u7684\u901f\u7387\u4e0a\u3002\u5982\u679c\u7a81\u53d1\u5927\u5c0f\u8bbe\u7f6e\u8fc7\u5c0f\uff0c\u7f51\u7edc\u5e26\u5bbd\u541e\u5410\u91cf\u4f1a\u53d8\u5dee\u3002 \u53d1\u9001\u5cf0\u503c\u5e26\u5bbd\uff08Mbit/s\uff09\uff1a\u53d1\u9001\u6d41\u91cf\u7a81\u53d1\u65f6\uff0c\u6bcf\u79d2\u949f\u5141\u8bb8\u901a\u8fc7\u7aef\u53e3\u7684\u6700\u5927\u4f20\u8f93\u4f4d\u6570\u3002 \u5cf0\u503c\u5e26\u5bbd\u9700\u8981\u5927\u4e8e\u6216\u7b49\u4e8e\u5e73\u5747\u5e26\u5bbd\u3002\u5bf9\u67d0\u4e00\u7c7b\u6d41\u91cf\u8bbe\u7f6e\u5408\u9002\u7684\u5cf0\u503c\u5e26\u5bbd\uff0c\u53ef\u4ee5\u9632\u6b62\u56e0\u4e3a\u8be5\u7c7b\u6d41\u91cf\u8fc7\u5927\u5bfc\u81f4\u5176\u4ed6\u865a\u62df\u673a\u7f51\u7edc\u62e5\u585e\u3002\u5e26\u5bbd\u7a7a\u95f2\u65f6\uff0c\u6d41\u91cf\u5c06\u7a33\u5b9a\u5728\u5e73\u5747\u5e26\u5bbd\u5de6\u53f3\u3002 \u53d1\u9001\u7a81\u53d1\u5927\u5c0f\uff08Mbits\uff09\uff1a\u5141\u8bb8\u6d41\u91cf\u5728\u5e73\u5747\u5e26\u5bbd\u7684\u57fa\u7840\u4e0a\u4ea7\u751f\u7684\u7a81\u53d1\u6d41\u91cf\u7684\u5927\u5c0f\u3002 \u4f18\u5148\u7ea7\uff1a\u5728\u7269\u7406\u7f51\u53e3\u53d1\u751f\u7f51\u7edc\u62e5\u585e\u7684\u65f6\u5019\uff0c\u5404\u7cfb\u7edf\u63a5\u53e3\u6216VSP\u7684\u6d41\u91cf\u4f1a\u4f9d\u636e\u6240\u8bbe\u7f6e\u7684\u4f18\u5148\u7ea7\u53c2\u6570\u53bb\u62a2\u5360\u7269\u7406\u7f51\u53e3\u7684\u5e26\u5bbd\uff0c\u4f18\u5148\u7ea7\u9ad8\u7684\u4f18\u5148\u4f7f\u7528\u7f51\u7edc\u5bbd\u5e26\u8d44\u6e90\u3002 \u4f4e \u4e2d \u9ad8 \u4e0d\u540c\u573a\u666f\u4e0b\u5e26\u5bbd\u7684\u6d6e\u52a8\u8303\u56f4\u6709\u6240\u4e0d\u540c\u3002\u5f53\u7269\u7406\u7f51\u53e3\u7684\u8f6c\u53d1\u80fd\u529b\u5927\u4e8e\u670d\u52a1\u5668\u5185\u5404\u7cfb\u7edf\u63a5\u53e3\u548cVSP\u7684\u5e73\u5747\u5e26\u5bbd\u4e4b\u548c\u5e76\u5c0f\u4e8e\u5cf0\u503c\u4e4b\u548c\u65f6\uff0c\u5404\u865a\u62df\u673a\u6d41\u91cf\u5c06\u5728\u5e73\u5747\u5e26\u5bbd\u4e4b\u4e0a\uff0c\u4e0d\u8d85\u8fc7\u5cf0\u503c\u5e26\u5bbd\u3002\u5f53\u7269\u7406\u7f51\u53e3\u7684\u8f6c\u53d1\u80fd\u529b\u5c0f\u4e8e\u670d\u52a1\u5668\u5185\u5404\u7cfb\u7edf\u63a5\u53e3\u548cVSP\u7684\u5e73\u5747\u5e26\u5bbd\u4e4b\u548c\u65f6\uff0c\u5404\u865a\u62df\u673a\u7684\u6d41\u91cf\u6700\u5c0f\u5c06\u6709\u53ef\u80fd\u5c0f\u4e8e\u5e73\u5747\u5e26\u5bbd\uff0c\u6700\u5927\u4e0d\u4f1a\u8d85\u8fc7\u5cf0\u503c\u5e26\u5bbd\u3002\uff08\u5982\u679c\u5f85\u6dfb\u52a0\u7aef\u53e3\u7ec4\u7684\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u7684\u4ea4\u6362\u7c7b\u578b\u4e3a\u201c\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\u201d\uff0c\u5219\u4e0d\u652f\u6301\u8bbe\u7f6e\u4f18\u5148\u7ea7\u3002\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u53ea\u652f\u6301\u201c\u53d1\u9001\u5e73\u5747\u5e26\u5bbd\uff08Mbit/s\uff09\u201d\u3002\uff09 \u5b89\u5168\u7ec4 \u4f4d\u4e8e\u540c\u4e00\u4e2a\u5b89\u5168\u7ec4\u7684\u6240\u6709\u865a\u62df\u673a\u7f51\u5361\u90fd\u5c06\u4f7f\u7528\u8be5\u5b89\u5168\u7ec4\u89c4\u5219\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\u3002\u865a\u62df\u673a\u4e00\u5757\u7f51\u5361\u53ea\u80fd\u52a0\u5165\u4e00\u4e2a\u5b89\u5168\u7ec4\u4e2d\u3002 \u5b89\u5168\u7ec4\u662f\u4e00\u79cd\u865a\u62df\u7684\u9632\u706b\u5899\uff0c\u4f7f\u7528iptable\u8fdb\u884c\u6570\u636e\u5305\u8fc7\u6ee4\u529f\u80fd\uff0c\u7528\u4e8e\u8bbe\u7f6e\u4e91\u670d\u52a1\u5668\uff0c\u8d1f\u8f7d\u5747\u8861\uff0c\u4e91\u6570\u636e\u5e93\u7b49\u5b9e\u4f8b\u7684\u7f51\u7edc\u8bbf\u95ee\u63a7\u5236\uff0c\u63a7\u5236\u5b9e\u4f8b\u7ea7\u522b\u7684\u51fa\u5165\u6d41\u91cf\u3002 OVS\u3001EVS\u3001DVS\u4e4b\u95f4\u533a\u522b\u548c\u8054\u7cfb OVS Open vSwitch\uff08OVS\uff09\u662f\u4e00\u6b3e\u57fa\u4e8e\u8f6f\u4ef6\u5b9e\u73b0\u7684\u5f00\u6e90\u865a\u62df\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u3002 OVS\u80fd\u591f\u652f\u6301\u591a\u79cd\u6807\u51c6\u7684\u7ba1\u7406\u63a5\u53e3\u548c\u534f\u8bae\uff0c\u8fd8\u53ef\u4ee5\u652f\u6301\u8de8\u591a\u4e2a\u7269\u7406\u670d\u52a1\u5668\u7684\u5206\u5e03\u5f0f\u73af\u5883\u3002 OVS\u63d0\u4f9b\u4e86\u5bf9OpenFlow\u534f\u8bae\u7684\u652f\u6301\uff0c\u5e76\u4e14\u80fd\u591f\u4e0e\u4f17\u591a\u5f00\u6e90\u7684\u865a\u62df\u5316\u5e73\u53f0\u76f8\u6574\u5408\u3002 \u4e3b\u8981\u6709\u4e24\u4e2a\u4f5c\u7528\uff1a\u4f20\u9012\u865a\u62df\u673aVM\u4e4b\u95f4\u7684\u6d41\u91cf\uff0c\u4ee5\u53ca\u5b9e\u73b0VM\u548c\u5916\u754c\u7f51\u7edc\u7684\u901a\u4fe1\u3002 OpenFlow\u4ea4\u6362\u673a\u5c06\u539f\u6765\u5b8c\u5168\u7531\u4ea4\u6362\u673a/\u8def\u7531\u5668\u63a7\u5236\u7684\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b\u8f6c\u5316\u4e3a\u7531OpenFlow\u4ea4\u6362\u673a\uff08OpenFlow Switch\uff09\u548c\u63a7\u5236\u670d\u52a1\u5668\uff08Controller\uff09\u6765\u5171\u540c\u5b8c\u6210\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u6570\u636e\u8f6c\u53d1\u548c\u8def\u7531\u63a7\u5236\u7684\u5206\u79bb\u3002\u63a7\u5236\u5668\u53ef\u4ee5\u901a\u8fc7\u4e8b\u5148\u89c4\u5b9a\u597d\u7684\u63a5\u53e3\u64cd\u4f5c\u6765\u63a7\u5236OpenFlow\u4ea4\u6362\u673a\u4e2d\u7684\u6d41\u8868\uff0c\u4ece\u800c\u8fbe\u5230\u63a7\u5236\u6570\u636e\u8f6c\u53d1\u7684\u76ee\u7684\u3002 OpenFlow\u7f51\u7edc\u7531OpenFlow\u4ea4\u6362\u673a\u3001FlowVisor\u548cController\u4e09\u90e8\u5206\u7ec4\u6210\u3002OpenFlow\u4ea4\u6362\u673a\u8fdb\u884c\u6570\u636e\u5c42\u7684\u8f6c\u53d1\uff1bFlowVisor\u5bf9\u7f51\u7edc\u8fdb\u884c\u865a\u62df\u5316\uff1bController\u5bf9\u7f51\u7edc\u8fdb\u884c\u96c6\u4e2d\u63a7\u5236\uff0c\u5b9e\u73b0\u63a7\u5236\u5c42\u7684\u529f\u80fd\u3002 OpenFlow\u4ea4\u6362\u673a\u7531\u6d41\u8868\u3001\u5b89\u5168\u901a\u9053\u548cOpenFlow\u534f\u8bae\u4e09\u90e8\u5206\u7ec4\u6210\u3002 EVS Elastic Virtual Switch\uff08EVS\uff09\u662f\u57fa\u4e8eOVS\u8f6c\u53d1\u6280\u672f\uff0c\u63d0\u5347\u4e86\u5176IO\u6027\u80fd\u7684\u4e00\u79cd\u5f39\u6027\u5316\u865a\u62df\u4ea4\u6362\u3002 \u4ecd\u7136\u7b26\u5408openflow\u534f\u8bae\u6807\u51c6\u3002 \u5176\u4e2dIO\u6027\u80fd\u63d0\u5347\u4f7f\u7528\u4e86Intel DPDK\u6280\u672f\uff0c\u901a\u8fc7\u7528\u6237\u6001\u8fdb\u7a0b\u63a5\u7ba1\u7f51\u5361\u6570\u636e\u6536\u53d1\uff0c\u91c7\u7528\u201cIO\u72ec\u5360\u6838\u201d\u6280\u672f\uff0c\u5373\u6bcf\u4e2a\u7aef\u53e3\u5206\u914d\u4e00\u4e2a\u6838\u4e13\u95e8\u7528\u4e8e\u6570\u636e\u6536\u53d1\uff0c\u8fd9\u79cd\u8f6e\u8be2\u5f0f\u7684\u5904\u7406\u65b9\u5f0f\u6bd4\u4e2d\u65ad\u5f0f\u7684\u5904\u7406\u66f4\u9ad8\u6548\uff0c\u56e0\u800cIO\u6027\u80fd\u65b9\u9762\u6709\u663e\u8457\u63d0\u5347\u3002 EVS\u5173\u952e\u6280\u672f\uff1a \u7269\u7406\u7f51\u5361\u8bbf\u95ee\uff1aDPDK\u9ad8\u901f\u6570\u636e\u901a\u9053 \u62a5\u6587\u5904\u7406\uff1a\u4f7f\u7528\u5927\u9875\u5185\u5b58 \u4ea4\u6362\u4e1a\u52a1\u5904\u7406 \u8f6e\u8be2\u8f6c\u53d1\uff0c\u51cf\u5c11\u8c03\u5ea6\u5f00\u9500 \u591a\u6838\uff08\u7ebf\u7a0b\uff09\u5e76\u884c\u5904\u7406 Openflow\u6d41\u8868\u8f6c\u53d1\u4f18\u5316 \u524d\u540e\u7aef\uff1avhost-user\u6280\u672f DVS DVS\u662f\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff0c\u662f\u7531VRM\u7ef4\u6301\u5e76\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u8282\u70b9\uff08CNA\uff09\u7684\u903b\u8f91\u4ea4\u6362\u673a\u3002\u5b9e\u9645\u4e0a\u5728\u4e0a\u56fe\u4e2d\u6a2a\u8de8\u4e24\u4e2a\u8282\u70b9\u7684DVS\u662f\u7531\u4e24\u4e2a\u8282\u70b9\u5185\u90e8\u7684\u865a\u62df\u4ea4\u6362\u673a\u6784\u6210\u7684\u3002DVS\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u7684\u5806\u53e0\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u901a\u8fc7\u4e24\u4e2aEVS\u4e4b\u95f4\u7684\u8fde\u63a5\u7ebf\u5c06\u4e24\u4e2aEVS\u505a\u4e86\u5806\u53e0\u3002 10-FusionCompute\u78c1\u76d8\u6280\u672f \u00b6","title":"\u7b2c1\u7ae0 FusionSphere"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#00-fusionsphere","text":"","title":"00-FusionSphere\uff08\u670d\u52a1\u5668\u865a\u62df\u5316\uff09\u89e3\u51b3\u65b9\u6848"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#00-fusionsphere_1","text":"FusionSphere\u89e3\u51b3\u65b9\u6848\u901a\u8fc7\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u4f7f\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u627f\u62c5\u591a\u53f0\u670d\u52a1\u5668\u7684\u5de5\u4f5c\u3002\u901a\u8fc7\u6574\u5408\u73b0\u6709\u7684\u5de5\u4f5c\u8d1f\u8f7d\u5e76\u5229\u7528\u5269\u4f59\u7684\u670d\u52a1\u5668\u4ee5\u90e8\u7f72\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u89e3\u51b3\u65b9\u6848\uff0c\u5b9e\u73b0\u8f83\u9ad8\u7684\u6574\u5408\u7387\u3002","title":"00-FusionSphere\u7b80\u4ecb"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#01-fusionsphere","text":"\u5355\u865a\u62df\u5316\u573a\u666f\uff1a \u5355\u865a\u62df\u5316\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u53ea\u91c7\u7528FusionCompute\u4f5c\u4e3a\u7edf\u4e00\u7684\u64cd\u4f5c\u7ef4\u62a4\u7ba1\u7406\u5e73\u53f0\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c\u4e0e\u7ef4\u62a4\u7684\u5e94\u7528\u573a\u666f\u3002\u5305\u542b\u8d44\u6e90\u76d1\u63a7\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u7cfb\u7edf\u7ba1\u7406\u7b49\u3002 FusionCompute\u4e3b\u8981\u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83\u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002\u540c\u65f6\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002 \u591a\u865a\u62df\u5316\u573a\u666f\uff1a \u591a\u865a\u62df\u5316\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u6709\u591a\u5957\u865a\u62df\u5316\u73af\u5883\u9700\u8981\u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\u3002\u591a\u865a\u62df\u5316\u573a\u666f\u63d0\u4f9b\u5982\u4e0b\u4e3b\u8981\u529f\u80fd\uff1a \u7edf\u4e00\u7ba1\u7406\u548c\u7ef4\u62a4\uff1a\u652f\u6301\u540c\u65f6\u63a5\u5165FusionCompute\u548cVMware\u865a\u62df\u5316\u73af\u5883\uff0c\u5bf9\u591a\u865a\u62df\u5316\u73af\u5883\u7684\u8d44\u6e90\u548c\u4e1a\u52a1\u8fdb\u884c\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u7ef4\u62a4\u3002 \u7edf\u4e00\u76d1\u63a7\u544a\u8b66\uff1a\u652f\u6301\u5bf9\u591a\u4e2a\u865a\u62df\u5316\u73af\u5883\u3001\u591a\u79cd\u7269\u7406\u8bbe\u5907\u7684\u544a\u8b66\u8fdb\u884c\u7edf\u4e00\u63a5\u5165\u3001\u76d1\u63a7\u548c\u7ba1\u7406\u3002 \u79c1\u6709\u4e91\u573a\u666f\uff1a \u79c1\u6709\u4e91\u573a\u666f\u9002\u7528\u4e8e\u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u865a\u62df\u8d44\u6e90\u53ca\u4e1a\u52a1\u3002\u53d1\u653e\u4e1a\u52a1\u65f6\u7531\u7ba1\u7406\u5458\u548c\u79df\u6237\u5206\u522b\u5b8c\u6210\u4e0d\u540c\u7684\u4efb\u52a1\uff0c\u5171\u540c\u5b8c\u6210\u4e1a\u52a1\u7684\u53d1\u653e\u3002\u7ba1\u7406\u8d44\u6e90\u65f6\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u5bf9\u7cfb\u7edf\u6240\u6709\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\uff1b\u79df\u6237\u53ea\u80fd\u7ba1\u7406\u6240\u5c5eVDC\u7684\u8d44\u6e90\u3002 \u6839\u636e\u5b9e\u9645\u4f7f\u7528\u9700\u6c42\u7684\u4e0d\u540c\uff0c\u79c1\u6709\u4e91\u573a\u666f\u53c8\u53ef\u5206\u4e3a\u591a\u79df\u6237\u5171\u4eabVPC\u573a\u666f\u548c\u591a\u79df\u6237\u79c1\u6709VPC\u573a\u666f\u3002 \u591a\u79df\u6237\u5171\u4eabVPC\u573a\u666f \u8be5\u573a\u666f\u4e2d\uff0c\u53d1\u653e\u4e1a\u52a1\u65f6\u7ba1\u7406\u5458\u901a\u8fc7VDC\u5c06\u865a\u62df\u8d44\u6e90\u5206\u7ed9\u79df\u6237\u3002\u79df\u6237\u5728\u79df\u6237\u89c6\u56fe\uff0c\u521b\u5efa\u865a\u62df\u673a\u6216\u5e94\u7528\u5b9e\u4f8b\u65f6\u53ef\u4f7f\u7528\u7ba1\u7406\u5458\u5728\u5171\u4eabVPC\u4e2d\u521b\u5efa\u7684\u7f51\u7edc\u3002\u82e5\u5728\u521b\u5efaVDC\u65f6\uff0c\u5c06\u7ba1\u7406\u5458\u52a0\u5165\u4e86VDC\u4e2d\uff0c\u5219\u7ba1\u7406\u5458\u4e00\u4eba\u5728\u4e0d\u540c\u89c6\u56fe\u4e2d\uff0c\u53ef\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u3002\u8be5\u573a\u666f\u9002\u7528\u4e8e\u5982\u4e0b\u60c5\u51b5\uff1a \u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u9664\u7f51\u7edc\u4e4b\u5916\u7684\u865a\u62df\u8d44\u6e90\uff08\u5305\u542b\u865a\u62df\u673a\u3001\u78c1\u76d8\u7b49\uff09\u53ca\u4e1a\u52a1\u3002 \u4f01\u4e1a\u4e2d\u7684\u7f51\u7edc\u7531\u7ba1\u7406\u5458\u7edf\u4e00\u89c4\u5212\u548c\u7ef4\u62a4\uff0c\u4f01\u4e1a\u5404\u90e8\u95e8\u5747\u4f7f\u7528\u7ba1\u7406\u5458\u521b\u5efa\u7684\u7f51\u7edc\u3002 \u591a\u79df\u6237\u79c1\u6709VPC\u573a\u666f \u8be5\u573a\u666f\u4e2d\uff0c\u53d1\u653e\u4e1a\u52a1\u65f6\u7ba1\u7406\u5458\u901a\u8fc7VDC\u5c06\u865a\u62df\u8d44\u6e90\u5206\u7ed9\u79df\u6237\u3002\u79df\u6237\u5728\u79df\u6237\u89c6\u56fe\uff0c\u81ea\u884c\u521b\u5efaVPC\u3001\u7f51\u7edc\u3001\u865a\u62df\u673a\u6216\u5e94\u7528\u5b9e\u4f8b\u3002\u5f53\u540c\u65f6\u6709\u5171\u4eab\u7f51\u7edc\u9700\u6c42\u65f6\uff0c\u53ef\u4ee5\u7531\u7ba1\u7406\u5458\u521b\u5efa\u5171\u4eabVPC\u4f9b\u6240\u6709\u79df\u6237\u4f7f\u7528\u3002\u82e5\u5728\u521b\u5efaVDC\u65f6\uff0c\u5c06\u7ba1\u7406\u5458\u52a0\u5165\u4e86VDC\u4e2d\uff0c\u5219\u7ba1\u7406\u5458\u4e00\u4eba\u5728\u4e0d\u540c\u89c6\u56fe\u4e2d\uff0c\u53ef\u5b8c\u6210\u6240\u6709\u4efb\u52a1\u3002\u8be5\u573a\u666f\u9002\u7528\u4e8e\u5982\u4e0b\u60c5\u51b5\uff1a \u4f01\u4e1a\u5404\u90e8\u95e8\u9700\u8981\u5404\u81ea\u7ba1\u7406\u865a\u62df\u8d44\u6e90\uff08\u5305\u542b\u7f51\u7edc\u3001\u865a\u62df\u673a\u3001\u78c1\u76d8\u7b49\uff09\u53ca\u4e1a\u52a1\u3002 \u4f01\u4e1a\u5404\u90e8\u95e8\u7684\u7f51\u7edc\u76f8\u4e92\u9694\u79bb\uff0c\u5404\u81ea\u89c4\u5212\u3001\u521b\u5efa\u548c\u7ef4\u62a4\u3002","title":"01-FusionSphere\u89e3\u51b3\u65b9\u6848\u7684\u5e94\u7528\u573a\u666f"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#02-fusionsphere","text":"\u534e\u4e3aFusionSphere\u662f\u4e1a\u754c\u9886\u5148\u7684\u670d\u52a1\u5668\u865a\u62df\u5316\u89e3\u51b3\u65b9\u6848\uff0c\u80fd\u591f\u5e2e\u52a9\u5ba2\u6237\u5e26\u6765\u5982\u4e0b\u7684\u4ef7\u503c\uff0c\u4ece\u800c\u5927\u5e45\u63d0\u5347\u6570\u636e\u4e2d\u5fc3\u57fa\u7840\u8bbe\u65bd\u7684\u6548\u7387\u3002 \u5e2e\u52a9\u5ba2\u6237\u63d0\u5347\u6570\u636e\u4e2d\u5fc3\u57fa\u7840\u8bbe\u65bd\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002 \u5e2e\u52a9\u5ba2\u6237\u6210\u500d\u7f29\u77ed\u4e1a\u52a1\u4e0a\u7ebf\u5468\u671f\u3002 \u5e2e\u52a9\u5ba2\u6237\u6210\u500d\u964d\u4f4e\u6570\u636e\u4e2d\u5fc3\u80fd\u8017\u3002 \u5229\u7528\u865a\u62df\u5316\u57fa\u7840\u8bbe\u65bd\u7684\u9ad8\u53ef\u7528\u548c\u5f3a\u6062\u590d\u80fd\u529b\uff0c\u5b9e\u73b0\u4e1a\u52a1\u5feb\u901f\u81ea\u52a8\u5316\u6545\u969c\u6062\u590d\uff0c\u964d\u4f4e\u6570\u636e\u4e2d\u5fc3\u6210\u672c\u548c\u589e\u52a0\u7cfb\u7edf\u5e94\u7528\u7684\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4\u3002 FusionSphere\u89e3\u51b3\u65b9\u6848\u901a\u8fc7\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u4f7f\u4e00\u53f0\u7269\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u627f\u62c5\u591a\u53f0\u670d\u52a1\u5668\u7684\u5de5\u4f5c\u3002\u901a\u8fc7\u6574\u5408\u73b0\u6709\u7684\u5de5\u4f5c\u8d1f\u8f7d\u5e76\u5229\u7528\u5269\u4f59\u7684\u670d\u52a1\u5668\u4ee5\u90e8\u7f72\u65b0\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u89e3\u51b3\u65b9\u6848\uff0c\u5b9e\u73b0\u8f83\u9ad8\u7684\u6574\u5408\u7387\u3002","title":"02-FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u89e3\u51b3\u65b9\u6848\u7684\u4ef7\u503c"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#03-fusioncompute","text":"FusionCompute\u662f\u4e91\u64cd\u4f5c\u7cfb\u7edf\u8f6f\u4ef6 \u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca \u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83 \u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002 \u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\uff0c\u534f\u52a9\u8fd0\u8425\u5546\u548c\u4f01\u4e1a\u6784\u7b51\u5b89\u5168\u3001\u7eff\u8272\u3001\u8282\u80fd\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u80fd\u529b\u3002","title":"03-FusionCompute\u4ea7\u54c1\u5b9a\u4f4d"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#03-fusionmanager","text":"FusionManager\u63d0\u4f9b\u670d\u52a1\u7ba1\u7406\u3001\u670d\u52a1\u81ea\u52a8\u5316\u3001\u8d44\u6e90\u548c\u670d\u52a1\u4fdd\u8bc1\u7b49\u529f\u80fd\u3002 \u4ece\u5e95\u5c42\u63a5\u5165\u6765\u770b\uff0cFusionManager\u53ef\u4ee5\u63a5\u5165\u7269\u7406\u8d44\u6e90\u3001\u534e\u4e3a\u548c\u7b2c\u4e09\u65b9\u7684\u865a\u62df\u5316\u8f6f\u4ef6\u3001\u684c\u9762\u4e91\u3001\u4e91\u5b58\u50a8\u548c\u5404\u79cd\u4e91\u670d\u52a1\u3002\u5176\u4e2d\u7269\u7406\u8d44\u6e90\u5305\u62ec\u8ba1\u7b97\u8bbe\u5907\u3001\u5b58\u50a8\u8bbe\u5907\u548c\u7f51\u7edc\u8bbe\u5907\u3002 \u4ece\u4e0a\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u6765\u770b\uff0cFusionManager\u53ef\u4ee5\u4e3a\u7528\u6237\u63d0\u4f9bITaaS\u7684\u591a\u6837\u5316\u7684\u529f\u80fd\u548c\u4f53\u9a8c\u3002 \u4eceFusionManager\u672c\u8eab\u63d0\u4f9b\u7684\u529f\u80fd\u6765\u770b\uff0cFusionManager\u63d0\u4f9b\u4e86\u865a\u62df\u548c\u7269\u7406\u8d44\u6e90\u63a5\u5165\u3001\u8d44\u6e90\u81ea\u52a8\u5316\u7ba1\u7406\u53ca\u8d44\u6e90\u7684\u53ef\u7528\u6027\u548c\u5b89\u5168\u6027\u4fdd\u969c\u7b49\u3002 \u56e0\u6b64\uff0cFusionManager\u7684\u5b9a\u4f4d\u662f\u4ee5\u4e91\u670d\u52a1\u81ea\u52a8\u5316\u7ba1\u7406\u548c\u8d44\u6e90\u667a\u80fd\u8fd0\u7ef4\u4e3a\u6838\u5fc3\uff0c\u4e3a\u7528\u6237\u5e26\u6765\u201c\u654f\u6377\u3001\u7cbe\u7b80\u201d\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u7ba1\u7406\u4f53\u9a8c\u3002","title":"03-FusionManager\u4ea7\u54c1\u5b9a\u4f4d"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#05-fusionsphere","text":"\u7ec4\u4ef6\u8bf4\u660e\uff1a \u90e8\u4ef6 \u8bf4\u660e FusionCompute \u5fc5\u9009\u90e8\u4ef6FusionCompute\u662f\u4e91\u64cd\u4f5c\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u4e3b\u8981\u8d1f\u8d23\u786c\u4ef6\u8d44\u6e90\u7684\u865a\u62df\u5316\uff0c\u4ee5\u53ca\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u4e1a\u52a1\u8d44\u6e90\u3001\u7528\u6237\u8d44\u6e90\u7684\u96c6\u4e2d\u7ba1\u7406\u3002\u5b83\u91c7\u7528\u865a\u62df\u8ba1\u7b97\u3001\u865a\u62df\u5b58\u50a8\u3001\u865a\u62df\u7f51\u7edc\u7b49\u6280\u672f\uff0c\u5b8c\u6210\u8ba1\u7b97\u8d44\u6e90\u3001\u5b58\u50a8\u8d44\u6e90\u3001\u7f51\u7edc\u8d44\u6e90\u7684\u865a\u62df\u5316\u3002\u540c\u65f6\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u5bf9\u8fd9\u4e9b\u865a\u62df\u8d44\u6e90\u8fdb\u884c\u96c6\u4e2d\u8c03\u5ea6\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u4e1a\u52a1\u7684\u8fd0\u884c\u6210\u672c\uff0c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\uff0c\u534f\u52a9\u8fd0\u8425\u5546\u548c\u4f01\u4e1a\u6784\u7b51\u5b89\u5168\u3001\u7eff\u8272\u3001\u8282\u80fd\u7684\u4e91\u6570\u636e\u4e2d\u5fc3\u80fd\u529b\u3002VSA\u662f\u63d0\u4f9b\u865a\u62df\u9632\u706b\u5899\u3001DHCP\u529f\u80fd\u7684\u7cfb\u7edf\u670d\u52a1\u865a\u62df\u673a\uff0c\u4ec5\u5f53\u7528\u6237\u4f7f\u7528FusionManager\u63d0\u4f9b\u7684\u7f51\u7edc\u9ad8\u7ea7\u7279\u6027\u65f6\u5b89\u88c5\u3002 FusionManager \u53ef\u9009\u90e8\u4ef6FusionManager\u4e3b\u8981\u5bf9\u4e91\u8ba1\u7b97\u7684\u8f6f\u4ef6\u548c\u786c\u4ef6\u8fdb\u884c\u5168\u9762\u7684\u76d1\u63a7\u548c\u7ba1\u7406\uff0c\u5b9e\u73b0\u540c\u6784\uff0c\u5f02\u6784VMware\u865a\u62df\u5316\u591a\u8d44\u6e90\u6c60\u7ba1\u7406\uff1b\u8f6f\u786c\u4ef6\u7edf\u4e00\u544a\u8b66\u76d1\u63a7\uff1b\u81ea\u52a9\u670d\u52a1\u53ca\u6d41\u7a0b\u5ba1\u6279\u4e09\u5927\u5173\u952e\u80fd\u529b\uff0c\u5e76\u5411\u5185\u90e8\u8fd0\u7ef4\u7ba1\u7406\u4eba\u5458\u63d0\u4f9b\u8fd0\u8425\u4e0e\u7ba1\u7406\u95e8\u6237\u3002 FusionSphere eSDK \u53ef\u9009\u90e8\u4ef6FusionSphere eSDK\u662fFusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u5317\u5411\u7edf\u4e00\u63a5\u53e3\uff0c\u7b2c\u4e09\u65b9\u7f51\u5173\u7cfb\u7edf\u548c\u5176\u4ed6\u8fd0\u8425\u5e73\u53f0\u53ef\u4ee5\u901a\u8fc7eSDK\u8f7b\u677e\u5b8c\u6210\u65e0\u7f1d\u5bf9\u63a5\u3002eSDK\u5f00\u653e\u4e86FusionSphere\u670d\u52a1\u5668\u865a\u62df\u5316\u7684\u5168\u90e8\u80fd\u529b\uff0c\u5305\u62ec\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u865a\u62df\u5316\u9ad8\u7ea7\u529f\u80fd\uff0c\u8fd0\u7ef4\u7ba1\u7406\u529f\u80fd\u7b49\u3002 FusionSphere SOI \u53ef\u9009\u90e8\u4ef6FusionSphere SOI\u6027\u80fd\u76d1\u63a7\u548c\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u6765\u5bf9FusionSphere\u4e91\u8ba1\u7b97\u7cfb\u7edf\u4e2d\u865a\u62df\u673a\u7684\u6027\u80fd\u73af\u5883\u6307\u6807\u8fdb\u884c\u91c7\u96c6\u548c\u5c55\u793a\uff0c\u5efa\u7acb\u6a21\u578b\u8fdb\u884c\u5206\u6790\uff0c\u6839\u636e\u5386\u53f2\u548c\u5f53\u524d\u6570\u636e\u5bf9\u672a\u6765\u6027\u80fd\u53d8\u5316\u8fdb\u884c\u9884\u6d4b\uff0c\u4ece\u800c\u7ed9\u51fa\u5bf9\u7ba1\u7406\u5458\u7684\u7cfb\u7edf\u6027\u80fd\u7ba1\u7406\u5efa\u8bae\u3002 eBackup \u53ef\u9009\u90e8\u4ef6eBackup\u662f\u865a\u62df\u5316\u5907\u4efd\u8f6f\u4ef6\uff0c\u914d\u5408FusionCompute\u5feb\u7167\u529f\u80fd\u548cCBT\uff08Changed Block Tracking\uff09\u5907\u4efd\u529f\u80fd\u5b9e\u73b0FusionSphere\u7684\u865a\u62df\u673a\u6570\u636e\u5907\u4efd\u65b9\u6848\u3002 UltraVR \u53ef\u9009\u90e8\u4ef6UltraVR\u662f\u5bb9\u707e\u4e1a\u52a1\u7ba1\u7406\u8f6f\u4ef6\uff0c\u5229\u7528\u5e95\u5c42SAN\u5b58\u50a8\u7cfb\u7edf\u63d0\u4f9b\u7684\u5f02\u6b65\u8fdc\u7a0b\u590d\u5236\u7279\u6027\uff0c\u4e3a\u534e\u4e3aFusionSphere\u63d0\u4f9b\u865a\u62df\u673a\u5173\u952e\u6570\u636e\u7684\u6570\u636e\u4fdd\u62a4\u548c\u5bb9\u707e\u6062\u590d\u3002","title":"05-FusionSphere\u903b\u8f91\u67b6\u6784"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#06-fusioncompute","text":"\u6a21\u5757 \u529f\u80fd CNA\uff08Compute Node Agent\uff09\uff1a\u8ba1\u7b97\u8282\u70b9\u4ee3\u7406 CNA\u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\u63d0\u4f9b\u865a\u62df\u8ba1\u7b97\u529f\u80fd\u3002\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u865a\u62df\u673a\u3002\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u8ba1\u7b97\u3001\u5b58\u50a8\u3001\u7f51\u7edc\u8d44\u6e90\u3002 VRM\uff08Virtual resource management\uff09\uff1a\u865a\u62df\u8d44\u6e90\u7ba1\u7406 VRM\u4e3b\u8981\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a\u7ba1\u7406\u96c6\u7fa4\u5185\u7684\u5757\u5b58\u50a8\u8d44\u6e90\u3002\u901a\u8fc7DHCP\uff08Dynamic Host Configuration Protocol\uff09\u4e3a\u865a\u62df\u673a\u5206\u914d\u79c1\u6709IP\u5730\u5740\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u7684\u7f51\u7edc\u8d44\u6e90(IP/VLAN/DHCP)\uff0c\u4e3a\u865a\u62df\u673a\u5206\u914dIP\u5730\u5740\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u4ee5\u53ca\u865a\u62df\u673a\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u5206\u5e03\u548c\u8fc1\u79fb\u3002\u7ba1\u7406\u96c6\u7fa4\u5185\u8d44\u6e90\u7684\u52a8\u6001\u8c03\u6574\u3002\u901a\u8fc7\u5bf9\u865a\u62df\u8d44\u6e90\u3001\u7528\u6237\u6570\u636e\u7684\u7edf\u4e00\u7ba1\u7406\uff0c\u5bf9\u5916\u63d0\u4f9b\u5f39\u6027\u8ba1\u7b97\u3001\u5b58\u50a8\u3001IP\u7b49\u670d\u52a1\u3002\u901a\u8fc7\u63d0\u4f9b\u7edf\u4e00\u7684\u64cd\u4f5c\u7ef4\u62a4\u7ba1\u7406\u63a5\u53e3\uff0c\u64cd\u4f5c\u7ef4\u62a4\u4eba\u5458\u901a\u8fc7WebUI\u8fdc\u7a0b\u8bbf\u95eeFusionCompute\u5bf9\u6574\u4e2a\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c\u7ef4\u62a4\uff0c\u5305\u542b\u8d44\u6e90\u7ba1\u7406\u3001\u8d44\u6e90\u76d1\u63a7\u3001\u8d44\u6e90\u62a5\u8868\u7b49\u3002","title":"06-FusionCompute\u903b\u8f91\u67b6\u6784"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#07-fusioncompute","text":"","title":"07-FusionCompute\u7684\u4ea7\u54c1\u529f\u80fd"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_1","text":"","title":"\u865a\u62df\u5316\u8ba1\u7b97\uff1a"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_2","text":"\u5c06\u670d\u52a1\u5668\u7269\u7406\u8d44\u6e90\u62bd\u8c61\u6210\u903b\u8f91\u8d44\u6e90\uff0c\u8ba9\u4e00\u53f0\u670d\u52a1\u5668\u53d8\u6210\u51e0\u53f0\u751a\u81f3\u4e0a\u767e\u53f0\u76f8\u4e92\u9694\u79bb\u7684\u865a\u62df\u670d\u52a1\u5668\uff0c\u4e0d\u518d\u53d7\u9650\u4e8e\u7269\u7406\u4e0a\u7684\u754c\u9650\uff0c\u800c\u662f\u8ba9CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\u3001I/O\u7b49\u786c\u4ef6\u53d8\u6210\u53ef\u4ee5\u52a8\u6001\u7ba1\u7406\u7684\u201c\u8d44\u6e90\u6c60\u201d\uff0c\u4ece\u800c\u63d0\u9ad8\u8d44\u6e90\u7684\u5229\u7528\u7387\uff0c\u7b80\u5316\u7cfb\u7edf\u7ba1\u7406\u3002\u540c\u65f6\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u63d0\u5347\u865a\u62df\u5316\u6548\u7387\uff0c\u589e\u52a0\u865a\u62df\u673a\u7684\u5b89\u5168\u6027\u3002","title":"\u670d\u52a1\u5668\u865a\u62df\u5316:"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_3","text":"\u88f8\u91d1\u5c5e\u865a\u62df\u5316\uff08I\u578b\u865a\u62df\u5316\uff09 FusionCompute\u7684Hypervisor\u4f7f\u7528\u88f8\u91d1\u5c5e\u67b6\u6784\uff0c\u76f4\u63a5\u5728\u786c\u4ef6\u4e0a\u5b89\u88c5\u865a\u62df\u5316\u8f6f\u4ef6\uff0c\u5c06\u786c\u4ef6\u8d44\u6e90\u865a\u62df\u5316\u3002\u7531\u4e8e\u4f7f\u7528\u4e86\u88f8\u91d1\u5c5e\u67b6\u6784\uff0cFusionCompute\u53ef\u4e3a\u7528\u6237\u5e26\u6765\u63a5\u8fd1\u670d\u52a1\u5668\u6027\u80fd\u3001\u9ad8\u53ef\u9760\u548c\u53ef\u6269\u5c55\u7684\u865a\u62df\u673a\u3002 \u5bc4\u5c45\u865a\u62df\u5316\uff08II\u578b\u865a\u62df\u5316\uff09 \u6700\u5e95\u5c42\u662f\u7269\u7406\u786c\u4ef6\uff0c\u7269\u7406\u786c\u4ef6\u4e4b\u4e0a\u662f\u4e3b\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u662fVMM\uff08Virtual machine monitor\uff1a\u865a\u62df\u673a\u7ba1\u7406\u5c42\uff09\uff1b\u5728VMM\u4e0a\u624d\u662f\u5ba2\u6237\u865a\u62df\u673a \u6240\u8c13\u7684I\u578b\u865a\u62df\u5316\u548cII\u578b\u865a\u62df\u5316\u6211\u8ba4\u4e3a\u5176\u5b9e\u6700\u6839\u672c\u7684\u533a\u522b\u5728\u4e8e\u865a\u62df\u5316\u6240\u5728\u7684\u5c42\u7ea7\u4e0d\u540c\u3002I\u578b\u865a\u62df\u5316\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5c42\u5728\u7cfb\u7edf\u5c42\u3002II\u578b\u865a\u62df\u5316\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5c42\u5728\u5e94\u7528\u5c42\u3002\u8fd9\u4e24\u4e2a\u5c42\u7ea7\u5206\u522b\u5bf9\u5e94\u4e86\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u5185\u6838\u6001\uff1f\u4ec0\u4e48\u662f\u7cfb\u7edf\u6001\uff1f\u6211\u4eec\u5f15\u5165CPU\u7684\u865a\u62df\u5316\u4e00\u8d77\u6765\u8bb2\u3002","title":"\u8ba1\u7b97\u865a\u62df\u5316\u7684\u5206\u7c7b\uff1a"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#cpu","text":"\u5728\u865a\u62df\u5316\u53d1\u5c55\u7684\u65e9\u671f\u4e3b\u8981\u4ee5*\u5168\u865a\u62df\u5316*\u548c*\u534a\u865a\u62df\u5316*\u4e24\u5927\u6d41\u6d3e\u4e3a\u4e3b\uff0c\u4e24\u8005\u5404\u6709\u4f18\u7f3a\u70b9\u3002\u5982\u679c\u80fd\u9002\u5f53\u7684\u5c06\u5176\u5e94\u7528\u4e0d\u540c\u7684\u73af\u5883\u4e2d\uff0c\u5c31\u80fd\u5145\u5206\u7684\u53d1\u6325\u4e24\u8005\u7684\u7279\u6027\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u6536\u76ca\u3002\u968f\u7740\u8fd9\u4e24\u5927\u6d41\u6d3e\u7684\u5206\u6b67\u548c\u7ade\u4e89\u6108\u6f14\u6108\u70c8\uff0c\u7531Intel\u9886\u8854\u7684\u786c\u4ef6\u5382\u5546\u4e5f\u7eb7\u7eb7\u52a0\u5165\u5230\u865a\u62df\u5316\u7684\u6d6a\u6f6e\u4e2d\uff0c\u5f00\u542f\u4e86(\u5927\u822a\u6d77\u65f6\u4ee3)\u786c\u4ef6\u865a\u62df\u5316\u7684\u65f6\u4ee3\uff0c\u4ece\u6b64\u5168\u865a\u62df\u5316\u548c\u534a\u865a\u62df\u5316\u524d\u8fdb\u7684\u9053\u8def\u9010\u6e10\u6709\u4e86\u9760\u62e2\u7684\u8d8b\u52bf\u3002\u518d\u5230\u540e\u6765\u7684 \u7b2c\u4e8c\u4ee3\u7684\u5185\u5b58\u865a\u62df\u5316 \u3001 \u7b2c\u4e09\u4ee3\u7684\u603b\u7ebf\u865a\u62df\u5316 \u7684\u51fa\u73b0\u548c\u5174\u8d77\uff0c\u5f53\u4e0b\u865a\u62df\u5316\u5e02\u573a\u5df2\u7ecf\u4e0d\u518d\u4ee5\u5355\u7eaf\u5356\u5356\u865a\u62df\u5316\u8f6f\u4ef6\u4e3a\u4e3b\u8981\u76c8\u5229\u624b\u6bb5\uff0c\u800c\u662f\u5c06\u865a\u62df\u5316\u6280\u672f\u6574\u5408\u5728\u66f4\u5927\u3001\u66f4\u5b8c\u5584\u7684\u865a\u62df\u5316\u5e73\u53f0\u89e3\u51b3\u65b9\u6848\u4e2d\u3002\u5176\u4e2d\u5305\u62ecRedhat\u7684RHEV\u3001VMWare\u7684vSphere\u7b49\u3002 CPU\u7684\u590d\u7528\u6bd4\u4e0d\u5efa\u8bae\u8d85\u8fc71:4 x86 CPU\u67b6\u6784\u4e0e\u865a\u62df\u5316\u4e4b\u95f4\u7684\u5173\u7cfb \u5728\u7406\u89e3\u5404\u79cd\u865a\u62df\u5316\u7684\u5b9e\u73b0\u4e4b\u524d\uff0c\u9996\u5148\u8981\u4e86\u89e3x 86cpu\u7684\u67b6\u6784 \u6ce8\u610f \uff1aCPU\u4e3a\u4e86\u4fdd\u8bc1\u7a0b\u5e8f\u4ee3\u7801\u6267\u884c\u7684\u5b89\u5168\u6027\u3001\u591a\u7528\u6237\u7684\u72ec\u7acb\u6027\u3001\u4fdd\u62a4OS\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u63d0\u51fa\u4e86CPU\u6267\u884c\u72b6\u6001\u7684\u6982\u5ff5\u3002\u8fd9\u6837\u80fd\u591f\u9650\u5236\u4e0d\u540c\u7a0b\u5e8f\u4e4b\u95f4\u7684\u8bbf\u95ee\u80fd\u529b\uff0c\u907f\u514d\u4e00\u4e2a\u7a0b\u5e8f\u83b7\u53d6\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u7684\u5185\u5b58\u6570\u636e\u9020\u6210\u6570\u636e\u6df7\u4e71\uff0c\u540c\u65f6\u4e5f\u907f\u514d\u4e86\u7a0b\u5e8f\u9519\u8bef\u7684\u64cd\u4f5c\u7269\u7406\u786c\u4ef6\u3002\u4e00\u822cCPU\u90fd\u4f1a\u5212\u5206\u4e3a \u7528\u6237\u6001 \u548c \u5185\u6838\u6001 \uff0cx86\u7684CPU\u67b6\u6784\u66f4\u662f\u7ec6\u5206\u4e3a\u4e86Ring3~0\u56db\u79cd\u72b6\u6001\u3002 Ring3 \u7528\u6237\u6001(User Mode) \uff1a\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684\u7a0b\u5e8f\u4ee3\u7801\u9700\u8981\u53d7\u5230CPU\u7684\u68c0\u67e5\uff0c\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u53ea\u80fd\u8bbf\u95ee \u5185\u5b58\u9875\u8868\u9879\u4e2d \u89c4\u5b9a\u80fd\u88ab\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u8bbf\u95ee\u7684\u9875\u9762\u865a\u62df\u5730\u5740(\u53d7\u9650\u7684\u5185\u5b58\u8bbf\u95ee)\uff0c\u800c\u4e14\u8fd8\u53ea\u80fd\u8bbf\u95ee TSS\u4e2d\u7684I/O Permission Bitmap \u4e2d\u89c4\u5b9a\u80fd\u88ab\u7528\u6237\u6001\u7a0b\u5e8f\u4ee3\u7801\u8bbf\u95ee\u7684\u7aef\u53e3\u3002\u751a\u81f3\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u3001\u4e0d\u80fd\u62a2\u5360CPU\u3002\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f(Application)\u90fd\u8fd0\u884c\u5728\u7528\u6237\u6001\u4e0a\u3002\u2014\u2014 \u5f53\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684Application\u9700\u8981\u8c03\u7528\u53ea\u80fd\u88ab\u6838\u5fc3\u6001\u4ee3\u7801\u76f4\u63a5\u8bbf\u95ee\u7684\u786c\u4ef6\u8bbe\u5907\u65f6\uff0cCPU\u4f1a\u901a\u8fc7\u7279\u522b\u7684\u63a5\u53e3\u53bb\u8c03\u7528\u6838\u5fc3\u6001\u7684\u4ee3\u7801\uff0c\u4ee5\u6b64\u6765\u5b9e\u73b0Application\u5bf9\u786c\u4ef6\u8bbe\u5907\u7684\u8c03\u7528\u3002 \u5982\u679c\u7528\u6237\u6001\u7684Application\u76f4\u63a5\u8c03\u7528\u786c\u4ef6\u8bbe\u5907\u65f6\uff0c\u5c31\u4f1a\u88abHost OS\u6355\u6349\u5230\u5e76\u89e6\u53d1\u5f02\u5e38\uff0c\u5f39\u51fa\u8b66\u544a\u7a97\u53e3\u3002 Ring0 \u6838\u5fc3\u6001(Kernel Mode) \uff1a\u662fHost OS Kernel\u8fd0\u884c\u7684\u6a21\u5f0f\uff0c\u8fd0\u884c\u5728\u6838\u5fc3\u6001\u7684\u4ee3\u7801\u53ef\u4ee5\u65e0\u9650\u5236\u7684\u5bf9\u7cfb\u7edf\u5185\u5b58\u3001\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u3001\u7f51\u5361\u63a5\u53e3\u3001\u663e\u5361\u63a5\u53e3\u7b49\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u8fdb\u884c\u8bbf\u95ee\u3002\u53ea\u6709Host OS\u80fd\u591f\u65e0\u9650\u5236\u7684\u8bbf\u95ee\u78c1\u76d8\u3001\u952e\u76d8\u7b49\u5916\u56f4\u786c\u4ef6\u8bbe\u5907\u7684\u6570\u636e\uff0c\u4f46\u662f\u9996\u5148\u9700\u8981\u5728Host OS\u4e0a\u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f\u3002 \u865a\u62df\u5316\u5b9e\u73b0 \u7b80\u5355\u6765\u8bf4\uff1aGuest OS\u548cVMM\u90fd\u5c5e\u4e8e\u8fd0\u884c\u5728Ring3\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u6216\u8005\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002GuestOS\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u65f6\u5e76\u6267\u884c\u64cd\u4f5c\u6307\u4ee4\u65f6\uff0cVMM\u4f1a\u5c06\u8be5\u64cd\u4f5c\u6307\u4ee4\u76d1\u63a7\u3001\u6355\u83b7\u3001\u68c0\u6d4b\u540e\u5c06\u6307\u4ee4\u4f20\u9012\u7ed9HostOS\uff0cHostOS\u4f1a\u5c06GuestOS\u53d1\u51fa\u7684\u8fd0\u884c\u4e8e\u7528\u6237\u6001\u7684\u64cd\u4f5c\u6307\u4ee4\u6a21\u62df\u4e3a\u6838\u5fc3\u6001\u6307\u4ee4\u3002 \u6ce8\u610f \uff1a\u5f53\u4e0a\u8ff0\u7684\u6d41\u7a0b\u662f\u975e\u5e38\u7b80\u7565\u7684\uff0c\u5728\u4e0e\u5168\u865a\u62df\u5316\u548c\u534a\u865a\u62df\u5316\u7684\u5b9e\u73b0\u8fc7\u7a0b\u96c6\u5408\u65f6\uff0c\u5c31\u4f1a\u53d8\u5f97\u975e\u5e38\u590d\u6742\u3002 \u5168\u865a\u62df\u5316\uff08Full virtualization\uff09 GuestOS\u53ef\u4ee5\u76f4\u63a5\u5728\u5168\u865a\u62df\u5316VMM\u4e0a\u8fd0\u884c\u800c\u4e0d\u9700\u8981\u5bf9GuestOS\u672c\u8eab\u7684\u6838\u5fc3\u4ee3\u7801\u505a\u4efb\u4f55\u4fee\u6539\uff0c\u5168\u865a\u62df\u5316\u7684GuestOS\u5177\u6709\u5b8c\u5168\u7684\u7269\u7406\u673a\u7279\u6027\u3002\u65e2VMM\u4f1a\u4e3aGuestOS\u62bd\u8c61\u6a21\u62df\u51fa\u5b83\u6240\u9700\u8981\u7684\u5305\u62ecCPU\u3001\u78c1\u76d8\u3001\u5185\u5b58\u3001\u7f51\u5361\u3001\u663e\u5361\u7b49\u62bd\u8c61\u786c\u4ef6\u8d44\u6e90\uff0c\u6240\u4ee5\u5168\u865a\u62df\u5316\u7684GuestOS\u5e76\u4e0d\u4f1a\u77e5\u9053\u81ea\u5df1\u5176\u5b9e\u662f\u4e00\u53f0\u865a\u62df\u673a\u3002 \u7ed3\u5408\u4e0a\u8ff0\u7684\u865a\u62df\u5316\u5b9e\u73b0\u56fe\u6765\u770b \uff1a\u5f53\u6211\u4eec\u4f7f\u7528GuestOS\u7684\u65f6\u5019\uff0c\u4e0d\u53ef\u907f\u514d\u7684\u4f1a\u8c03\u7528GuestOS\u4e2d\u7684 \u865a\u62df\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f*\u548c *\u6838\u5fc3\u8c03\u5ea6\u7a0b\u5e8f \u6765\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u3002\u4e0eHostOS\u7684\u4e0d\u540c\u5728\u4e8e\uff0cHostOS\u8fd0\u884c\u5728CPU\u7684\u6838\u5fc3\u6001\u4e2d\uff0c\u8fd9\u5c31\u8868\u793aHostOS\u53ef\u4ee5\u76f4\u63a5\u5bf9\u786c\u4ef6\u8bbe\u5907\u8fdb\u884c\u64cd\u4f5c\u3002\u4f46GuestOS\u4f5c\u4e3a\u4e00\u4e2a\u8fd0\u884c\u5728CPU\u7528\u6237\u6001\u4e2d\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u80fd\u591f\u76f4\u63a5\u7684\u64cd\u4f5c\u786c\u4ef6\u8bbe\u5907\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cVMM\u5f15\u7528\u4e86\u4e24\u4e2a\u673a\u5236\u2014\u2014 \u7279\u6743\u89e3\u9664 & \u9677\u5165\u6a21\u62df \u3002 \u7279\u6743\u89e3\u9664 \uff1a\u4e5f\u79f0\u4e4b\u4e3a \u7ffb\u8bd1 \uff0c\u5f53GuestOS\u9700\u8981\u8c03\u7528\u8fd0\u884c\u5728\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u65f6\uff0cVMM\u5c31\u4f1a\u52a8\u6001\u7684\u5c06\u6838\u5fc3\u6001\u6307\u4ee4\u6355\u83b7\u5e76\u8c03\u7528\u82e5\u5e72\u8fd0\u884c\u5728\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u6765\u6a21\u62df\u51fa\u671f\u671b\u5f97\u5230\u7684\u6548\u679c(GuestOS\u548cVMM\u662f\u8fd0\u884c\u5728\u7528\u6237\u6001\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f)\uff0c\u4ece\u800c\u5c06\u6838\u5fc3\u6001\u7684\u7279\u6743\u89e3\u9664\u3002\u89e3\u9664\u4e86\u6838\u5fc3\u6001\u7684\u7279\u6743\u540e\uff0c\u5c31\u80fd\u591f\u5728GuestOS\u4e2d\u6267\u884c\u5927\u90e8\u5206\u7684\u6838\u5fc3\u6001\u6307\u4ee4\u4e86\u3002\u4f46\u662f\uff0c\u8fd9\u4ecd\u7136\u4e0d\u80fd\u5b8c\u7f8e\u7684\u89e3\u51b3\u95ee\u9898\u3002\u56e0\u4e3a\u5728\u4e00\u4e2aOS\u7684\u6307\u4ee4\u96c6\u4e2d\u8fd8\u5b58\u5728\u7740\u4e00\u79cd\u654f\u611f\u6307\u4ee4(\u53ef\u80fd\u662f\u5185\u6838\u6001\uff0c\u4e5f\u53ef\u80fd\u662f\u7528\u6237\u6001)\u3002\u6b64\u65f6\u5c31\u9700\u8981\u9677\u5165\u6a21\u62df\u7684\u5b9e\u73b0\u3002 \u9677\u5165\u6a21\u62df \uff1a\u65e0\u8bba\u662fHostOS\u8fd8\u662fGuestOS\uff0c\u53ea\u8981\u662f\u4e00\u4e2aOS\u90fd\u5fc5\u7136\u4f1a\u5b58\u5728\u6709\u654f\u611f\u6307\u4ee4(reboot\u3001shutdown\u7b49)\u3002\u8bd5\u60f3\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5c06GuestOS\u91cd\u542f\uff0c\u5e76\u5728GuestOS\u4e2d\u6267\u884c\u4e86 reboot \u6307\u4ee4\uff0c\u4f46\u662f\u5374\u5c06HostOS\u7ed9\u91cd\u542f\u4e86\uff0c\u8fd9\u5c06\u4f1a\u975e\u5e38\u7cdf\u7cd5\u3002VMM\u7684\u9677\u5165\u6a21\u62df\u673a\u5236\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 e.g. \u5728GuestOS\u4e2d\u6267\u884c\u4e86\u654f\u611f\u6307\u4ee4 reboot \u65f6\uff0cVMM\u9996\u5148\u4f1a\u5c06\u654f\u611f\u6307\u4ee4 reboot \u6355\u83b7\u3001\u68c0\u6d4b\u5e76\u5224\u5b9a\u5176\u4e3a\u654f\u611f\u6307\u4ee4\u3002\u6b64\u65f6VMM\u5c31\u4f1a\u9677\u5165\u6a21\u62df\uff0c\u5c06\u654f\u611f\u6307\u4ee4 reboot \u6a21\u62df\u6210\u4e00\u4e2a\u53ea\u9488\u5bf9GuestOS\u8fdb\u884c\u64cd\u4f5c\u7684\u3001\u975e\u654f\u611f\u7684\u3001\u5e76\u4e14\u8fd0\u884c\u5728\u975e\u6838\u5fc3\u6001\u4e0a\u7684 \"reboot\" \u6307\u4ee4\uff0c\u6700\u540eCPU\u6267\u884c\u865a\u62df\u673a\u7684\u91cd\u542f\u64cd\u4f5c\u3002 \u7531\u4e8e\u5168\u865a\u62df\u5316VMM\u4f1a\u9891\u7e41\u7684\u6355\u83b7\u8fd9\u4e9b\u6838\u5fc3\u6001\u7684\u548c\u654f\u611f\u7684\u6307\u4ee4\uff0c\u5c06\u8fd9\u4e9b\u6307\u4ee4\u8fdb\u884c\u8f6c\u6362\u4e4b\u540e\uff0c\u518d\u4ea4\u7ed9CPU\u6267\u884c\u3002\u6240\u4ee5 \u7ecf\u8fc7\u4e86\u4e24\u91cd\u8f6c\u6362 \uff0c\u5bfc\u81f4\u5176\u6548\u7387\u4f1a\u6bd4\u534a\u865a\u62df\u5316\u66f4\u4f4e\uff0c\u4f46\u5168\u865a\u62df\u5316VMM\u5e94\u7528\u7a0b\u5e8f\u7684\u597d\u5904\u5728\u4e8e\u5176\u4e0d\u9700\u8981\u5bf9GuestOS\u7684\u6838\u5fc3\u6e90\u7801\u505a\u4fee\u6539\uff0c\u6240\u4ee5\u5168\u865a\u62df\u5316\u7684VMM\u53ef\u4ee5\u5b89\u88c5\u7edd\u5927\u90e8\u5206\u7684OS(\u6682\u65f6\u6765\u8bf4\u53ea\u6709\u5df2Linux\u3001open soralis\u3001BSD\u7b49\u51e0\u79cdOS\u5f00\u6e90\u4e86\u5185\u6838\u4ee3\u7801)\u3002\u5178\u578b\u7684\u5168\u865a\u62df\u5316\u8f6f\u4ef6\u6709 \u2014\u2014 VMWare\u3001Hyper-V\u3001KVM-x86(\u590d\u6742\u6307\u4ee4\u96c6)\u3002 \u5168\u865a\u62df\u5316\u7684\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f \uff1a .\u57fa\u4e8e\u9677\u5165\u6a21\u62df\u7684\u5168\u865a\u62df\u5316 \u6700\u5148\u5b9e\u73b0\u8fd9\u79cdCPU\u5168\u865a\u62df\u5316\u6280\u672f\u7684\u662fTrap-and-emulation\u6280\u672f\uff0c\u5373**\u9677\u5165\u6a21\u5f0f\u548c\u6a21\u62df\u4eff\u771f**\u6280\u672f\u3002\u8fd9\u79cd\u6280\u672f\u901a\u8fc7\u5c06OS\u9700\u6c42\u7684\u7279\u6743\u6307\u4ee4\u901a\u8fc7VMM\u81ea\u52a8\u6355\u83b7\u7684\u65b9\u5f0f\u8fd0\u884c\u540e\u8fd4\u56de\u53bbOS\u3002\u5f53OS\u6709\u7279\u6743\u6307\u4ee4\u4ea7\u751f\u65f6\uff0cVMM\u5c06\u5176\u81ea\u52a8\u6355\u83b7\uff0c\u5c06OS\u6240\u8bf7\u6c42\u7684\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u622a\u83b7\uff0c\u7136\u540e\u901a\u8fc7VMM\u8fd0\u884c\u4e4b\u540e\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9OS\u5c42\u3002VMM\u4f1a\u4f7f\u7528\u6a21\u62df\u4eff\u771f\u5c06\u7279\u6743\u6307\u4ee4\u6a21\u62df\u4eff\u771f\u7684\u65b9\u5f0f\u6267\u884c\u4e00\u904d\u3002 \u5728\u865a\u62df\u5316\u6a21\u5f0f\u4e0b\uff0c\u5c31\u5b58\u5728\u77402\u4e2d\u7279\u6b8a\u7684\u6307\u4ee4\uff1a\u7279\u6743\u6307\u4ee4\u548c\u654f\u611f\u6307\u4ee4\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u7279\u6743\u6307\u4ee4\uff1f\u4ec0\u4e48\u662f\u654f\u611f\u6307\u4ee4\uff1f **\u7279\u6743\u6307\u4ee4\uff1a**\u7cfb\u7edf\u4e2d\u6709\u4e00\u4e9b\u64cd\u4f5c\u548c\u7ba1\u7406\u5173\u952e\u7cfb\u7edf\u8d44\u6e90\u7684\u6307\u4ee4\uff0c\u8fd9\u4e9b\u6307\u4ee4\u53ea\u6709\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u4e0a\u80fd\u591f\u6b63\u786e\u8fd0\u884c\u3002\u5982\u679c\u5728\u975e\u6700\u9ad8\u7279\u6743\u7ea7\u4e0a\u8fd0\u884c\uff0c\u7279\u6743\u6307\u4ee4\u4f1a\u5f15\u53d1\u4e00\u4e2a\u5f02\u5e38\uff0c\u5904\u7406\u5668\u4f1a\u9677\u5165\u5230\u6700\u9ad8\u7279\u6743\u7ea7\uff0c\u4ea4\u7531\u7cfb\u7edf\u8f6f\u4ef6\u5904\u7406\u4e86\u3002 **\u654f\u611f\u6307\u4ee4\uff1a**\u64cd\u4f5c\u7279\u6743\u8d44\u6e90\u7684\u6307\u4ee4\uff0c\u5305\u62ec\u4fee\u6539\u865a\u62df\u673a\u7684\u8fd0\u884c\u6a21\u5f0f\u6216\u8005\u4e0b\u9762\u7269\u7406\u673a\u7684\u72b6\u6001\uff1b\u8bfb\u5199\u65f6\u949f\u3001\u4e2d\u65ad\u7b49\u5bc4\u5b58\u5668\uff1b\u8bbf\u95ee\u5b58\u50a8\u4fdd\u62a4\u7cfb\u7edf\u3001\u5730\u5740\u91cd\u5b9a\u4f4d\u7cfb\u7edf\u53ca\u6240\u6709\u7684I/O\u6307\u4ee4\u3002 \u6839\u636ePopek\u548cGoldberg\u7684\u5b9a\u4e49\uff0c\u6307\u4ee4\u96c6\u652f\u6301\u865a\u62df\u5316\u7684\u524d\u63d0\u662f\uff1a\u6240\u6709\u654f\u611f\u6307\u4ee4\u90fd\u662f\u7279\u6743\u6307\u4ee4\u3002\u5f88\u53ef\u60dcx86\u6307\u4ee4\u96c6\u4e0d\u80fd\u6ee1\u8db3\u8fd9\u4e2a\u8981\u6c42\u3002 \u865a\u62df\u5316\u573a\u666f\u4e0b\uff0c\u8981\u6c42\u5c06GuestOS\u5185\u6838\u7684\u7279\u6743\u89e3\u9664\uff0c\u4ece\u539f\u6765\u76840\u964d\u4f4e\u52301\u6216\u80053\u3002\u8fd9\u90e8\u5206\u7279\u6743\u6307\u4ee4\u5728Guest OS\u4e2d\u53d1\u751f\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4ea7\u751fTrap\uff0c\u88abVMM\u6355\u83b7\uff0c\u4ece\u800c\u7531VMM\u5b8c\u6210\u3002\u8fd9\u5c31\u662f\u865a\u62df\u7684\u672c\u8d28\u65b9\u6cd5\uff0c \u7279\u6743\u89e3\u9664\u548c\u9677\u5165\u6a21\u62df(Privilege deprivileging/Trap-and-Emulation) \u3002\u865a\u62df\u5316\u573a\u666f\u4e2d\u654f\u611f\u6307\u4ee4\u5fc5\u987b\u88abVMM\u6355\u83b7\u5e76\u5b8c\u6210\u3002\u5bf9\u4e8e\u4e00\u822c RISC \u5904\u7406\u5668\uff0c\u5982 MIPS\uff0cPowerPC \u4ee5\u53caSPARC\uff0c\u654f\u611f\u6307\u4ee4\u80af\u5b9a\u662f\u7279\u6743\u6307\u4ee4\uff0c\u4f46\u662fx86 \u4f8b\u5916\uff0cx86\u7edd\u5927\u591a\u6570\u7684\u654f\u611f\u6307\u4ee4\u662f\u7279\u6743\u6307\u4ee4\uff0c\u4f46\u662f\u7531\u4e8e\u90e8\u5206\u654f\u611f\u6307\u4ee4\u4e0d\u662f\u7279\u6743\u6307\u4ee4\uff0c\u6267\u884c\u8fd9\u4e9b\u6307\u4ee4\u7684\u65f6\u5019\u4e0d\u4f1a\u81ea\u52a8trap\u88abVMM\u6355\u83b7\u3002 \u57fa\u4e8e\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7684\u5168\u865a\u62df\u5316 \u91c7\u7528\u6a21\u62df\u4eff\u771f\u7684\u65b9\u5f0f\u6a21\u62df\u548c\u865a\u62df\u5316x86\u67b6\u6784\u7684CPU\uff0c\u4f46\u662f\u7531\u4e8ex86\u67b6\u6784\u7684CPU\u4e2d\uff0c\u4e0d\u662f\u6240\u6709\u7684\u654f\u611f\u6307\u4ee4\u90fd\u662f\u7279\u6743\u6307\u4ee4\uff0c\u6240\u4ee5\u5e76\u4e0d\u80fd\u5b8c\u5168\u7684\u89e3\u51b3\u6389\u90a3\u4e9b\u4e0d\u662f\u7279\u6743\u6307\u4ee4\u7684\u654f\u611f\u6307\u4ee4\u7684\u6a21\u62df\u4eff\u771f\u95ee\u9898\u3002\u4f8b\u5982SGDT, SLDT, SIDT \u2026 \u7531\u4e8e\u6a21\u62df\u4eff\u771f\u6280\u672f\u56fa\u6709\u7684\u7f3a\u9677\uff0c\u5bfc\u81f4\u5bf9CPU\u7684\u865a\u62df\u5316\u5e76\u4e0d\u5b8c\u6574\u3002\u6240\u4ee5\u4e5f\u5bfc\u81f4\u4e86\u57fa\u4e8ex86\u7684\u865a\u62df\u5316\u96be\u4ee5\u548c\u5176\u4ed6CPU\u67b6\u6784\u4e00\u6837\u5b9e\u73b0\u865a\u62df\u5316\u3002\u6bd4\u5982IBM\u7684Power CPU\u67b6\u6784\u5c31\u5f88\u65e9\u5177\u5907\u4e86\u865a\u62df\u5316\u7684\u6280\u672f\u5e76\u4f7f\u7528\u4e8e\u5b9e\u8df5\u3002 \u8fd9\u4e2a\u73b0\u8c61\u57281999\u5e74\u5f97\u5230\u6539\u5584\uff0cVMware\u901a\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5b8c\u6210\u4e86\u5bf9x86 CPU\u67b6\u6784\u7684\u5b8c\u5168\u865a\u62df\u5316\u3002 \u5176\u4e3b\u8981\u91c7\u7528**\u4f18\u5148\u7ea7\u538b\u7f29\u6280\u672f\uff08Ring Compression\uff09 \u548c**\u4e8c\u8fdb\u5236\u4ee3\u7801\u7ffb\u8bd1\u6280\u672f\uff08Binary Translation\uff09 \u3002\u4f18\u5148\u7ea7\u538b\u7f29\u6280\u672f\u8ba9VMM\u548cGuest\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7279\u6743\u7ea7\u4e0b\u3002\u5bf9x86\u67b6\u6784\u800c\u8a00\uff0c\u5373VMM\u8fd0\u884c\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u522bRing 0\u4e0b\uff0cGuest OS\u8fd0\u884c\u5728Ring 1\u4e0b\uff0c\u7528\u6237\u5e94\u7528\u8fd0\u884c\u5728Ring 3\u4e0b\u3002\u56e0\u6b64\uff0cGuest OS\u7684\u6838\u5fc3\u6307\u4ee4\u65e0\u6cd5\u76f4\u63a5\u4e0b\u8fbe\u5230\u8ba1\u7b97\u673a\u7cfb\u7edf\u786c\u4ef6\u6267\u884c\uff0c\u800c\u662f\u9700\u8981\u7ecf\u8fc7VMM\u7684\u6355\u83b7\u548c\u6a21\u62df\u6267\u884c\uff08\u90e8\u5206\u96be\u4ee5\u865a\u62df\u5316\u7684\u6307\u4ee4\u9700\u8981\u901a\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u3010Binary Translation\u3011\u6280\u672f\u8fdb\u884c\u8f6c\u6362\uff09\u3002 \u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u7b80\u79f0BT\uff0c\u662f\u4e00\u79cd\u76f4\u63a5\u7ffb\u8bd1\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7684\u6280\u672f\uff0c\u80fd\u591f\u628a\u4e00\u79cd\u5904\u7406\u5668\u4e0a\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u7ffb\u8bd1\u5230\u53e6\u5916\u4e00\u79cd\u5904\u7406\u5668\u4e0a\u6267\u884c\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5c06\u673a\u5668\u4ee3\u7801\u4ece\u6e90\u673a\u5668\u5e73\u53f0\u6620\u5c04(\u7ffb\u8bd1)\u81f3\u76ee\u6807\u673a\u5668\u5e73\u53f0\uff0c\u5305\u62ec\u6307\u4ee4\u8bed\u4e49\u4e0e\u786c\u4ef6\u8d44\u6e90\u7684\u6620\u5c04\uff0c\u4f7f\u6e90\u673a\u5668\u5e73\u53f0\u4e0a\u7684\u4ee3\u7801\u201c\u9002\u5e94\u201d\u76ee\u6807\u5e73\u53f0\u3002\u56e0\u6b64\u7ffb\u8bd1\u540e\u7684\u4ee3\u7801\u66f4\u9002\u5e94\u76ee\u6807\u673a\u5668\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u8fd0\u884c\u65f6\u6548\u7387\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7cfb\u7edf\u662f\u4f4d\u4e8e\u5e94\u7528\u7a0b\u5e8f\u548c\u8ba1\u7b97\u673a\u786c\u4ef6\u4e4b\u95f4\u7684\u4e00\u4e2a\u8f6f\u4ef6\u5c42\uff0c\u5b83\u5f88\u597d\u5730\u964d\u4f4e\u4e86\u5e94\u7528\u7a0b\u5e8f\u548c\u5e95\u5c42\u786c\u4ef6\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u4f7f\u5f97\u4e8c\u8005\u53ef\u4ee5\u76f8\u5bf9\u72ec\u7acb\u5730\u53d1\u5c55\u548c\u53d8\u5316\u3002\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u4e5f\u662f\u4e00\u79cd\u7f16\u8bd1\u6280\u672f\uff0c\u5b83\u4e0e\u4f20\u7edf\u7f16\u8bd1\u7684\u5dee\u522b\u5728\u4e8e\u5176\u7f16\u8bd1\u5904\u7406\u5bf9\u8c61\u4e0d\u540c\u3002\u4f20\u7edf\u7f16\u8bd1\u5904\u7406\u7684\u5bf9\u8c61\u662f\u67d0\u4e00\u79cd\u9ad8\u7ea7\u8bed\u8a00\uff0c\u7ecf\u8fc7\u7f16\u8bd1\u5904\u7406\u751f\u6210\u67d0\u79cd\u673a\u5668\u7684\u76ee\u6807\u4ee3\u7801\uff1b\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5904\u7406\u7684\u5bf9\u8c61\u662f\u67d0\u79cd\u673a\u5668\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u8be5\u4e8c\u8fdb\u5236\u4ee3\u7801\u662f\u901a\u8fc7\u4f20\u7edf\u7f16\u8bd1\u8fc7\u7a0b\u751f\u6210\u7684\uff0c\u7ecf\u8fc7\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5904\u7406\u540e\u751f\u6210\u53e6\u4e00\u79cd\u673a\u5668\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\u3002 \u6839\u636e\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u53ef\u5206\u4e3a\u4e09\u5927\u7c7b\uff1a\u89e3\u91ca\u6267\u884c\uff0c\u9759\u6001\u7ffb\u8bd1\u548c\u52a8\u6001\u7ffb\u8bd1\u3002 \u4ee3\u7801\u89e3\u91ca\u6267\u884c \u89e3\u91ca\u6267\u884c(Interpretation)\u8fc7\u7a0b\u5bf9\u6e90\u673a\u5668\u4ee3\u7801\u4e2d\u7684\u6bcf\u6761\u6307\u4ee4\u5b9e\u65f6\u89e3\u91ca\u6267\u884c\uff0c\u7cfb\u7edf\u4e0d\u4fdd\u5b58\u4e14\u4e0d\u7f13\u5b58\u89e3\u91ca\u8fc7\u7684\u6307\u4ee4\uff0c\u4e0d\u9700\u8981\u7528\u6237\u5e72\u6d89\uff0c\u4e5f\u4e0d\u8fdb\u884c\u4efb\u4f55\u4f18\u5316\u3002\u89e3\u91ca\u5668\u76f8\u5bf9\u5bb9\u6613\u5f00\u53d1\uff0c\u6bd4\u8f83\u5bb9\u6613\u4e0e\u8001\u7684\u4f53\u7cfb\u7ed3\u6784\u9ad8\u5ea6\u517c\u5bb9\uff0c\u4f46\u6548\u7387\u5f88\u5dee\u3002 \u9759\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1 \u5728\u9759\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1(SBT\uff0cStatic BinaryTranslation)\u4e2d\uff0c\u4ee3\u7801\u5728\u8fd0\u884c\u4e4b\u524d\u88ab\u79bb\u7ebf\u7ffb\u8bd1\uff0c\u6839\u636e\u76ee\u6807\u673a\u5668\u7684\u6307\u4ee4\u7ed3\u6784\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u7a0b\u5e8f\uff0c\u7136\u540e\u76f4\u63a5\u6267\u884c\u8fd9\u4e2a\u7ffb\u8bd1\u540e\u751f\u6210\u7684\u7a0b\u5e8f\u3002\u9759\u6001\u7ffb\u8bd1\u5668\u7684\u79bb\u7ebf\u7ffb\u8bd1\u8fc7\u7a0b\u4e0d\u4f1a\u7ed9\u7a0b\u5e8f\u8fd0\u884c\u5e26\u6765\u989d\u5916\u5f00\u9500\uff0c\u56e0\u6b64\u53ef\u4ee5\u5145\u5206\u91c7\u7528\u5404\u79cd\u4f18\u5316\u63aa\u65bd\u751f\u4ea7\u9ad8\u8d28\u91cf\u4ee3\u7801\uff0c\u5927\u5927\u63d0\u9ad8\u8fd0\u884c\u65f6\u6548\u7387\u3002 \u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1 \u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1(DBT\uff0cDynamic BinaryTranslation)\u5219\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5bf9\u6267\u884c\u5230\u7684\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u7ffb\u8bd1\uff0c\u514b\u670d\u4e86\u9759\u6001\u7ffb\u8bd1\u6240\u65e0\u6cd5\u89e3\u51b3\u7684\u4e00\u4e9b\u56f0\u96be\uff0c\u5982\u8fd0\u884c\u65f6\u52a8\u6001\u4fe1\u606f\u6536\u96c6\uff0c\u4ee3\u7801\u6316\u6398\uff0c\u81ea\u4fee\u6539\u4ee3\u7801\u548c\u7cbe\u786e\u4e2d\u65ad\u95ee\u9898\u3002\u800c\u4e14\u52a8\u6001\u7ffb\u8bd1\u5668\u5bf9\u7528\u6237\u5b8c\u5168\u900f\u660e\uff0c\u65e0\u9700\u7528\u6237\u5e72\u9884\u3002\u867d\u7136\u52a8\u6001\u7ffb\u8bd1\u6709\u4e0a\u8ff0\u8bf8\u591a\u4f18\u70b9\uff0c\u7ffb\u8bd1\u8fc7\u7a0b\u5374\u7531\u4e8e\u53d7\u5230\u52a8\u6001\u6267\u884c\u7684\u9650\u5236\u800c\u4e0d\u80fd\u50cf\u9759\u6001\u7ffb\u8bd1\u90a3\u6837\u8fdb\u884c\u5b8c\u5168\u7ec6\u81f4\u7684\u4f18\u5316\uff0c\u4f7f\u5f97\u7ffb\u8bd1\u751f\u6210\u7684\u4ee3\u7801\u6548\u7387\u6bd4\u9759\u6001\u7ffb\u8bd1\u5668\u5dee\u3002 \u4e09\u79cd\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u7684\u6bd4\u8f83\uff1a \u7c7b\u522b \u4f18\u70b9 \u7f3a\u70b9 \u89e3\u91ca\u6267\u884c \u5f00\u53d1\u5bb9\u6613\uff0c\u4e0d\u9700\u8981\u7528\u6237\u5e72\u9884\uff0c\u9ad8\u5ea6\u517c\u5bb9 \u6548\u7387\u5f88\u5dee \u9759\u6001\u7ffb\u8bd1 \u79bb\u7ebf\u7ffb\u8bd1\uff0c\u53ef\u4ee5\u8fdb\u884c\u66f4\u597d\u7684\u4f18\u5316\uff0c\u6548\u7387\u8f83\u9ad8 \u4f9d\u8d56\u89e3\u91ca\u5668\u3001\u8fd0\u884c\u73af\u5883\u652f\u6301\uff1b\u9700\u8981\u7ec8\u7aef\u7528\u6237\u53c2\u4e0e \u52a8\u6001\u7ffb\u8bd1 \u65e0\u9700\u89e3\u91ca\u5668\u548c\u8fd0\u884c\u73af\u5883\u7684\u652f\u6301\uff0c\u65e0\u9700\u7528\u6237\u53c2\u4e0e\uff0c\u5229\u7528\u52a8\u6001\u4fe1\u606f\u6765\u53d1\u73b0\u4f18\u5316\u7684\u673a\u4f1a \u7ffb\u8bd1\u4ee3\u7801\u6548\u7387\u4e0d\u9ad8\uff0c\u5bf9\u76ee\u6807\u673a\u5668\u6709\u989d\u5916\u7684\u5f00\u9500 \u89e3\u91ca\u6267\u884c\u662f\u6700\u6613\u5b9e\u73b0\u7684\u4e00\u79cd\u7ffb\u8bd1\u6280\u672f\uff0c\u4f46\u662f\u5176\u7e41\u7410\u7684\u5b9e\u73b0\u65b9\u5f0f\u5927\u5927\u964d\u4f4e\u4e86\u7ffb\u8bd1\u7cfb\u7edf\u7684\u6267\u884c\u6548\u7387\u3002\u9759\u6001\u7ffb\u8bd1\u867d\u7136\u80fd\u63d0\u4f9b\u9ad8\u6548\u7684\u8fd0\u884c\u65f6\u6027\u80fd\uff0c\u4f46\u7531\u4e8e\u65e0\u6cd5\u5728\u9759\u6001\u73af\u5883\u4e0b\u8986\u76d6\u6240\u6709\u4ee3\u7801\uff0c\u65e0\u6cd5\u8131\u79bb\u5bf9\u89e3\u91ca\u5668\u7684\u4f9d\u8d56\u3002\u4e0e\u4e0a\u8ff0\u4e24\u79cd\u76f8\u6bd4\uff0c\u52a8\u6001\u7ffb\u8bd1\u5f88\u597d\u7684\u89e3\u51b3\u4e86\u4ee3\u7801\u8986\u76d6\u3001\u81ea\u4fee\u6539\u4ee3\u7801\u548c\u7cbe\u786e\u4e2d\u65ad\u7b49\u8bf8\u591a\u95ee\u9898\uff0c\u540c\u65f6\u4e5f\u80fd\u63d0\u4f9b\u53ef\u63a5\u53d7\u7684\u6267\u884c\u6548\u7387\u3002\u56e0\u6b64VMware\u57fa\u4e8e\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u6280\u672f\u5b9e\u73b0\u4e86x86\u67b6\u6784\u7684CPU\u7684\u865a\u62df\u5316\u3002 \u5178\u578b\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\uff1a\u88ab\u7ffb\u8bd1\u7684\u4ee3\u7801\u79f0\u4e3a\u6e90\u673a\u5668\u4ee3\u7801\uff0c\u5728\u5bbf\u4e3b\u673a\u4e0a\u8fd0\u884c\u7684\u4ee3\u7801\u79f0\u4e3a\u76ee\u6807\u673a\u5668\u4ee3\u7801\uff0c\u4e00\u4e2a\u5178\u578b\u7684\u52a8\u6001\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u5668\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u6a21\u5757\uff1a\u7ffb\u8bd1\u5f15\u64ce\u548c\u6267\u884c\u5f15\u64ce\u3002\u5176\u4e2d\u7ffb\u8bd1\u5668\u5f15\u64ce\u8d1f\u8d23\u5c06\u6e90\u673a\u5668\u4ee3\u7801\u7ffb\u8bd1\u4ee3\u7801\u7ffb\u8bd1\u6210\u76ee\u6807\u673a\u5668\u4ee3\u7801\uff1b\u6267\u884c\u5f15\u64ce\u8d1f\u8d23\u51c6\u5907\u76ee\u6807\u673a\u5668\u4ee3\u7801\u8fd0\u884c\u7684\u4e0a\u4e0b\u6587\u73af\u5883\uff08Execution Context\uff09\u7136\u540e\u4ece\u76ee\u6807\u673a\u5668\u4ee3\u7801\u7f13\u5b58\u4e2d\u627e\u5230\u6e90\u673a\u5668\u4ee3\u7801\u5bf9\u5e94\u7684\u76ee\u6807\u4ee3\u7801\u5e76\u6267\u884c\u3002 \u5176\u57fa\u672c\u8fd0\u884c\u6d41\u7a0b\u5982\u4e0b\uff1a \u67e5\u627e(Lookup)\u9636\u6bb5 \u8fd9\u4e2a\u9636\u6bb5\u67e5\u8be2\u76ee\u6807\u4ee3\u7801\u5757\u662f\u5426\u5b58\u5728\u4e8e\u76ee\u6807\u4ee3\u7801\u7f13\u5b58\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u5219\u8fd4\u56de\u76ee\u6807\u5757\u5165\u53e3\u5730\u5740\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fdb\u5165\u7ffb\u8bd1\u9636\u6bb5\u3002 \u4e0a\u4e0b\u6587\u5207\u6362(Context Switch)\u9636\u6bb5 \u5f53\u4e00\u4e2a\u76ee\u6807\u4ee3\u7801\u5757\u88ab\u67e5\u8be2\u5230\u6216\u8005\u7ffb\u8bd1\u6a21\u5757\u751f\u6210\u7684\u65f6\u5019\uff0c\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7cfb\u7edf\u4f1a\u6267\u884c\u4e00\u6b21\u63a7\u5236\u6743\u8f6c\u79fb\u3002\u7cfb\u7edf\u4f1a\u628a\u63a7\u5236\u6743\u4ea4\u7ed9\u6267\u884c\u6a21\u5757\u53bb\u8fd0\u884c\u8be5\u76ee\u6807\u4ee3\u7801\u5757\uff0c\u76ee\u6807\u4ee3\u7801\u5757\u8fd0\u884c\u5b8c\u6bd5\u540e\u7cfb\u7edf\u9700\u8981\u6062\u590d\u6267\u884c\u5f15\u64ce\u7684\u63a7\u5236\u6743\u3002\u4e00\u6b21\u63a7\u5236\u6743\u8f6c\u79fb\u9700\u8981\u4fdd\u5b58\u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u3002 \u7ffb\u8bd1(Translation)\u9636\u6bb5 \u5b8c\u6210\u4ece\u6e90\u673a\u5668\u4e8c\u8fdb\u5236\u4ee3\u7801\u5230\u76ee\u6807\u673a\u5668\u4e8c\u8fdb\u5236\u4ee3\u7801\u7684\u7ffb\u8bd1\u3002\u5305\u62ec\u89e3\u7801\u3001\u4e2d\u95f4\u4ee3\u7801\u4f18\u5316\u3001\u7f16\u7801\u4e09\u4e2a\u5b50\u9636\u6bb5\u3002 \u6267\u884c\u548c\u94fe\u63a5(Executing & Linking)\u9636\u6bb5 \u5f53\u57fa\u672c\u5757\u88ab\u7ffb\u8bd1\u751f\u6210\u76ee\u6807\u4ee3\u7801\u5757\u4e4b\u540e\uff0c\u4f9d\u7167\u6e90\u4ee3\u7801\u7684\u63a7\u5236\u6d41\u5b8c\u6210\u76ee\u6807\u4ee3\u7801\u5757\u4e4b\u95f4\u7684\u76f4\u63a5\u4ee5\u53ca\u95f4\u63a5\u8df3\u8f6c\u7684\u94fe\u63a5\uff0c\u5e76\u4f9d\u6b21\u8fd0\u884c\u76ee\u6807\u4ee3\u7801\u5757\u3002 \u534a\u865a\u62df\u5316 Paravirtualization \u534a\u865a\u62df\u5316\u662f\u9700\u8981GuestOS\u534f\u52a9\u7684\u865a\u62df\u5316\u3002\u56e0\u4e3a\u5728\u534a\u865a\u62df\u5316VVMM\u4e2d\u8fd0\u884c\u7684GuestOS\uff0c\u90fd\u9700\u8981\u5c06\u5176\u5185\u6838\u6e90\u7801\u8fdb\u884c\u90fd\u8fdb\u8fc7\u4e86\u7279\u522b\u7684\u4fee\u6539\u3002\u534a\u865a\u62df\u5316VMM\u5728\u5904\u7406\u654f\u611f\u6307\u4ee4\u548c\u5185\u6838\u6001\u6307\u4ee4\u7684\u6d41\u7a0b\u4e0a\u76f8\u5bf9\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u5728\u534a\u865a\u62df\u5316VMM\u4e0a\u8fd0\u884c\u7684GuestOS\u90fd\u9700\u8981\u4fee\u6539\u5185\u6838\u4ee3\u7801\uff0c\u4e3b\u8981\u662f\u4fee\u6539GuestOS\u6307\u4ee4\u96c6\u4e2d\u7684\u654f\u611f\u6307\u4ee4\u548c\u6838\u5fc3\u6001\u6307\u4ee4\u3002\u8ba9HostOS\u5728\u6355\u6293\u5230\u6ca1\u6709\u7ecf\u8fc7\u534a\u865a\u62df\u5316VMM\u6a21\u62df\u548c\u7ffb\u8bd1\u5904\u7406\u7684GuestOS\u5185\u6838\u6001\u6307\u4ee4\u6216\u654f\u611f\u6307\u4ee4\u65f6\uff0cHostOS\u4e5f\u80fd\u591f\u51c6\u786e\u7684\u5224\u65ad\u51fa\u8be5\u6307\u4ee4\u662f\u5426\u5c5e\u4e8eGuestOS(GuestOS\u77e5\u9053\u81ea\u5df1\u662f\u865a\u62df\u673a)\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u9ad8\u6548\u7684\u907f\u514d\u4e86\u4e0a\u8ff0\u95ee\u9898\u3002\u5178\u578b\u7684\u534a\u865a\u62df\u5316\u8f6f\u4ef6\u6709\u2014\u2014Xen\u3001KVM-PowerPC(\u7b80\u6613\u6307\u4ee4\u96c6) \u534a\u865a\u62df\u5316\u9664\u4e86\u4fee\u6539\u5185\u6838\u5916\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5b9e\u73b0\u65b9\u6cd5\u2014\u2014\u5728\u6bcf\u4e00\u4e2aGuestOS\u4e2d\u5b89\u88c5\u534a\u865a\u62df\u5316\u8f6f\u4ef6\uff0c e.g. VMTools\u3001RHEVTools\u3002 \u6ce8\u610f \uff1a\u82e5\u4f7f\u7528KVM\u8fd0\u884cWindows\u65f6\uff0c\u4e00\u5b9a\u8981\u5b89\u88c5\u534a\u865a\u62df\u5316\u9a71\u52a8Tools\uff0c\u5426\u5219\u65e0\u6cd5\u5de5\u4f5c\u3002\u73b0\u5728\u4e3b\u6d41\u7684\u534a\u865a\u62df\u5316\u9a71\u52a8\u662f\u7531IBM\u548credhat\u8054\u5408\u5f00\u53d1\u4e00\u4e2a\u901a\u7528\u534a\u865a\u62df\u673a\u9a71\u52a8virtio \u3002 \u5bf9\u4e8ex86\u4f53\u7cfb\u7ed3\u6784CPU\uff0cXen\u4f7f\u7528\u8d85\u7ea7\u8c03\u7528\u6765\u66ff\u6362\u88ab\u76d1\u63a7\u7684\u64cd\u4f5c\uff0c\u5176\u4e2d\u5305\u62ecx86\u67b6\u6784\u4e0b\u7684\u654f\u611f\u6307\u4ee4\u3002Xen\u6240\u91c7\u7528\u7684\u8d85\u7ea7\u66ff\u6362\u7684\u65b9\u6cd5\u662f\u4e00\u79cd\u5168\u65b0\u7684\u8bbe\u8ba1\u7406\u5ff5\uff1a\u5b83\u5c06\u95ee\u9898\u7684\u4e2d\u5fc3\uff0c\u7531VMM\u79fb\u5411Guest OS\u81ea\u8eab\uff0c\u901a\u8fc7\u4e3b\u52a8\u7684\u65b9\u5f0f\u7531Guest OS\u53bb\u5904\u7406\u8fd9\u4e9b\u6307\u4ee4\uff0c\u800c\u4e0d\u662f\u88ab\u79fb\u4ea4\u7ed9VMM\u505a\u5904\u7406\uff0c\u5728\u8fd9\u79cd\u8bbe\u8ba1\u7406\u5ff5\u4e0b\uff0c\u4fee\u6539Guest OS\u5185\u6838\u3002 \u80fd\u4fee\u6539Guest OS\u662f\u534a\u865a\u62df\u5316\u7684\u4e00\u4e2a\u6280\u672f\u6838\u5fc3\u3002\u901a\u8fc7\u4fee\u6539Guest OS\u7684\u5185\u6838\u3002\u4f7fGuest OS\u660e\u786e\u77e5\u9053\u81ea\u5df1\u662f\u8fd0\u884c\u57281\u73af\u4e0a\uff0c\u800c\u4e0d\u662f\u901a\u5e38OS\u76840\u73af\uff0c\u6709\u6548\u7684\u907f\u514d\u4e86\u865a\u62df\u5316\u7684\u6267\u884c\u51b2\u7a81\u95ee\u9898\u3002Guest OS\u4e5f\u6e05\u695aVMM\u7ed9\u81ea\u5df1\u63d0\u4f9b\u4e86\u4e00\u4e2a\u865a\u62df\u7684\u5bc4\u5b58\u5668\u7ec4\uff0c\u5e76\u80fd\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u53bb\u8bbf\u95ee\u4ed6\u4eec\uff0c\u907f\u514d\u4e86\u8bbf\u95ee\u51b2\u7a81\u7684\u95ee\u9898\u3002 \u89e3\u51b3\u4e86\u654f\u611f\u6307\u4ee4\u95ee\u9898\u53ea\u662f\u89e3\u51b3\u4e86x86\u67b6\u6784\u4e0b\u7684\u534a\u865a\u62df\u5316\u7684\u7b2c\u4e00\u6b65\u3002\u8fd0\u884c\u57281\u73af\u7684\u64cd\u4f5c\u7cfb\u7edf\u6ca1\u6709\u6743\u9650\u6267\u884c\u7684\u6307\u4ee4\uff0c\u4ea4\u7ed90\u73af\u7684VMM\u6765\u5904\u7406\uff0c\u8fd9\u4e2a\u5f88\u5927\u7a0b\u5ea6\u4e0a\u4e0e\u5e94\u7528\u7a0b\u5e8f\u7684\u7cfb\u7edf\u8c03\u7528\u5f88\u7c7b\u4f3c\uff1a\u7cfb\u7edf\u8c03\u7528\u7684\u4f5c\u7528\u662f\u628a\u5e94\u7528\u7a0b\u5e8f\u65e0\u6743\u6267\u884c\u7684\u6307\u4ee4\u4ea4\u7ed9\u64cd\u4f5c\u7cfb\u7edf\u5b8c\u6210\u3002\u56e0\u6b64\uff0cXen\u5411Guest OS\u63d0\u4f9b\u4e86\u4e00\u5957\u201c\u7cfb\u7edf\u8c03\u7528\u201d\u3002\u4ee5\u65b9\u4fbfGuest OS\u8c03\u7528\uff0c\u8fd9\u90e8\u5206\u201d\u7cfb\u7edf\u8c03\u7528\u201c\u5c31\u662f\u8d85\u7ea7\u8c03\u7528Hypercall\u3002 \u8d85\u7ea7\u8c03\u7528Hypercall\u7684\u673a\u5236\u4f7f\u7528\uff0c\u4e0d\u4ec5\u4f7fx86\u67b6\u6784\u7684\u6307\u4ee4\u865a\u62df\u5316\u5f97\u4ee5\u5b9e\u73b0\uff0c\u4e5f\u4e3a\u540e\u9762\u7684\u5185\u5b58\u865a\u62df\u5316\u548cI/O\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u65b0\u7684\u601d\u8def\u548c\u65b9\u6cd5\uff0c\u8d85\u7ea7\u8c03\u7528\u548c\u4e8b\u4ef6\u901a\u9053\u662f\u6574\u4e2a\u534a\u865a\u62df\u5316\u7684\u57fa\u7840\u3002 X86\u67b6\u6784\u7279\u6743\u7ea7 x86 \u786c\u4ef6\u652f\u6301 4 \u4e2a\u7279\u6743\u7ea7 (Ring)\uff0c\u4e00\u822c\u5185\u6838\u8fd0\u884c\u5728 Ring 0\uff0c \u7528\u6237\u5e94\u7528\u8fd0\u884c\u5728 Ring 3\uff0c \u66f4\u5c0f\u7684 Ring \u6709\u6bd4\u66f4\u9ad8\u7684 Ring \u80fd\u8bbf\u95ee\u66f4\u591a\u7684\u7cfb\u7edf\u5168\u5c40\u8d44\u6e90\uff0c\u5373\u66f4\u9ad8\u7684\u7279\u6743\u3002\u6709\u4e9b\u6307\u4ee4\u53ea\u80fd\u5728 Ring 0 \u624d\u80fd\u6b63\u786e\u6267\u884c\uff0c\u5982 LGDT\u3001LMSW \u6307\u4ee4\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u7279\u6743\u6307\u4ee4\uff1b\u53e6\u5916\u6709\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5728 Ring 3 \u6b63\u786e\u6267\u884c\uff0c\u5982 SGDT\u3001 SMSW\u3001PUSHF/POPF\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u975e\u7279\u6743\u6307\u4ee4\u3002 \u6b63\u5e38\u6a21\u5f0f\u548c\u865a\u62df\u5316\u4e24\u79cd\u60c5\u51b5\u53d9\u8ff0\u4e0b\uff0c\u7279\u6743\u6a21\u5f0f\u8bf4\u660e\u5982\u4e0b\uff1a \u6b63\u5e38\u6a21\u5f0f \uff1a\u7279\u6743\u7ea7\u522b\u662f\u9488\u5bf9\u6bb5\u6765\u8bb2\u7684\uff0c\u6bb5\u63cf\u8ff0\u7b26\u7684\u6700\u540e\u4e24\u4f4d\u6807\u8bc6\u4e86\u8be5\u6bb5\u6240\u4f4d\u4e8e\u7684\u7279\u6743\u7ea7\u522b\uff0c\u6bd4\u5982\uff0c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd0\u884c\u4e8ering0\uff08\uff09\uff0c\u6b64\u65f6\u7684\u5185\u6838\u7a0b\u5e8f\u662f\u5177\u6709\u7279\u6743\u7684\uff0c\u5373ring0\u3002\u4f4d\u4e8ering3\u7528\u6237\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u7684\u65b9\u5f0f\uff0cint80\uff0c\u540e\u7279\u6743\u7ffb\u8f6c\u5165ring0\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u987a\u5229\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff08\u597d\u50cf\u662f\u7528\u6237\u7a0b\u5e8f\u8c03\u7528\u5185\u6838\u7a0b\u5e8f\u7684\u552f\u4e00\u9014\u5f84\uff09\u3002 \u865a\u62df\u5316\u60c5\u51b5\u4e0b \uff1a \u7279\u6743\u89e3\u9664 \uff1a\u662f\u6307\u89e3\u9664\u6b63\u5e38\u60c5\u51b5\u4e0b\u8fd0\u884c\u4e8ering0\u7684\u6bb5\uff0c\u6bd4\u5982\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\uff0c\u4e3a\u4e86\u865a\u62df\u5316\u9700\u8981\uff0c\u6b64\u65f6\u89e3\u9664\u5176\u7279\u6743\uff0c\u5c06\u5176\u8fd0\u884c\u4e8ering1\u3002\u5f53\u7528\u6237\u7a0b\u5e8f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u5176\u8df3\u8f6c\u5230\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd0\u884c\u4e8ering1\u3002\u4f46\u662f\uff0c\u5728\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u4e2d\uff0c\u6709\u90e8\u5206\u6307\u4ee4\u662f\u5fc5\u987b\u5728ring0\u624d\u80fd\u6267\u884c\u7684\uff0c\u6b64\u65f6\uff0c\u4fbf\u4f1a\u81ea\u52a8\u9677\u5165\uff0c\u7136\u540e\u6a21\u62df\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7528\u6237\u7a0b\u5e8f\u8fd0\u884c\u7279\u6743\u6307\u4ee4\uff0c\u4f1a\u6709\u4e24\u6b21\u7279\u6743\u4e0b\u964d\uff0c\u4e00\u6b21\u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8fdb\u5165ring1\uff0c\u7b2c\u4e8c\u6b21\u662f\u901a\u8fc7\u7279\u6743\u6307\u4ee4\u9677\u5165\u8fdb\u5165ring0\u3002\u8fd9\u8bf4\u660e\uff0c\u4e2d\u65ad\u53d1\u751f\u65f6\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u8fd8\u662f\u4ee5\u524d\u7684\u4f4d\u4e8e\u5185\u6838\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u5176\u8fd0\u884c\u7ea7\u522b\u4e3aring1\uff0c\u90e8\u5206\u6307\u4ee4\u8fd8\u9700\u8981\u518d\u6b21\u9677\u5165\uff0c\u624d\u80fd\u6267\u884c\u3002\u53e6\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u91cd\u8981\u95ee\u9898\uff0c\u5c31\u662f\u90e8\u5206\u654f\u611f\u975e\u7279\u6743\u6307\u4ee4\u65e0\u6cd5\u9677\u5165\u7684\u95ee\u9898\uff1a\u5b58\u5728\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u3001\u8d85\u7ea7\u8c03\u7528\u7b49\u65b9\u5f0f\uff0c\u5f3a\u8feb\u5176\u9677\u5165\uff0c\u7136\u540e\u6a21\u62df\u3002 \u5728\u4f20\u7edf\u7684 X86 \u5e73\u53f0\u4e0a\u652f\u6301\u865a\u62df\u5316\u4e0a\u5b58\u5728\u5982\u4e0b\u95ee\u9898 : X86 \u6307\u4ee4\u96c6\u4e2d\u5b58\u5728 17 \u6761\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4 \uff0c\u201c\u975e\u7279\u6743\u6307\u4ee4\u201d\u8868\u660e\u8fd9\u4e9b\u6307\u4ee4\u53ef\u4ee5\u5728 x86 \u7684 ring 3 \u6267\u884c\uff0c \u800c\u201c\u654f\u611f\u6027\u201d\u8bf4\u660e VMM \u662f\u4e0d\u53ef\u4ee5\u8f7b\u6613\u8ba9\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u6267\u884c\u8fd9\u4e9b\u6307\u4ee4\u7684\u3002 \u8fd9 17 \u6761\u6307\u4ee4\u5728\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u6267\u884c\u6216\u8005\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u5168\u5c40\u72b6\u6001\u7684\u7834\u574f\uff0c\u5982 POPF \u6307\u4ee4\uff0c\u6216\u8005\u4f1a\u5bfc\u81f4\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u903b\u8f91\u4e0a\u7684\u95ee\u9898\uff0c\u5982 SMSW \u7b49\u8bfb\u7cfb\u7edf\u72b6\u6001\u6216\u63a7\u5236\u5bc4\u5b58\u5668\u7684\u6307\u4ee4\u3002\u4f20\u7edf\u7684 X86 \u6ca1\u6cd5\u6355\u83b7\u8fd9\u4e9b\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4\u3002 \u9664\u4e86\u90a3 17 \u6761\u654f\u611f\u7684\u975e\u7279\u6743\u6307\u4ee4\uff0c\u5176\u4ed6\u654f\u611f\u7684\u6307\u4ee4\u90fd\u662f\u654f\u611f\u7684\u7279\u6743\u6307\u4ee4\u3002\u5728 x86 \u865a\u62df\u5316\u73af\u5883\uff0cVMM \u9700\u8981\u5bf9\u7cfb\u7edf\u8d44\u6e90\u8fdb\u884c\u7edf\u4e00\u7684\u63a7\u5236\uff0c\u6240\u4ee5\u5176\u5fc5\u7136\u8981\u5360\u636e\u6700\u9ad8\u7684\u7279\u6743\u7ea7\uff0c\u5373 Ring 0\uff0c \u6240\u4ee5\u4e3a\u4e86\u6355\u83b7\u7279\u6743\u6307\u4ee4\uff0c\u5728\u4f20\u7edf x86 \u4e0a\u4e00\u4e2a\u76f4\u63a5\u53ef\u884c\u7684\u65b9\u6cd5\u662f \u201cRing deprivileging\u201d\uff0c \u5982\u5c06\u5ba2\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7684\u7279\u6743\u7ea7\u4ece Ring 0\u6539\u4e3a Ring 1 \u6216 Ring 3\uff0c \u5373 \u201c\u6d88\u9664\u201d \u5ba2\u5185\u6838\u7684\u7279\u6743\uff0c\u4ee5\u4f4e\u4e8e VMM\u6240\u5728\u7684 Ring 0\uff0c \u4ece\u800c\u8ba9 VMM \u6355\u83b7\u654f\u611f\u7684\u7279\u6743\u6307\u4ee4\u3002 \u603b\u7ed3 \u534a\u865a\u62df\u5316\u7684\u601d\u60f3\u5c31\u662f\uff0c\u8ba9\u5ba2\u6237\u64cd\u4f5c\u7cfb\u7edf\u77e5\u9053\u81ea\u5df1\u662f\u5728\u865a\u62df\u673a\u4e0a\u8dd1\u7684\uff0c\u5de5\u4f5c\u5728\u975ering0\u72b6\u6001\uff0c\u90a3\u4e48\u5b83\u539f\u5148\u5728\u7269\u7406\u673a\u4e0a\u6267\u884c\u7684\u4e00\u4e9b\u7279\u6743\u6307\u4ee4\uff0c\u5c31\u4f1a\u4fee\u6539\u6210\u5176\u4ed6\u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u53ef\u4ee5\u548cVMM\u7ea6\u5b9a\u597d\u7684\uff0c\u8fd9\u5c31\u76f8\u5f53\u4e8e\uff0c\u901a\u8fc7\u4fee\u6539\u4ee3\u7801\u628a\u64cd\u4f5c\u7cfb\u7edf\u79fb\u690d\u5230\u4e00\u79cd\u65b0\u7684\u67b6\u6784\u4e0a\u6765\uff0c\u5c31\u50cf\u662f\u5b9a\u5236\u5316\u3002\u6240\u4ee5XEN\u8fd9\u79cd\u534a\u865a\u62df\u5316\u6280\u672f\uff0c\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u5b9a\u5236\u5185\u6838\u7248\u672c\uff0c\u548cx86\u3001mips\u3001arm\u8fd9\u4e9b\u5185\u6838\u7248\u672c\u3002\u8fd9\u6837\u4ee5\u6765\uff0c\u5c31\u4e0d\u4f1a\u6709\u6355\u83b7\u5f02\u5e38\u3001\u7ffb\u8bd1\u3001\u6a21\u62df\u7684\u8fc7\u7a0b\u4e86\uff0c\u6027\u80fd\u635f\u8017\u975e\u5e38\u4f4e\u3002\u8fd9\u5c31\u662fXEN\u8fd9\u79cd\u534a\u865a\u62df\u5316\u67b6\u6784\u7684\u4f18\u52bf\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48XEN\u534a\u865a\u62df\u5316\u53ea\u652f\u6301\u865a\u62df\u5316Linux\uff0c\u65e0\u6cd5\u865a\u62df\u5316windows\u539f\u56e0\uff0c\u5fae\u8f6f\u4e0d\u4fee\u6539\u4ee3\u7801\u65e0\u6cd5\u5b9e\u73b0\u534a\u865a\u62df\u5316\u3002 \u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316 HVM 2005\u5e74 \u2014 Intel\u63d0\u51fa\u5e76\u5f00\u53d1\u4e86\u7531CPU\u76f4\u63a5\u652f\u6301\u7684\u865a\u62df\u5316\u6280\u672f\u3002\u8fd9\u79cd\u865a\u62df\u5316\u6280\u672f\u5f15\u5165\u65b0\u7684CPU\u8fd0\u884c\u6a21\u5f0f\u548c\u65b0\u7684\u6307\u4ee4\u96c6\uff0c\u4f7f\u5f97VMM\u548cGuestOS\u8fd0\u884c\u4e8e\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b(VMM=Root Mode;GuestOS=Non-Root Mode)\uff0cGuestOS\u8fd0\u884c\u4e8e\u53d7\u63a7\u6a21\u5f0f\uff0c\u539f\u6765\u7684\u4e00\u4e9b\u654f\u611f\u6307\u4ee4\u5728\u53d7\u63a7\u6a21\u5f0f\u4e0b\u4f1a\u5168\u90e8\u9677\u5165VMM\uff0c\u7531VMM\u6765\u5b9e\u73b0\u6a21\u62df\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u90e8\u5206\u975e\u5185\u6838\u6001\u654f\u611f\u6307\u4ee4\u7684\u9677\u5165\u2014\u2014 \u6a21\u62df\u96be\u9898 \uff0c\u800c\u4e14\u6a21\u5f0f\u5207\u6362\u65f6\u4e0a\u4e0b\u6587\u7684\u4fdd\u5b58\u6062\u590d\u7531\u786c\u4ef6\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u63d0\u9ad8\u4e86\u9677\u5165\u2014\u2014 \u6a21\u62df\u65f6\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u6548\u7387 \u3002\u8be5\u6280\u672f\u7684\u5f15\u5165\u4f7fx86 CPU\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5b9e\u73b0\u5b8c\u5168\u865a\u62df\u5316\u3002\u6545\u7686\u88ab\u51e0\u4e4e\u6240\u6709\u4e4b\u524d\u5206\u6b67\u7684\u5404\u5927\u6d41\u6d3e\u6240\u91c7\u7528\uff0c\u5305\u62ecKVM-x86\uff0cVMWare ESX Server 3\uff0cXen 3.0 \u3002 HVM\u7684\u5206\u7c7b \uff1a 1). Intel \u2013> VT-X 2). AMD \u2013> AMD-V \u76ee\u524d\u4e3b\u8981\u6709Intel\u7684VT-x\u548cAMD\u7684AMD-V\u8fd9\u4e24\u79cd\u6280\u672f\u3002\u5176\u6838\u5fc3\u601d\u60f3\u90fd\u662f\u901a\u8fc7\u5f15\u5165\u65b0\u7684\u6307\u4ee4\u548c\u8fd0\u884c\u6a21\u5f0f\uff0c\u4f7fVMM\u548cGuest OS\u5206\u522b\u8fd0\u884c\u5728\u4e0d\u540c\u6a21\u5f0f\uff08ROOT\u6a21\u5f0f\u548c\u975eROOT\u6a21\u5f0f\uff09\u4e0b\uff0c\u4e14Guest OS\u8fd0\u884c\u5728Ring 0\u4e0b\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cGuest OS\u7684\u6838\u5fc3\u6307\u4ee4\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8fbe\u5230\u8ba1\u7b97\u673a\u7cfb\u7edf\u786c\u4ef6\u6267\u884c\uff0c\u800c\u4e0d\u9700\u8981\u7ecf\u8fc7VMM\u3002\u5f53Guest OS\u6267\u884c\u5230\u7279\u6b8a\u6307\u4ee4\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u5207\u6362\u5230VMM\uff0c\u8ba9VMM\u6765\u5904\u7406\u7279\u6b8a\u6307\u4ee4\u3002 1\u3001Intel VT-x\u6280\u672f \u4e3a\u5f25\u8865x86\u5904\u7406\u5668\u7684\u865a\u62df\u5316\u7f3a\u9677\uff0c\u5e02\u573a\u7684\u9a71\u52a8\u50ac\u751f\u4e86VT-x\uff0cIntel\u63a8\u51fa\u4e86\u57fa\u4e8ex86\u67b6\u6784\u7684\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672fIntel VT(Intel Virtualization Technology)\u3002 \u76ee\u524d\uff0cIntel VT\u6280\u672f\u5305\u542bCPU\u3001\u5185\u5b58\u548cI/O\u4e09\u65b9\u9762\u7684\u865a\u62df\u5316\u6280\u672f\u3002 CPU\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u5206\u4e3a\u5bf9\u5e94\u5b89\u817e\u67b6\u6784\u7684VT-i(Intel Virtualization Technology for ltanium)\u548c\u5bf9\u5e94x86\u67b6\u6784\u7684VT-x(Intel Virtualization Technology for x86)\u3002 \u5185\u5b58\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u5305\u62ecEPT(Extended Page Table)\u6280\u672f\u3002 I/O\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u7684\u4ee3\u8868VT-d(Intel Virtualization Technology for Directed I/O)\u3002 Intel VT-x\u6280\u672f\u89e3\u51b3\u4e86\u65e9\u671fx86\u67b6\u6784\u5728\u865a\u62df\u5316\u65b9\u9762\u5b58\u5728\u7684\u7f3a\u9677\uff0c\u53ef\u4f7f\u672a\u7ecf\u4fee\u6539\u7684Guest OS\u8fd0\u884c\u5728\u7279\u6743\u7ea70\uff0c\u540c\u65f6\u51cf\u5c11VMM\u5bf9Guest OS\u7684\u5e72\u9884\u3002Intel VT-d\u6280\u672f\u901a\u8fc7\u4f7fVMM\u5c06\u7279\u5b9aI/O\u8bbe\u5907\u76f4\u63a5\u5206\u914d\u7ed9\u7279\u5b9a\u7684Guest OS\uff0c\u51cf\u5c11VMM\u5bf9I/O\u5904\u7406\u7684\u7ba1\u7406\uff0c\u4e0d\u4f46\u52a0\u901f\u6570\u636e\u4f20\u8f93\uff0c\u4e14\u6d88\u9664\u4e86\u5927\u90e8\u5206\u6027\u80fd\u5f00\u9500\u3002\u5982\u4e0b\u56fe\u6240\u793a\u3002CPU\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u7b80\u8981\u8bf4\u660e\u6d41\u7a0b\u56fe\uff1a \u6548\u6cd5IBM \u5927\u578b\u673a\uff0cVT-x\u63d0\u4f9b\u4e862 \u4e2a\u8fd0\u884c\u73af\u5883\uff1a\u6839\uff08Root\uff09\u73af\u5883\u548c\u975e\u6839\uff08Non-root\uff09\u73af\u5883\u3002\u6839\u73af\u5883\u4e13\u95e8\u4e3aVMM\u51c6\u5907\uff0c\u5f88\u50cf\u539f\u6765\u6ca1\u6709VT-x \u7684x86\uff0c\u53ea\u662f\u591a\u4e86\u5bf9VT-x \u652f\u6301\u7684\u51e0\u6761\u6307\u4ee4\u3002\u975e\u6839\u73af\u5883\u4f5c\u4e3a\u4e00\u4e2a\u53d7\u9650\u73af\u5883\u7528\u6765\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a\u3002 \u6839\u64cd\u4f5c\u6a21\u5f0f\u4e0e\u975e\u6839\u64cd\u4f5c\u6a21\u5f0f\u90fd\u6709\u76f8\u5e94\u7684\u7279\u6743\u7ea70\u81f3\u7279\u6743\u7ea73\u3002VMM\u8fd0\u884c\u5728\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea70\uff0cGuestOS\u7684\u5185\u6838\u8fd0\u884c\u5728\u975e\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea70\uff0cGuestOS\u7684\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u5728\u975e\u6839\u6a21\u5f0f\u7684\u7279\u6743\u7ea73\u3002\u8fd0\u884c\u73af\u5883\u4e4b\u95f4\u76f8\u4e92\u8f6c\u5316\uff0c\u4ece\u6839\u73af\u5883\u5230\u975e\u6839\u73af\u5883\u53ebVMEntry\uff1b\u4ece\u975e\u6839\u73af\u5883\u5230\u6839\u73af\u5883\u53ebVMExit\u3002VT-x\u5b9a\u4e49\u4e86VMEntry\u64cd\u4f5c\uff0c\u4f7fCPU\u7531\u6839\u6a21\u5f0f\u5207\u6362\u5230\u975e\u6839\u6a21\u5f0f\uff0c\u8fd0\u884c\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u6307\u4ee4\u3002\u82e5\u5728\u975e\u6839\u6a21\u5f0f\u6267\u884c\u4e86\u654f\u611f\u6307\u4ee4\u6216\u53d1\u751f\u4e86\u4e2d\u65ad\u7b49\uff0c\u4f1a\u6267\u884cVMExit\u64cd\u4f5c\uff0c\u5207\u6362\u56de\u6839\u6a21\u5f0f\u8fd0\u884cVMM\u3002","title":"CPU\u865a\u62df\u5316"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_4","text":"--->\u5185\u6838\u6001: CPU\u53ef\u4ee5\u8bbf\u95ee\u5185\u5b58\u6240\u6709\u6570\u636e, \u5305\u62ec\u5916\u56f4\u8bbe\u5907, \u4f8b\u5982\u786c\u76d8, \u7f51\u5361. CPU\u4e5f\u53ef\u4ee5\u5c06\u81ea\u5df1\u4ece\u4e00\u4e2a\u7a0b\u5e8f\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u7a0b\u5e8f --->\u7528\u6237\u6001: \u53ea\u80fd\u53d7\u9650\u7684\u8bbf\u95ee\u5185\u5b58, \u4e14\u4e0d\u5141\u8bb8\u8bbf\u95ee\u5916\u56f4\u8bbe\u5907. \u5360\u7528CPU\u7684\u80fd\u529b\u88ab\u5265\u593a, CPU\u8d44\u6e90\u53ef\u4ee5\u88ab\u5176\u4ed6\u7a0b\u5e8f\u83b7\u53d6 (2)\u4e3a\u4ec0\u4e48\u9700\u8981\u7528\u6237\u6001\u548c\u5185\u6838\u6001\uff1f --->\u7531\u4e8e\u9700\u8981\u9650\u5236\u4e0d\u540c\u7684\u7a0b\u5e8f\u4e4b\u95f4\u7684\u8bbf\u95ee\u80fd\u529b, \u9632\u6b62\u4ed6\u4eec\u83b7\u53d6\u522b\u7684\u7a0b\u5e8f\u7684\u5185\u5b58\u6570\u636e, \u6216\u8005\u83b7\u53d6\u5916\u56f4\u8bbe\u5907\u7684\u6570\u636e, \u5e76\u53d1\u9001\u5230\u7f51\u7edc, CPU\u5212\u5206\u51fa\u4e24\u4e2a\u6743\u9650\u7b49\u7ea7 : \u7528\u6237\u6001 \u548c \u5185\u6838\u6001 (3)\u7528\u6237\u6001\u4e0e\u5185\u6838\u6001\u7684\u5207\u6362? \u6240\u6709\u7528\u6237\u7a0b\u5e8f\u90fd\u662f\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684, \u4f46\u662f\u6709\u65f6\u5019\u7a0b\u5e8f\u786e\u5b9e\u9700\u8981\u505a\u4e00\u4e9b\u5185\u6838\u6001\u7684\u4e8b\u60c5, \u4f8b\u5982\u4ece\u786c\u76d8\u8bfb\u53d6\u6570\u636e, \u6216\u8005\u4ece\u952e\u76d8\u83b7\u53d6\u8f93\u5165\u7b49. \u800c\u552f\u4e00\u53ef\u4ee5\u505a\u8fd9\u4e9b\u4e8b\u60c5\u7684\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf, \u6240\u4ee5\u6b64\u65f6\u7a0b\u5e8f\u5c31\u9700\u8981\u5148\u64cd\u4f5c\u7cfb\u7edf\u8bf7\u6c42\u4ee5\u7a0b\u5e8f\u7684\u540d\u4e49\u6765\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c. \u8fd9\u65f6\u9700\u8981\u4e00\u4e2a\u8fd9\u6837\u7684\u673a\u5236: \u7528\u6237\u6001\u7a0b\u5e8f\u5207\u6362\u5230\u5185\u6838\u6001, \u4f46\u662f\u4e0d\u80fd\u63a7\u5236\u5728\u5185\u6838\u6001\u4e2d\u6267\u884c\u7684\u6307\u4ee4 \u8fd9\u79cd\u673a\u5236\u53eb**\u7cfb\u7edf\u8c03\u7528\uff08System call\uff09 , \u5728CPU\u4e2d\u7684\u5b9e\u73b0\u79f0\u4e4b\u4e3a**\u9677\u9631\u6307\u4ee4 (Trap Instruction) CPU\u548cVCPU\u5bf9\u5e94\u5173\u7cfb \u5355\u53f0\u670d\u52a1\u5668\u67092\u4e2a\u7269\u7406CPU\uff0c\u6bcf\u9897CPU\u67098\u6838\uff0c\u53c8\u56e0\u4e3a\u8d85\u7ebf\u7a0b\u6280\u672f\u53ef\u4ee5\u63d0\u4f9b\u6bcf\u4e2a\u7269\u7406\u5185\u6838\u4e24\u4e2a\u5904\u7406\u7ebf\u7a0b\uff0c\u56e0\u6b64\u6bcf\u9897CPU\u670916\u7ebf\u7a0b\uff0c\u603bvCPU\u6570\u91cf\u4e3a2*8*2=32\u4e2avCPU\u3002\u603b\u8d44\u6e90\u4e3a32*2.6GHz=83.2GHz\u3002 \u865a\u62df\u673avCPU\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7\u5355\u53f0CNA\u8282\u70b9\u53ef\u7528vCPU\u6570\u91cf\u3002\u591a\u4e2a\u865a\u62df\u673a\u95f4\u53ef\u4ee5\u590d\u7528\u540c\u4e00\u4e2a\u7269\u7406CPU\uff0c\u56e0\u6b64\u5355CNA\u8282\u70b9\u4e0a\u8fd0\u884c\u7684\u865a\u62df\u673avCPU\u6570\u91cf\u603b\u548c\u53ef\u4ee5\u8d85\u8fc7\u5b9e\u9645vCPU\u6570\u91cf\u3002","title":"\u8865\u5145\uff1a\u5185\u6838\u6001\u7528\u6237\u6001"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#x86","text":"FusionCompute\u652f\u6301\u5185\u5b58\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u964d\u4f4e\u5185\u5b58\u865a\u62df\u5316\u5f00\u9500\uff0c\u63d0\u5347\u7ea630%\u7684\u5185\u5b58\u8bbf\u95ee\u6027\u80fd\u3002\u540c\u65f6\uff0cFusionCompute\u652f\u6301\u667a\u80fd\u5185\u5b58\u590d\u7528\u7b56\u7565\uff0c\u81ea\u52a8\u4f18\u5316\u7ec4\u5408\u5404\u79cd\u5185\u5b58\u590d\u7528\u7b56\u7565\uff0c\u5b9e\u73b0\u5185\u5b58\u7684\u9ad8\u590d\u7528\u7387\u3002\u6bcf\u4e2a\u865a\u62df\u673a\u6700\u5927\u652f\u63011TB\u865a\u62df\u5185\u5b58\u3002FusionCompute\u652f\u6301\u4ee5\u4e0b\u5185\u5b58\u590d\u7528\u6280\u672f\uff1a \u5185\u5b58\u6c14\u6ce1\uff1a\u7cfb\u7edf\u4e3b\u52a8\u56de\u6536\u865a\u62df\u673a\u6682\u65f6\u4e0d\u7528\u7684\u7269\u7406\u5185\u5b58\uff0c\u5206\u914d\u7ed9\u9700\u8981\u590d\u7528\u5185\u5b58\u7684\u865a\u62df\u673a\u3002\u5185\u5b58\u7684\u56de\u6536\u548c\u5206\u914d\u90fd\u662f\u52a8\u6001\u7684\uff0c\u865a\u62df\u673a\u4e0a\u7684\u5e94\u7528\u65e0\u611f\u77e5\u3002\u6574\u4e2a\u7269\u7406\u670d\u52a1\u5668\u4e0a\u7684\u6240\u6709\u865a\u62df\u673a\u4f7f\u7528\u7684\u5206\u914d\u5185\u5b58\u603b\u91cf\u4e0d\u80fd\u8d85\u8fc7\u8be5\u670d\u52a1\u5668\u7684\u7269\u7406\u5185\u5b58\u603b\u91cf\u3002 \u5185\u5b58\u4ea4\u6362\uff1a\u5c06\u5916\u90e8\u5b58\u50a8\u865a\u62df\u6210\u5185\u5b58\u7ed9\u865a\u62df\u673a\u4f7f\u7528\uff0c\u5c06\u865a\u62df\u673a\u4e0a\u6682\u65f6\u4e0d\u7528\u7684\u6570\u636e\u5b58\u653e\u5230\u5916\u90e8\u5b58\u50a8\u4e0a\u3002\u7cfb\u7edf\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u65f6\uff0c\u518d\u4e0e\u9884\u7559\u5728\u5185\u5b58\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u4ea4\u6362\u3002 \u5185\u5b58\u5171\u4eab\uff1a\u591a\u53f0\u865a\u62df\u673a\u5171\u4eab\u6570\u636e\u5185\u5bb9\u4e3a\u96f6\u7684\u5185\u5b58\u9875\u3002","title":"\u5185\u5b58\u865a\u62df\u5316\uff08x86\uff09"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#08-","text":"\u5185\u5b58\u865a\u62df\u5316\u95ee\u9898 Native\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5185\u5b58\u7684\u8ba4\u8bc6\u548c\u7ba1\u7406\u4e24\u70b9\u5171\u8bc6\uff1a \u5185\u5b58\u90fd\u662f\u4ece\u7269\u7406\u5730\u57400\u5f00\u59cb\u7684 \u5185\u5b58\u90fd\u662f\u8fde\u7eed\u7684 \u5185\u5b58\u865a\u62df\u5316\u9700\u8981\u89e3\u51b3\u7684\u4e24\u4e2a\u95ee\u9898 \u7269\u7406\u5730\u57400\u53ea\u6709\u4e00\u4e2a\u65e0\u6cd5\u6ee1\u8db3\u591a\u4e2a\u865a\u62df\u673a\u7684\u5185\u5b58\u5730\u5740\u9700\u8981\u4ece0\u5f00\u59cb \u5730\u5740\u8fde\u7eed\uff1a\u867d\u7136\u53ef\u4ee5\u5206\u914d\u8fde\u7eed\u7684\u7269\u7406\u5730\u5740\uff0c\u4f46\u662f\u5185\u5b58\u4f7f\u7528\u6548\u7387\u4e0d\u9ad8\uff0c\u7f3a\u4e4f\u7075\u6d3b\u6027\u3002 \u5185\u5b58\u865a\u62df\u5316\uff1a\u628a\u7269\u7406\u673a\u7684\u771f\u5b9e\u7269\u7406\u5185\u5b58\u540c\u4e00\u7ba1\u7406\uff0c\u5305\u88c5\u6210\u591a\u4e2a\u865a\u62df\u673a\u7684\u8042\u6751\u7ed9\u82e5\u5e72\u865a\u62df\u673a\u4f7f\u7528\u3002KVM\u901a\u8fc7\u5185\u5b58\u865a\u62df\u5316\u5171\u4eab\u7269\u7406\u7cfb\u7edf\u5185\u5b58\u3002\u52a8\u6001\u5206\u914d\u7ed9\u865a\u62df\u673a\u3002 \u5728KVM\u4e2d\uff0c\u865a\u62df\u673a\u7269\u7406\u5185\u5b58\u4e3aqemu-kvm\u8fdb\u7a0b\u6240\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u3002KVM\u4f7f\u7528CPU\u8f85\u52a9\u7684\u5185\u5b58\u865a\u62df\u5316\u65b9\u5f0f\u3002\u5728Intel\u5e73\u53f0\u4e0a\uff0c\u5185\u5b58\u865a\u62df\u5316\u7684\u5b9e\u73b0\u65b9\u5f0f\u4e3aEPT\uff08Extended page Table\uff09","title":"08-\u5173\u952e\u7279\u6027"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_5","text":"\u5ba2\u6237\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u65b9\u5f0f\u6216\u57fa\u4e8e\u6a21\u677f\u521b\u5efa\u865a\u62df\u673a\uff0c\u5e76\u5bf9\u96c6\u7fa4\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\uff0c\u5305\u62ec\u8d44\u6e90\u81ea\u884c\u52a8\u6001\u8c03\u5ea6\uff08\u5305\u542b\u8d1f\u8f7d\u5747\u8861\u548c\u52a8\u6001\u8282\u80fd\uff09\u3001\u865a\u62df\u673a\u7ba1\u7406\uff08\u5305\u542b\u521b\u5efa\u3001\u5220\u9664\u3001\u542f\u52a8\u3001\u5173\u95ed\u3001\u91cd\u542f\u3001\u4f11\u7720\u3001\u5524\u9192\u865a\u62df\u673a\u7b49\uff09\u3001\u5b58\u50a8\u8d44\u6e90\u7ba1\u7406\uff08\u5305\u542b\u666e\u901a\u78c1\u76d8\u548c\u5171\u4eab\u78c1\u76d8\u7684\u7ba1\u7406\uff09\u3001\u865a\u62df\u673a\u5b89\u5168\u7ba1\u7406\uff08\u5305\u542b\u81ea\u5b9a\u4e49VLAN\u7b49\uff09\uff0c\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u7075\u6d3b\u8c03\u6574\u865a\u62df\u673a\u7684QoS\uff08\u5305\u62ecCPU QoS\u548c\u5185\u5b58QoS\uff09\u3002 \u865a\u62df\u673a\u751f\u547d\u5468\u671f\u7ba1\u7406 \u865a\u62df\u673a\u652f\u6301\u591a\u79cd\u64cd\u4f5c\u65b9\u5f0f\uff0c\u7528\u6237\u53ef\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u7075\u6d3b\u8c03\u6574\u865a\u62df\u673a\u72b6\u6001\u3002\u865a\u62df\u673a\u64cd\u4f5c\u65b9\u5f0f\u5305\u62ec\uff1a \u521b\u5efa/\u5220\u9664/\u542f\u52a8/\u5173\u95ed/\u91cd\u542f/\u67e5\u8be2\u865a\u62df\u673a FusionCompute\u63a5\u53d7\u6765\u81ea\u4e1a\u52a1\u7ba1\u7406\u7cfb\u7edf\u7684\u521b\u5efa\u865a\u62df\u673a\u8bf7\u6c42\uff0c\u4f9d\u636e\u8bf7\u6c42\u4e2d\u5b9a\u4e49\u7684\u865a\u62df\u673a\u89c4\u683c\uff08VCPU\u3001\u5185\u5b58\u5927\u5c0f\u3001\u76d8\u5927\u5c0f\uff09\u3001\u955c\u50cf\u8981\u6c42\u3001\u7f51\u7edc\u8981\u6c42\u7b49\uff0c\u9009\u62e9\u5408\u9002\u7684\u7269\u7406\u8d44\u6e90\u521b\u5efa\u865a\u62df\u673a\uff0c\u5e76\u5728\u865a\u62df\u673a\u521b\u5efa\u5b8c\u6210\u4e4b\u540e\uff0c\u67e5\u8be2\u865a\u62df\u673a\u8fd0\u884c\u72b6\u6001\u548c\u5c5e\u6027\u3002\u5728\u4f7f\u7528\u865a\u62df\u673a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u505c\u6b62\u3001\u91cd\u542f\u3001\u751a\u81f3\u5220\u9664\u81ea\u5df1\u7684\u865a\u62df\u673a\u3002\u8be5\u529f\u80fd\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u57fa\u672c\u7684\u865a\u62df\u673a\u64cd\u4f5c\u548c\u7ba1\u7406\u529f\u80fd\uff0c\u65b9\u4fbf\u7528\u6237\u5bf9\u865a\u62df\u673a\u7684\u4f7f\u7528\u3002 \u4f11\u7720/\u5524\u9192\u865a\u62df\u673a \u5f53\u4e1a\u52a1\u5904\u4e8e\u4f4e\u8d1f\u8f7d\u91cf\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u53ea\u4fdd\u7559\u90e8\u5206\u865a\u62df\u673a\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\uff0c\u5c06\u5176\u4ed6\u7a7a\u95f2\u865a\u62df\u673a\u4f11\u7720\uff0c\u4ee5\u964d\u4f4e\u7269\u7406\u670d\u52a1\u5668\u7684\u80fd\u8017\uff1b\u5f53\u9700\u8981\u4e1a\u52a1\u9ad8\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff0c\u518d\u5c06\u865a\u62df\u673a\u5524\u9192\uff0c\u4ee5\u6ee1\u8db3\u9ad8\u8d1f\u8f7d\u4e1a\u52a1\u91cf\u6b63\u5e38\u8fd0\u884c\u9700\u6c42\u3002\u8be5\u529f\u80fd\u6ee1\u8db3\u4e1a\u52a1\u7cfb\u7edf\u5bf9\u8d44\u6e90\u9700\u6c42\u7684\u7075\u6d3b\u6027\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002 \u865a\u62df\u673a\u6a21\u677f \u901a\u8fc7\u4f7f\u7528\u865a\u62df\u673a\u6a21\u677f\u529f\u80fd\uff0c\u7528\u6237\u53ef\u5bf9\u865a\u62df\u673a\u5b9a\u4e49\u89c4\u683c\u5316\u6a21\u677f\uff0c\u5e76\u4f7f\u7528\u6a21\u677f\u65b9\u5f0f\u5b8c\u6210\u865a\u62df\u673a\u521b\u5efa\u3002 CPU QoS \u865a\u62df\u673a\u7684CPU QoS\u7528\u4e8e\u4fdd\u8bc1\u865a\u62df\u673a\u7684\u8ba1\u7b97\u8d44\u6e90\u5206\u914d\uff0c\u9694\u79bb\u865a\u62df\u673a\u95f4\u7531\u4e8e\u4e1a\u52a1\u4e0d\u540c\u800c\u5bfc\u81f4\u7684\u8ba1\u7b97\u80fd\u529b\u76f8\u4e92\u5f71\u54cd\uff0c\u6ee1\u8db3\u4e0d\u540c\u4e1a\u52a1\u5bf9\u865a\u62df\u673a\u8ba1\u7b97\u6027\u80fd\u7684\u8981\u6c42\uff0c\u6700\u5927\u7a0b\u5ea6\u590d\u7528\u8d44\u6e90\uff0c\u964d\u4f4e\u6210\u672c\u3002 \u521b\u5efa\u865a\u62df\u673a\u65f6\uff0c\u53ef\u6839\u636e\u865a\u62df\u673a\u9884\u671f\u90e8\u7f72\u4e1a\u52a1\u5bf9CPU\u7684\u6027\u80fd\u8981\u6c42\u800c\u6307\u5b9a\u76f8\u5e94\u7684CPU QoS\u3002\u4e0d\u540c\u7684CPU QoS\u4ee3\u8868\u4e86\u865a\u62df\u673a\u4e0d\u540c\u7684\u8ba1\u7b97\u80fd\u529b\u3002\u6307\u5b9aCPU QoS\u7684\u865a\u62df\u673a\uff0c\u7cfb\u7edf\u5bf9\u5176CPU\u7684QoS\u4fdd\u969c\uff0c\u4e3b\u8981\u4f53\u73b0\u5728\u8ba1\u7b97\u80fd\u529b\u7684\u6700\u4f4e\u4fdd\u969c\u548c\u8d44\u6e90\u5206\u914d\u7684\u4f18\u5148\u7ea7\u3002 CPU QoS\u5305\u542b\u5982\u4e0b\u4e09\u4e2a\u53c2\u6570\uff1a CPU\u8d44\u6e90\u4efd\u989d CPU\u4efd\u989d\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u5728\u7ade\u4e89\u7269\u7406CPU\u8d44\u6e90\u7684\u65f6\u5019\u6309\u6bd4\u4f8b\u5206\u914d\u8ba1\u7b97\u8d44\u6e90\u3002 \u4ee5\u4e00\u4e2a\u4e3b\u9891\u4e3a2.8GHz\u7684\u5355\u6838\u7269\u7406\u4e3b\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u4e0a\u9762\u8fd0\u884c\u6709\u4e09\u53f0\u5355CPU\u7684\u865a\u62df\u673a\u3002\u4e09\u4e2a\u865a\u62df\u673aA\uff0cB\uff0cC\uff0c\u4efd\u989d\u5206\u522b\u4e3a1000\uff0c2000\uff0c4000\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673aCPU\u6ee1\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff0c\u4f1a\u6839\u636e\u4e09\u4e2a\u865a\u62df\u673a\u7684\u4efd\u989d\u6309\u6bd4\u4f8b\u5206\u914d\u8ba1\u7b97\u8d44\u6e90\u3002\u4efd\u989d\u4e3a1000\u7684\u865a\u62df\u673aA\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a400MHz\u7684\uff0c\u4efd\u989d\u4e3a2000\u7684\u865a\u62df\u673aB\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a800MHz\uff0c\u4efd\u989d\u4e3a4000\u7684\u865a\u62df\u673aC\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a1600MHz\u3002\uff08\u4ee5\u4e0a\u4e3e\u4f8b\u4ec5\u4e3a\u8bf4\u660eCPU\u4efd\u989d\u7684\u6982\u5ff5\uff0c\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\u60c5\u51b5\u4f1a\u66f4\u590d\u6742\uff09\u3002 CPU\u4efd\u989d\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u8ba1\u7b97\u8d44\u6e90\u65f6\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u72ec\u5360\u7269\u7406CPU\u8d44\u6e90\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u5747\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\uff0c\u865a\u62df\u673aA\u53ef\u4ee5\u83b7\u5f97\u6574\u4e2a\u7269\u7406\u6838\u53732.8GHz\u7684\u8ba1\u7b97\u80fd\u529b\u3002 CPU\u8d44\u6e90\u9884\u7559 CPU\u9884\u7559\u5b9a\u4e49\u4e86\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u7269\u7406CPU\u8d44\u6e90\u7684\u65f6\u5019\u5206\u914d\u7684\u6700\u4f4e\u8ba1\u7b97\u8d44\u6e90\u3002 \u5982\u679c\u865a\u62df\u673a\u6839\u636e\u4efd\u989d\u503c\u8ba1\u7b97\u51fa\u6765\u7684\u8ba1\u7b97\u80fd\u529b\u5c0f\u4e8e\u865a\u62df\u673a\u9884\u7559\u503c\uff0c\u8c03\u5ea6\u7b97\u6cd5\u4f1a\u4f18\u5148\u6309\u7167\u865a\u62df\u673a\u9884\u7559\u503c\u7684\u80fd\u529b\u628a\u8ba1\u7b97\u8d44\u6e90\u5206\u914d\u7ed9\u865a\u62df\u673a\uff0c\u5bf9\u4e8e\u9884\u7559\u503c\u8d85\u51fa\u6309\u4efd\u989d\u5206\u914d\u7684\u8ba1\u7b97\u8d44\u6e90\u7684\u90e8\u5206\uff0c\u8c03\u5ea6\u7b97\u6cd5\u4f1a\u4ece\u4e3b\u673a\u4e0a\u5176\u4ed6\u865a\u62df\u673a\u7684CPU\u4e0a\u6309\u5404\u81ea\u7684\u4efd\u989d\u6bd4\u4f8b\u6263\u9664\uff0c\u56e0\u6b64\u865a\u62df\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u4f1a\u4ee5\u9884\u7559\u503c\u4e3a\u51c6\u3002 \u5982\u679c\u865a\u62df\u673a\u6839\u636e\u4efd\u989d\u503c\u8ba1\u7b97\u51fa\u6765\u7684\u8ba1\u7b97\u80fd\u529b\u5927\u4e8e\u865a\u62df\u673a\u9884\u7559\u503c\uff0c\u90a3\u4e48\u865a\u62df\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u4f1a\u4ee5\u4efd\u989d\u503c\u8ba1\u7b97\u4e3a\u51c6\u3002 \u4ee5\u4e00\u4e2a\u4e3b\u9891\u4e3a2.8GHz\u7684\u5355\u6838\u7269\u7406\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u8fd0\u884c\u6709\u4e09\u53f0\u5355CPU\u7684\u865a\u62df\u673aA\u3001B\u3001C\uff0c\u4efd\u989d\u5206\u522b\u4e3a1000\u30012000\u30014000\uff0c\u9884\u7559\u503c\u5206\u522b\u4e3a700MHz\u30010MHz\u30010MHz\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673a\u6ee1CPU\u8d1f\u8f7d\u8fd0\u884c\u65f6\uff1a \u865a\u62df\u673aA\u5982\u679c\u6309\u7167\u4efd\u989d\u5206\u914d\uff0c\u672c\u5e94\u5f97400MHz\uff0c\u4f46\u7531\u4e8e\u5176\u9884\u7559\u503c\u5927\u4e8e400MHz\uff0c\u56e0\u6b64\u6700\u7ec8\u8ba1\u7b97\u80fd\u529b\u6309\u7167\u9884\u7559\u503c700MHz\u7b97\u3002 \u591a\u51fa\u7684(700-400)MHz\u6309\u7167B\u548cC\u5404\u81ea\u7684\u4efd\u989d\u6bd4\u4f8b\u4eceB\u548cC\u5904\u6263\u9664\u3002 \u865a\u62df\u673aB\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a(800-100)MHz\uff0c\u865a\u62df\u673aC\u83b7\u5f97\u7684\u8ba1\u7b97\u80fd\u529b\u7ea6\u4e3a(1600-200)MHz\u3002 CPU\u9884\u7559\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u8ba1\u7b97\u8d44\u6e90\u7684\u65f6\u5019\u624d\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u72ec\u5360\u7269\u7406CPU\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u5747\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\uff0c\u865a\u62df\u673aA\u53ef\u4ee5\u83b7\u5f97\u6574\u4e2a\u7269\u7406\u6838\u53732.8GHz\u7684\u8ba1\u7b97\u80fd\u529b\u3002 CPU\u8d44\u6e90\u9650\u989d \u63a7\u5236\u865a\u62df\u673a\u5360\u7528\u7269\u7406CPU\u8d44\u6e90\u7684\u4e0a\u9650\u3002\u4ee5\u4e00\u4e2a\u4e24CPU\u7684\u865a\u62df\u673a\u4e3a\u4f8b\uff0c\u5982\u679c\u8bbe\u7f6e\u8be5\u865a\u62df\u673aCPU\u4e0a\u9650\u4e3a3GHz\uff0c\u5219\u8be5\u865a\u62df\u673a\u7684\u4e24\u4e2a\u865a\u62dfCPU\u8ba1\u7b97\u80fd\u529b\u88ab\u9650\u5236\u4e3a1.5GHz\u3002 \u5185\u5b58QoS \u63d0\u4f9b\u865a\u62df\u673a\u5185\u5b58\u667a\u80fd\u590d\u7528\u529f\u80fd\uff0c\u4f9d\u8d56\u5185\u5b58\u9884\u7559\u6bd4\u3002\u901a\u8fc7\u5185\u5b58\u6c14\u6ce1\u7b49\u5185\u5b58\u590d\u7528\u6280\u672f\u5c06\u7269\u7406\u5185\u5b58\u865a\u62df\u51fa\u66f4\u591a\u7684\u865a\u62df\u5185\u5b58\u4f9b\u865a\u62df\u673a\u4f7f\u7528\uff0c\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u80fd\u5b8c\u5168\u4f7f\u7528\u5206\u914d\u7684\u865a\u62df\u5185\u5b58\u3002\u8be5\u529f\u80fd\u53ef\u6700\u5927\u7a0b\u5ea6\u7684\u590d\u7528\u5185\u5b58\u8d44\u6e90\uff0c\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\uff0c\u4e14\u4fdd\u8bc1\u865a\u62df\u673a\u8fd0\u884c\u65f6\u81f3\u5c11\u53ef\u4ee5\u83b7\u53d6\u5230\u9884\u7559\u5927\u5c0f\u7684\u5185\u5b58\uff0c\u4fdd\u8bc1\u4e1a\u52a1\u7684\u53ef\u9760\u8fd0\u884c\u3002 \u7cfb\u7edf\u7ba1\u7406\u5458\u53ef\u6839\u636e\u7528\u6237\u5b9e\u9645\u9700\u6c42\u8bbe\u7f6e\u865a\u62df\u673a\u5185\u5b58\u9884\u7559\u3002\u5185\u5b58\u590d\u7528\u7684\u4e3b\u8981\u539f\u5219\u662f\uff1a\u4f18\u5148\u4f7f\u7528\u7269\u7406\u5185\u5b58\u3002 \u5185\u5b58QoS\u5305\u542b\u5982\u4e0b\u4e24\u4e2a\u53c2\u6570\uff1a \u5185\u5b58\u8d44\u6e90\u4efd\u989d \u5185\u5b58\u4efd\u989d\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u7684\u65f6\u5019\u6309\u6bd4\u4f8b\u5206\u914d\u5185\u5b58\u8d44\u6e90\u3002 \u5728\u865a\u62df\u673a\u7533\u8bf7\u5185\u5b58\u8d44\u6e90\uff0c\u6216\u4e3b\u673a\u91ca\u653e\u7a7a\u95f2\u5185\u5b58\uff08\u865a\u62df\u673a\u8fc1\u79fb\u6216\u5173\u95ed\uff09\u65f6\uff0c\u4f1a\u6839\u636e\u865a\u62df\u673a\u7684\u5185\u5b58\u4efd\u989d\u60c5\u51b5\u6309\u6bd4\u4f8b\u5206\u914d\u3002 \u4e0d\u540c\u4e8eCPU\u8d44\u6e90\u53ef\u5b9e\u65f6\u8c03\u5ea6\uff0c\u5185\u5b58\u8d44\u6e90\u7684\u8c03\u5ea6\u662f\u5e73\u7f13\u7684\u8fc7\u7a0b\uff0c\u5185\u5b58\u4efd\u989d\u7b56\u7565\u5728\u865a\u62df\u673a\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u4e0d\u65ad\u8fdb\u884c\u5fae\u8c03\uff0c\u4f7f\u865a\u62df\u673a\u7684\u5185\u5b58\u83b7\u53d6\u91cf\u9010\u6e10\u8d8b\u4e8e\u6bd4\u4f8b\u3002 \u4ee56G\u5185\u5b58\u89c4\u683c\u7684\u4e3b\u673a\u4e3a\u4f8b\uff0c\u5047\u8bbe\u5176\u4e0a\u8fd0\u884c\u6709\u4e09\u53f04G\u5185\u5b58\u89c4\u683c\u7684\u865a\u62df\u673a\uff0c\u5185\u5b58\u4efd\u989d\u5206\u522b\u4e3a20480\u300120480\u300140960\uff0c\u90a3\u4e48\u5176\u5185\u5b58\u5206\u914d\u6bd4\u4f8b\u4e3a1:1:2\u3002\u5f53\u4e09\u4e2a\u865a\u62df\u673a\u5185\u90e8\u5747\u9010\u6b65\u52a0\u538b\uff0c\u7b56\u7565\u4f1a\u6839\u636e\u4e09\u4e2a\u865a\u62df\u673a\u7684\u4efd\u989d\u6309\u6bd4\u4f8b\u5206\u914d\u8c03\u6574\u5185\u5b58\u8d44\u6e90\uff0c\u6700\u7ec8\u4e09\u4e2a\u865a\u62df\u673a\u83b7\u5f97\u7684\u5185\u5b58\u91cf\u7a33\u5b9a\u4e3a1.5G\u30011.5G\u30013G\u3002 \u5185\u5b58\u4efd\u989d\u53ea\u5728\u5404\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u65f6\u53d1\u6325\u4f5c\u7528\uff0c\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u60c5\u51b5\u53d1\u751f\uff0c\u6709\u9700\u6c42\u7684\u865a\u62df\u673a\u53ef\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u83b7\u5f97\u5185\u5b58\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u5982\u679c\u865a\u62df\u673aB\u548cC\u6ca1\u6709\u5185\u5b58\u538b\u529b\u4e14\u672a\u8fbe\u5230\u9884\u7559\u503c\uff0c\u865a\u62df\u673aA\u5185\u5b58\u9700\u6c42\u538b\u529b\u589e\u5927\u540e\uff0c\u53ef\u4ee5\u4ece\u7a7a\u95f2\u5185\u5b58\u3001\u865a\u62df\u673aB\u548cC\u4e2d\u83b7\u53d6\u5185\u5b58\u8d44\u6e90\uff0c\u76f4\u5230\u865a\u62df\u673aA\u8fbe\u5230\u4e0a\u9650\u6216\u7a7a\u95f2\u5185\u5b58\u7528\u5c3d\u4e14\u865a\u62df\u673aB\u548cC\u8fbe\u5230\u9884\u7559\u503c\u3002\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5f53\u4efd\u989d\u4e3a40960\u7684\u865a\u62df\u673a\u6ca1\u6709\u5185\u5b58\u538b\u529b\uff08\u5185\u5b58\u8d44\u6e90\u9884\u7559\u4e3a1G\uff09\uff0c\u90a3\u4e48\u4efd\u989d\u4e3a20480\u7684\u4e24\u4e2a\u865a\u62df\u673a\u7406\u8bba\u4e0a\u53ef\u4ee5\u5404\u83b7\u5f97\u6700\u59272.5G\u7684\u5185\u5b58\u3002 \u5185\u5b58\u8d44\u6e90\u9884\u7559 \u5185\u5b58\u9884\u7559\u5b9a\u4e49\u591a\u4e2a\u865a\u62df\u673a\u7ade\u4e89\u5185\u5b58\u8d44\u6e90\u7684\u65f6\u5019\u5206\u914d\u7684\u5185\u5b58\u4e0b\u9650\uff0c\u80fd\u591f\u786e\u4fdd\u865a\u62df\u673a\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4e00\u5b9a\u53ef\u4f7f\u7528\u7684\u5185\u5b58\u8d44\u6e90\u3002 \u9884\u7559\u7684\u5185\u5b58\u88ab\u4f1a\u865a\u62df\u673a\u72ec\u5360\u3002\u5373\uff0c\u4e00\u65e6\u5185\u5b58\u88ab\u67d0\u4e2a\u865a\u62df\u673a\u9884\u7559\uff0c\u5373\u4f7f\u865a\u62df\u673a\u5b9e\u9645\u5185\u5b58\u4f7f\u7528\u91cf\u4e0d\u8d85\u8fc7\u9884\u7559\u91cf\uff0c\u5176\u4ed6\u865a\u62df\u673a\u4e5f\u65e0\u6cd5\u62a2\u5360\u8be5\u865a\u62df\u673a\u7684\u7a7a\u95f2\u5185\u5b58\u8d44\u6e90\u3002 \u865a\u62df\u8d44\u6e90\u52a8\u6001\u590d\u7528 \u865a\u62df\u673a\u7a7a\u95f2\u65f6\uff0c\u53ef\u81ea\u52a8\u6839\u636e\u53ef\u8bbe\u7f6e\u7684\u6761\u4ef6\u5c06\u5176\u90e8\u5206\u5185\u5b58\u3001CPU\u7b49\u8d44\u6e90\u91ca\u653e\u5e76\u5f52\u8fd8\u5230\u865a\u62df\u8d44\u6e90\u6c60\uff0c\u4ee5\u4f9b\u7cfb\u7edf\u5206\u914d\u7ed9\u5176\u4ed6\u865a\u62df\u673a\u4f7f\u7528\u3002\u7528\u6237\u53ef\u5728Web\u754c\u9762\u4e0a\u5bf9\u52a8\u6001\u8d44\u6e90\u8fdb\u884c\u76d1\u63a7\u3002 \u8bf4\u660e\uff1a \u5355\u4e2a\u4e3b\u673aCPU\u590d\u7528\u7387\u8d8a\u4f4e\uff0c\u4e3b\u673a\u53ca\u865a\u62df\u673a\u6027\u80fd\u8d8a\u597d\uff0c\u5efa\u8bae\u53d1\u653e\u4e1a\u52a1\u53ca\u540e\u671f\u7ef4\u62a4\u65f6\uff0c\u5355\u4e2a\u4e3b\u673aCPU\u590d\u7528\u7387\u4e0d\u8d85\u8fc74:1\u3002 \u865a\u62df\u673a\u7edf\u8ba1 \u652f\u6301\u865a\u62df\u673a\u3001\u78c1\u76d8\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u7edf\u8ba1\u62a5\u8868\u3002","title":"\u865a\u62df\u673a\u8d44\u6e90\u7ba1\u7406"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_6","text":"FusionCompute\u652f\u6301\u865a\u62df\u673a\u8d44\u6e90\u52a8\u6001\u8c03\u6574\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u8d1f\u8f7d\u52a8\u6001\u8c03\u6574\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5\u3002\u865a\u62df\u673a\u8d44\u6e90\u8c03\u6574\u5305\u62ec\uff1a \u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574VCPU\u6570\u76ee \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\uff08\u5173\u673a\uff09\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u6216\u8005\u51cf\u5c11\u865a\u62df\u673a\u7684VCPU\u6570\u76ee\u3002\u901a\u8fc7\u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u865a\u62df\u673aVCPU\u6570\u76ee\uff0c\u53ef\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u4e0a\u4e1a\u52a1\u8d1f\u8f7d\u53d1\u751f\u53d8\u5316\u65f6\u5bf9\u8ba1\u7b97\u80fd\u529b\u7075\u6d3b\u8c03\u6574\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u5185\u5b58\u5927\u5c0f \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\u589e\u52a0\u6216\u8005\u51cf\u5c11\u865a\u62df\u673a\u7684\u5185\u5b58\u5bb9\u91cf\u3002\u901a\u8fc7\u79bb\u7ebf/\u5728\u7ebf\u8c03\u6574\u5185\u5b58\u5927\u5c0f\uff0c\u53ef\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u4e0a\u4e1a\u52a1\u8d1f\u8f7d\u53d1\u751f\u53d8\u5316\u65f6\u5bf9\u5185\u5b58\u7075\u6d3b\u8c03\u6574\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u6dfb\u52a0/\u5220\u9664\u7f51\u5361 \u865a\u62df\u673a\u5728\u7ebf/\u79bb\u7ebf\u72b6\u6001\u4e0b\uff0c\u7528\u6237\u53ef\u4ee5\u6302\u8f7d\u6216\u5378\u8f7d\u865a\u62df\u7f51\u5361\uff0c\u4ee5\u6ee1\u8db3\u4e1a\u52a1\u5bf9\u7f51\u5361\u6570\u91cf\u7684\u9700\u6c42\u3002 \u79bb\u7ebf/\u5728\u7ebf\u6302\u8f7d\u865a\u62df\u78c1\u76d8 \u65e0\u8bba\u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u7528\u6237\u90fd\u53ef\u4ee5\u6302\u8f7d\u865a\u62df\u78c1\u76d8\uff0c\u5728\u4e0d\u4e2d\u65ad\u7528\u6237\u4e1a\u52a1\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u865a\u62df\u673a\u7684\u5b58\u50a8\u5bb9\u91cf\uff0c\u5b9e\u73b0\u5b58\u50a8\u8d44\u6e90\u7684\u7075\u6d3b\u4f7f\u7528\u3002 \u8bf4\u660e\uff1a \u865a\u62df\u673a\u5904\u4e8e\u79bb\u7ebf\u6216\u5728\u7ebf\u72b6\u6001\uff0c\u4e14\u865a\u62df\u673a\u4f7f\u7528\u7684\u78c1\u76d8\u662f\u865a\u62df\u5316\u5b58\u50a8\u65f6\uff0c\u7528\u6237\u53ef\u901a\u8fc7\u589e\u52a0\u5df2\u6709\u78c1\u76d8\u5bb9\u91cf\u7684\u65b9\u5f0f\u8fdb\u884c\u865a\u62df\u673a\u5b58\u50a8\u5bb9\u91cf\u7684\u6269\u5bb9\u3002","title":"\u865a\u62df\u673a\u8d44\u6e90\u52a8\u6001\u8c03\u6574"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#drsdpm","text":"DRS FusionSphere\u53ef\u4ee5\u5728\u865a\u62df\u673a\u521b\u5efa\u548c\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u611f\u77e5\u5168\u5c40\u7269\u7406\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u5e76\u901a\u8fc7\u667a\u80fd\u8c03\u5ea6\u7b97\u6cd5\uff0c\u786e\u5b9a\u9002\u5408\u865a\u62df\u673a\u8fd0\u884c\u7684\u6700\u4f73\u4e3b\u673a\uff0c\u5e76\u901a\u8fc7\u70ed\u8fc1\u79fb\u7b49\u624b\u6bb5\u5c06\u865a\u62df\u673a\u8fd0\u884c\u5728\u6700\u4f73\u4e3b\u673a\u4e4b\u4e0a\uff0c\u4ece\u800c\u63d0\u5347\u5168\u5c40\u4e1a\u52a1\u4f53\u9a8c\u3002 \u5b9a\u4e49 \u52a8\u6001\u8d44\u6e90\u8c03\u5ea6DRS\uff08Dynamic Resource Scheduler\uff09\uff0c\u6307\u91c7\u7528\u667a\u80fd\u8d1f\u8f7d\u5747\u8861\u8c03\u5ea6\u7b97\u6cd5\uff0c\u5e76\u7ed3\u5408\u52a8\u6001\u7535\u6e90\u7ba1\u7406\u529f\u80fd\uff0c\u901a\u8fc7\u5468\u671f\u6027\u68c0\u67e5\u540c\u4e00\u96c6\u7fa4\u8d44\u6e90\u5185\u5404\u4e2a\u4e3b\u673a\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u5728\u4e0d\u540c\u7684\u4e3b\u673a\u95f4\u8fc1\u79fb\u865a\u62df\u673a\uff0c\u4ece\u800c\u5b9e\u73b0\u540c\u4e00\u96c6\u7fa4\u5185\u4e0d\u540c\u4e3b\u673a\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\uff0c\u5e76\u6700\u5927\u7a0b\u5ea6\u964d\u4f4e\u7cfb\u7edf\u7684\u529f\u8017\u3002 \u7cfb\u7edf\u8f7b\u8f7d\u65f6\uff0c\u5c06\u8fc1\u79fb\u90e8\u5206\u865a\u62df\u673a\uff0c\u5e76\u5c06\u5176\u96c6\u4e2d\u5728\u90e8\u5206\u7269\u7406\u4e3b\u673a\uff0c\u968f\u5373\u5c06\u7a7a\u95f2\u4e3b\u673a\u4e0b\u7535\u3002 \u7cfb\u7edf\u91cd\u8f7d\u65f6\uff0c\u5c06\u542f\u52a8\u90e8\u5206\u7269\u7406\u4e3b\u673a\uff0c\u5e76\u5c06\u865a\u62df\u673a\u5747\u8861\u5206\u5e03\u5728\u5404\u4e3b\u673a\u4e2d\uff0c\u4ee5\u4fdd\u8bc1\u8d44\u6e90\u7684\u4f9b\u5e94\u548c\u7528\u6237\u7684\u4f53\u9a8c\u3002 \u901a\u8fc7\u8ba1\u5212\u4efb\u52a1\uff0c\u53ef\u6839\u636e\u7cfb\u7edf\u8fd0\u884c\u7684\u60c5\u51b5\uff0c\u5206\u65f6\u6bb5\u91c7\u53d6\u4e0d\u540c\u7684\u8d44\u6e90\u8c03\u5ea6\u7b56\u7565\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u573a\u666f\u7684\u7528\u6237\u9700\u6c42\u3002 \u4f9d\u8d56\u5173\u7cfb \u865a\u62df\u673a\u5b58\u5728\u4ee5\u4e0b\u7ed1\u5b9a\u5173\u7cfb\u65f6\uff0c\u52a8\u6001\u8d44\u6e90\u8c03\u5ea6\u5bf9\u8be5\u865a\u62df\u673a\u5931\u6548\u3002 \u7ed1\u5b9a\u4e3b\u673a \u7ed1\u5b9a\u56fe\u5f62\u5904\u7406\u5668 \u7ed1\u5b9aUSB\u8bbe\u5907 DPM DPM:\u52a8\u6001\u7535\u6e90\u7ba1\u7406\uff08Dynamic Power Management\uff09\uff0c\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\uff0c\u667a\u80fd\u7684\u5c06\u90e8\u5206\u4e3b\u673a\u4e0a\u4e0b\u7535\u3002 \u5bf9\u5e94FusionCompute\u4e2d\u7684\u201c\u7535\u6e90\u7ba1\u7406\u81ea\u52a8\u5316\u201d\uff1a\u7535\u6e90\u7ba1\u7406\u81ea\u52a8\u5316\u529f\u80fd\u4f1a\u5468\u671f\u7684\u68c0\u67e5\u96c6\u7fa4\u4e2d\u7684\u670d\u52a1\u5668\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u5982\u679c\u96c6\u7fa4\u4e2d\u8d44\u6e90\u5229\u7528\u7387\u4e0d\u8db3\uff0c\u5219\u4f1a\u5c06\u591a\u4f59\u7684\u4e3b\u673a\u4e0b\u7535\u8282\u80fd\uff0c\u4e0b\u7535\u524d\u4f1a\u5c06\u5c06\u8981\u4e0b\u7535\u4e3b\u673a\u4e0a\u7684\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u5230\u5176\u4ed6\u4e3b\u673a\uff1b\u5982\u679c\u96c6\u7fa4\u8d44\u6e90\u8fc7\u5ea6\u5229\u7528\uff0c\u5219\u4f1a\u5c06\u79bb\u7ebf\u7684\u4e3b\u673a\u5546\u5e97\uff0c\u4ee5\u589e\u52a0\u96c6\u7fa4\u8d44\u6e90\uff0c\u5978\u60c5\u4e3b\u673a\u7684\u8d1f\u8377\u3002","title":"\u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u5ea6\uff08DRS\uff09\u548c\u7535\u6e90\u7ba1\u7406\uff08DPM\uff09"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_7","text":"\u865a\u62df\u7f51\u5361\u5747\u6709\u81ea\u5df1\u7684IP\u5730\u5740\u3001MAC\u5730\u5740\uff0c\u4ece\u7f51\u7edc\u89d2\u5ea6\u6765\u770b\uff0c\u865a\u62df\u7f51\u5361\u4e0e\u7269\u7406\u7f51\u5361\u4e00\u81f4\u3002FusionCompute\u652f\u6301\u667a\u80fd\u7f51\u5361\uff0c\u5b9e\u73b0\u591a\u961f\u5217\u3001\u865a\u62df\u4ea4\u6362\u3001QoS\u3001\u4e0a\u884c\u94fe\u8def\u805a\u5408\u529f\u80fd\uff0c\u63d0\u5347\u865a\u62df\u7f51\u5361\u7684I/O\u6027\u80fd\u3002","title":"\u865a\u62df\u7f51\u5361"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#dvs","text":"\u8ba1\u7b97\u865a\u62df\u5316\u9a71\u52a8\u7f51\u7edc\u865a\u62df\u5316\u7684\u53d1\u5c55\u3002\u4f20\u7edf\u6570\u636e\u4e2d\u5fc3\uff0c\u4e00\u53f0\u670d\u52a1\u5668\u8fd0\u884c\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u901a\u8fc7\u7269\u7406\u7f51\u7ebf\u4e0e\u4ea4\u6362\u673a\u76f8\u8fde\uff0c\u7531\u4ea4\u6362\u673a\u5b9e\u73b0\u4e0d\u540c\u7684\u4e3b\u673a\u7684\u4ea4\u6362\u3001\u6d41\u91cf\u63a7\u5236\u3001\u5b89\u5168\u63a7\u5236\u7b49\u529f\u80fd\u3002\u5728\u8ba1\u7b97\u865a\u62df\u5316\u540e\uff0c\u4e00\u53f0\u670d\u52a1\u5668\u865a\u62df\u5316\u6210\u591a\u53f0\u7684\u865a\u62df\u7684\u4e3b\u673a\uff0c\u6bcf\u4e2a\u865a\u62df\u4e3b\u673a\u6709\u81ea\u5df1\u7684CPU\u3001\u5185\u5b58\u548c\u7f51\u5361\u3002\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u7684\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u65e2\u9700\u8981\u7ef4\u6301\u539f\u6709\u7684\u901a\u4fe1\uff0c\u540c\u65f6\u7531\u4e8e\u5171\u4eab\u7269\u7406\u8bbe\u5907\uff0c\u5f15\u51fa\u4e86\u65b0\u7684\u5b89\u5168\u9694\u79bb\u3001\u4ee5\u53ca\u5bf9\u6d41\u63a7\u7684\u66f4\u9ad8\u7684\u9700\u6c42\uff0c\u5bf9\u865a\u62df\u4ea4\u6362\u6280\u672f\u7684\u8bc9\u6c42\u7531\u6b64\u4ea7\u751f\u3002 \u4e3a\u7edf\u4e00\u548c\u7b80\u5316\u5bf9\u5404\u53f0\u4e3b\u673a\u7684\u865a\u62df\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u7ba1\u7406\uff0c\u4e1a\u754c\u5f15\u5165\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u3002\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u4e00\u65b9\u9762\u53ef\u4ee5\u5bf9\u591a\u53f0\u670d\u52a1\u5668\u7684\u865a\u62df\u4ea4\u6362\u673a\u7edf\u4e00\u914d\u7f6e\u3001\u7ba1\u7406\u548c\u76d1\u63a7\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u865a\u62df\u673a\u5728\u670d\u52a1\u5668\u4e4b\u95f4\u8fc1\u79fb\u65f6\u7f51\u7edc\u914d\u7f6e\u7684\u4e00\u81f4\u6027\u3002 \u7b80\u5316\u548c\u589e\u5f3aFusionSphere\u73af\u5883\u4e2d\u7684\u865a\u62df\u673a\u7f51\u7edc\u8fde\u63a5\uff0c\u5e76\u63d0\u4f9b\u7edf\u4e00\u7ba1\u7406\u5165\u53e3\u3001\u5b89\u5168\u7ec4\u7b49\u7f51\u7edc\u529f\u80fd\u3002 \u5b9a\u4e49 \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u7ba1\u7406\uff0c\u5373\u5b9e\u73b0\u7cfb\u7edf\u7ba1\u7406\u5458\u5bf9\u4e00\u81f3\u591a\u53f0CNA\u670d\u52a1\u5668\u4e0a\u7684\u865a\u62df\u4ea4\u6362\u673a\u7684\u7269\u7406\u7aef\u53e3\u548c\u865a\u62df\u7aef\u53e3\u8fdb\u884c\u914d\u7f6e/\u7ef4\u62a4\u3002 Firewall\uff1a\u9632\u706b\u5899 Uplink Port\uff1a\u7ea7\u8054\u7aef\u53e3 vNIC\uff1a\u865a\u62df\u673a\u7f51\u7edc\u63a5\u53e3\u5361 VSP\uff1a\u865a\u62df\u4ea4\u6362\u7aef\u53e3 - - \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\u6a21\u578b\u7684\u57fa\u672c\u7279\u5f81\uff1a \u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\uff0c\u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u53ef\u4ee5\u8986\u76d6\u96c6\u7fa4\u4e2d\u7684\u591a\u4e2aCNA\u8282\u70b9\u3002 \u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u5177\u6709\u591a\u4e2a\u5206\u5e03\u5f0f\u7684\u865a\u62df\u7aef\u53e3VSP\uff08Virtual Switch Port\uff09\uff0c\u6bcf\u4e2aVSP\u5177\u6709\u5404\u81ea\u7684\u5c5e\u6027\uff08\u901f\u7387\u3001\u7edf\u8ba1\u548cACL\u7b49\uff09\uff0c\u4e3a\u4e86\u7ba1\u7406\u65b9\u4fbf\u91c7\u7528\u7aef\u53e3\u7ec4\u7ba1\u7406\u76f8\u540c\u5c5e\u6027\u7684\u4e00\u7ec4\u7aef\u53e3\uff0c\u76f8\u540c\u7aef\u53e3\u7ec4\u7684VLAN\uff08Virtual Local Area Network\uff09\u76f8\u540c\u3002 \u6bcf\u4e2a\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2aUplink\u7aef\u53e3\u7ec4\uff0c\u7528\u4e8e\u865a\u62df\u673a\u5bf9\u5916\u7684\u901a\u4fe1\uff0cUplink\u7aef\u53e3\u7ec4\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7269\u7406\u7f51\u5361\uff0c\u8fd9\u4e9b\u7269\u7406\u7f51\u5361\u53ef\u4ee5\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\u3002 \u6bcf\u4e2a\u865a\u62df\u673a\u53ef\u4ee5\u5177\u6709\u591a\u4e2avNIC\uff08Virtual Network Interface Card\uff09\u63a5\u53e3\uff0cvNIC\u53ef\u4ee5\u548c\u4ea4\u6362\u673a\u7684VSP\u4e00\u4e00\u5bf9\u63a5\u3002 \u521b\u5efa\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a \u4e0a\u884c\u94fe\u8def\uff08Uplick\uff09\u662f\u4ec0\u4e48 \u4e0a\u884c\u94fe\u8def\u662f\u94fe\u63a5\u865a\u62df\u4ea4\u6362\u673a\uff08VSW\uff09\u548c\u7269\u7406\u673a\u4e0a\u7f51\u5361\u7684\u901a\u9053\uff1b\u865a\u62df\u673a\u4ea4\u6362\u673a\u901a\u8fc7\u4e0a\u884c\u94fe\u8def\u5c06\u865a\u62df\u673a\u4ea7\u751f\u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u7269\u7406\u7f51\u7edc\u4e2d\u3002 Linux Bridge\u4ecb\u7ecd Linux Bridge\uff08\u7f51\u6865\uff09\u662f\u5de5\u4f5c\u4e8e\u4e8c\u5c42\u7684\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0c\u529f\u80fd\u7c7b\u4f3c\u4e8e\u7269\u7406\u7684\u4ea4\u6362\u673a\u3002 Bridge\u53ef\u4ee5\u7ed1\u5b9a\u5176\u4ed6Linux\u7f51\u7edc\u8bbe\u5907\u4f5c\u4e3a\u4ece\u8bbe\u5907\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8bbe\u5907\u865a\u62df\u5316\u4e3a\u7aef\u53e3\uff0c\u5f53\u4e00\u4e2a\u4ece\u8bbe\u5907\u88ab\u7ed1\u5b9a\u5230Bridge\u4e0a\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u771f\u5b9e\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u63d2\u5165\u4e86\u4e00\u4e2a\u8fde\u63a5\u6709\u7ec8\u7aef\u7684\u7f51\u7ebf\u3002","title":"\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff08DVS\uff09"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#_8","text":"\u5f53\u865a\u62df\u673a\u5728\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u65f6\uff0c\u7269\u7406\u673a\u53ef\u80fd\u5b58\u5728\u8d44\u6e90\u5206\u914d\u4e0d\u5747\uff0c\u9020\u6210\u8d1f\u8f7d\u8fc7\u91cd\u6216\u8fc7\u8f7b\u7684\u60c5\u51b5\u3002\u53e6\u5916\uff0c\u7269\u7406\u673a\u5b58\u5728\u786c\u4ef6\u66f4\u6362\u3001\u8f6f\u4ef6\u5347\u7ea7\u3001\u7ec4\u7f51\u8c03\u6574\u3001\u6545\u969c\u5904\u7406\u7b49\u64cd\u4f5c\uff0c\u5982\u4f55\u5728\u4e0d\u4e2d\u65ad\u4e1a\u52a1\u7684\u60c5\u51b5\u4e0b\u5b8c\u6210\u8fd9\u4e9b\u64cd\u4f5c\u5341\u5206\u91cd\u8981\u3002\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u6280\u672f\u53ef\u4ee5\u5728\u4e1a\u52a1\u8fde\u7eed\u524d\u63d0\u4e0b\uff0c\u5b8c\u6210\u8d1f\u8f7d\u5747\u8861\u6216\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u548c\u5de5\u4f5c\u6548\u7387\u3002\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u901a\u5e38\u662f\u5c06\u6574\u4e2a\u865a\u62df\u673a\u7684\u8fd0\u884c\u72b6\u6001\u5b8c\u6574\u4fdd\u5b58\u4e0b\u6765\uff0c\u540c\u65f6\u53ef\u4ee5\u5feb\u901f\u6062\u590d\u5230\u539f\u6709\u7684\u751a\u81f3\u4e0d\u540c\u7684\u786c\u4ef6\u5e73\u53f0\u4e0a\u3002\u865a\u62df\u673a\u6062\u590d\u540e\uff0c\u4ecd\u7136\u53ef\u4ee5\u5e73\u6ed1\u8fd0\u884c\uff0c\u7528\u6237\u611f\u77e5\u4e0d\u5230\u4efb\u4f55\u5dee\u5f02\u3002\u6839\u636e\u865a\u62df\u673a\u6570\u636e\u5b58\u50a8\u5728\u5f53\u524d\u4e3b\u673a\u8fd8\u662f\u8fdc\u7aef\u5b58\u50a8\u8bbe\u5907\uff08\u5171\u4eab\u5b58\u50a8\uff09\u7684\u4e0d\u540c\uff0c\u5206\u4e3a\u5171\u4eab\u5b58\u50a8\u70ed\u8fc1\u79fb\u548c\u975e\u5171\u4eab\u5b58\u50a8\u70ed\u8fc1\u79fb\u4e24\u79cd\u65b9\u5f0f\u3002 \u8fc1\u79fb\u8fc7\u7a0b \u5c06\u865a\u62df\u673a\u914d\u7f6e\u548c\u8bbe\u5907\u4fe1\u606f\u4f20\u9001\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u4f20\u9001\u865a\u62df\u673a\u5185\u5b58\uff08\u5185\u5b58\u5206\u7247+\u8fed\u4ee3\u8fc1\u79fb\uff09 \u200b \u5c06\u865a\u62df\u673a\u8fc1\u79fb\u65f6\u7684\u521d\u59cb\u5185\u5b58\u4ee5\u53ca\u5185\u5b58\u53d8\u66f4\u5206\u7247\u540c\u6b65\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u6682\u65f6\u6e90\u865a\u62df\u673a\u5e76\u4f20\u9001\u72b6\u6001 \u200b \u5728\u6e90\u4e3b\u673a\u4e0a\u6682\u505c\u865a\u62df\u673a \u200b \u5c06\u6700\u540e\u7684\u53d8\u66f4\u5185\u5b58\u4f20\u9001\u5230\u76ee\u6807\u4e3b\u673a\u4e0a \u6062\u590d\u76ee\u6807\u865a\u62df\u673a \u200b \u5728\u76ee\u6807\u4e3b\u673a\u4e0a\u6062\u590d\u865a\u62df\u673a\uff0c\u5e76\u5728\u6e90\u4e3b\u673a\u4e0a\u505c\u6b62\u865a\u62df\u673a \u8ba8\u8bba\uff1a\u5185\u5b58\u5206\u7247\uff1b\u8fed\u4ee3\u8fc1\u79fb \u6211\u4eec\u5728\u8fd9\u91cc\u8ba8\u8bba\u865a\u62df\u673a\u4e3a\u5171\u4eab\u5b58\u50a8\u573a\u666f\u4e0b\u865a\u62df\u673a\u5185\u5b58\u8fc1\u79fb\u7684\u8fc7\u7a0b\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\u4e1a\u52a1\u662f\u4e0d\u4e2d\u65ad\u7684\u6240\u4ee5\u4f1a\u6709\u6301\u7eed\u7684\u6570\u636eIO\uff0c\u90a3\u4e48\u5728\u6267\u884c\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\u4e3a\u4e86\u4fdd\u8bc1\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u6570\u636e\u7684\u4e00\u81f4\u6027\u4f1a\u5728\u6267\u884c\u8fc1\u79fb\u524d\u5bf9\u6570\u636e\u8fdb\u884c\u5b9a\u683c\u3002\u5b9a\u683c\u540e\u7684\u6570\u636e\u662f\u53ea\u8bfb\u7684\uff0c\u6570\u636e\u5b9a\u683c\u4e4b\u540e\u865a\u62df\u673a\u4e1a\u52a1\u4ea7\u751f\u7684IO\u6570\u636e\u4f1a\u88ab\u5b58\u653e\u5230\u65b0\u5f00\u8f9f\u7684\u5185\u5b58\u7a7a\u95f4\u5f53\u4e2d\u3002 \u5c06\u5b9a\u683c\u7684\u6570\u636e\u4ece\u6e90\u7aef\u8fc1\u79fb\u5230\u76ee\u6807\u7aef\uff0c\u5b8c\u6210\u672c\u6b21\u5b9a\u683c\u6570\u636e\u8fc1\u79fb\u4e4b\u540e\u3002\u5c06\u865a\u62df\u673a\u5728\u6b64\u6b21\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\u5199\u5165\u5230\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u5b9a\u683c\uff0c\u7136\u540e\u8fc1\u79fb\u5b9a\u683c\u6570\u636e\u3002\u65b0\u4e0b\u53d1\u7684IO\u6570\u636e\u5199\u5165\u5230\u65b0\u5f00\u8f9f\u7684\u5185\u5b58\u7a7a\u95f4\u5f53\u4e2d\u3002 \u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u968f\u7740\u8fc1\u79fb\u6b21\u6570\u7684\u589e\u52a0\u3002\u6bcf\u6b21\u8fdb\u884c\u8fc1\u79fb\u7684\u5b9a\u683c\u6570\u636e\u8d8a\u6765\u8d8a\u5c11\uff0c\u8fc1\u79fb\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u4e5f\u8d8a\u6765\u8d8a\u77ed\u3002 \u5f53\u9700\u8981\u8fdb\u884c\u8fc1\u79fb\u7684\u6570\u636e\u8fbe\u5230\u4e00\u4e2a\u9608\u503c\u4e4b\u540e\u5c31\u6682\u65f6\u4e2d\u65ad\u865a\u62df\u673a\u7684IO\u5c06\u6700\u540e\u7684\u5185\u5b58\u6570\u636e\u8fc1\u79fb\u5230\u76ee\u6807\u865a\u62df\u673a\u4e0a\uff1b\u6b64\u65f6\u6e90\u7aef\u548c\u76ee\u6807\u7aef\u7684\u5185\u5b58\u6570\u636e\u4e00\u81f4\u3002\u5c06\u6e90\u7aef\u7684\u4e1a\u52a1IO\u6d41\u91cf\u8fc1\u79fb\u5230\u76ee\u6807\u7aef\u865a\u62df\u673a\u4e0a\u3002\u5b8c\u6210\u8fc1\u79fb\u8fed\u4ee3\u3002 \u865a\u62df\u673a\u8fc1\u79fb\u7684\u7c7b\u578b \u8fc1\u79fb\u7c7b\u578b \u5b50\u7c7b \u8bf4\u660e \u624b\u52a8\u8fc1\u79fb \u6309\u76ee\u7684\u8fc1\u79fb \u7cfb\u7edf\u7ef4\u62a4\u4eba\u5458\u901a\u8fc7FusionCompute\u7684\u865a\u62df\u673a\u8fc1\u79fb\u529f\u80fd\uff0c\u624b\u52a8\u8fc1\u79fb\u4e00\u53f0\u865a\u62df\u673a\u5230\u53e6\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u3002 \u81ea\u52a8\u8fc1\u79fb \u865a\u62df\u673a\u8d44\u6e90\u8c03\u5ea6 \u5728\u540c\u4e00\u4e2a\u96c6\u7fa4\u5185\uff0c\u7cfb\u7edf\u6839\u636e\u9884\u5148\u8bbe\u5b9a\u7684\u865a\u62df\u673a\u8c03\u5ea6\u7b56\u7565\uff0c\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u81ea\u52a8\u8fc1\u79fb\u3002 \u70ed\u8fc1\u79fb\u7684\u5e94\u7528\u573a\u666f \u5f53\u7269\u7406\u673a\u6545\u969c\u6216\u8005\u8d1f\u8f7d\u8fc7\u91cd\u65f6\uff0c\u53ef\u4ee5\u5c06\u8fd0\u884c\u7684\u865a\u62df\u673a\u8fc1\u79fb\u5230\u53e6\u4e00\u53f0\u7269\u7406\u673a\u4e0a\uff0c\u4ee5\u907f\u514d\u4e1a\u52a1\u4e2d\u65ad\uff0c\u4fdd\u8bc1\u4e1a\u52a1\u7684\u6b63\u5e38\u8fd0\u884c\u3002 \u5f53\u591a\u6570\u7684\u7269\u7406\u673a\u8d1f\u8f7d\u8fc7\u8f7b\u65f6\uff0c\u53ef\u4ee5\u5c06\u865a\u62df\u673a\u8fc1\u79fb\u6574\u5408\uff0c\u4ee5\u51cf\u5c11\u7269\u7406\u673a\u6570\u91cf\uff0c\u63d0\u9ad8\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002 \u5f53\u7269\u7406\u670d\u52a1\u5668\u786c\u4ef6\u8bbe\u5907\u6210\u4e3a\u74f6\u9888\uff0c\u6bd4\u5982CPU\u3001\u5185\u5b58\u3001\u786c\u76d8\u7b49\uff0c\u9700\u8981\u66f4\u6362\u6027\u80fd\u66f4\u597d\u7684\u786c\u4ef6\uff0c\u6216\u8005\u9700\u8981\u589e\u52a0\u8bbe\u5907\uff0c\u4f46\u662f\u53c8\u4e0d\u80fd\u5173\u95ed\u865a\u62df\u673a\u6216\u8005\u505c\u6b62\u4e1a\u52a1\u3002 \u670d\u52a1\u5668\u8f6f\u4ef6\u5347\u7ea7\uff0c\u6bd4\u5982\u865a\u62df\u5316\u5e73\u53f0\u5347\u7ea7\uff0c\u5c31\u53ef\u4ee5\u628a\u865a\u62df\u673a\u4ece\u65e7\u7248\u672c\u865a\u62df\u5316\u5e73\u53f0\u70ed\u8fc1\u79fb\u5230\u65b0\u7248\u672c\u865a\u62df\u5316\u5e73\u53f0\u3002 \u70ed\u8fc1\u79fb\u7684\u6ce8\u610f\u4e8b\u9879\u548c\u7ea6\u675f\u6761\u4ef6 \u70ed\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u4fdd\u8bc1\u7f51\u7edc\u72b6\u6001\u826f\u597d\u3002\u5982\u679c\u53d1\u751f\u7f51\u7edc\u4e2d\u65ad\uff0c\u70ed\u8fc1\u79fb\u4f1a\u6682\u505c\uff0c\u76f4\u5230\u7f51\u7edc\u6062\u590d\u540e\u624d\u4f1a\u7ee7\u7eed\uff0c\u5f53\u53d1\u751f\u8d85\u65f6\uff0c\u70ed\u8fc1\u79fb\u4f1a\u5931\u8d25\u3002 \u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u5141\u8bb8\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u751f\u547d\u5468\u671f\u548c\u7ba1\u7406\u865a\u62df\u673a\u786c\u4ef6\u8bbe\u5907\u7b49\u64cd\u4f5c\u3002 \u865a\u62df\u673a\u6b63\u5728\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5c3d\u53ef\u80fd\u4fdd\u8bc1\u6e90\u7aef\u3001\u76ee\u7684\u7aef\u670d\u52a1\u5668\u4e0d\u88ab\u610f\u5916\u4e0b\u7535\u6216\u91cd\u542f\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u70ed\u8fc1\u79fb\u5931\u8d25\uff0c\u751a\u81f3\u53ef\u80fd\u5bfc\u81f4\u865a\u62df\u673a\u88ab\u4e0b\u7535\u3002 \u865a\u62df\u673a\u6b63\u5728\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u5141\u8bb8\u5bf9\u865a\u62df\u673a\u505a\u5173\u673a\u3001\u91cd\u542f\u6216\u6062\u590d\u64cd\u4f5c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u81f4\u70ed\u8fc1\u79fb\u5931\u8d25\uff0c\u5f53\u6267\u884cACPI\u65b9\u5f0f\u91cd\u542f\u65f6\uff0c\u518d\u6267\u884c\u70ed\u8fc1\u79fb\u4f1a\u5bfc\u81f4\u865a\u62df\u673a\u5173\u95ed\u3002 \u53ea\u652f\u6301\u540c\u6784\u70ed\u8fc1\u79fb\uff0c\u5373\u6e90\u7aef\u548c\u76ee\u7684\u7aefCPU\u578b\u53f7\u9700\u8981\u76f8\u540c\u3002\u5f02\u6784\u8fc1\u79fb\u9700\u8981\u5f00\u542fIMC\u6a21\u5f0f\u3002 \u8de8\u4e1a\u52a1\u7f51\u6bb5\u865a\u62df\u673a\u8fc1\u79fb\u53ef\u4ee5\u6210\u529f\uff0c\u4f46\u662f\u5230\u76ee\u7684\u7aef\u540e\u4f1a\u51fa\u73b0\u7f51\u7edc\u5f02\u5e38\uff0c\u4e3a\u4e86\u9632\u6b62\u8be5\u60c5\u51b5\u53d1\u751f\uff0c\u9700\u8981\u7528\u6237\u4fdd\u8bc1\u8fc1\u79fb\u4e1a\u52a1\u7f51\u6bb5\u4e00\u81f4\u3002 \u5982\u679c\u6e90\u7aef\u865a\u62df\u673avCPU\u6570\u5927\u4e8e\u76ee\u7684\u7aef\u7684\u7269\u7406\u673aCPU\u6838\u6570\uff0c\u5219\u8fc1\u79fb\u540e\u5c06\u4f1a\u5f71\u54cd\u5230\u865a\u62df\u673a\u7684\u6027\u80fd\uff0c\u5e94\u4fdd\u8bc1\u76ee\u7684\u7aef\u7269\u7406\u673aCPU\u6838\u6570\u5927\u4e8e\u7b49\u4e8e\u6e90\u7aef\u865a\u62df\u673avCPU\u6570\u3002 \u70ed\u8fc1\u79fb\u7684\u524d\u63d0\u6761\u4ef6 \u8fdb\u884c\u70ed\u8fc1\u79fb\u4e4b\u524d\u8981\u786e\u4fdd\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u4e3b\u673a\u4e4b\u95f4\u7684\u7f51\u7edc\u662f\u4e92\u901a\u7684\uff0c\u5e76\u4e14\u6e90\u7aef\u548c\u76ee\u7684\u83b7\u5f97\u8d44\u6e90\u6743\u9650\u662f\u5bf9\u7b49\u7684\uff0c\u5373\u4e24\u7aef\u540c\u65f6\u80fd\u591f\u8bbf\u95ee\u5230\u76f8\u540c\u7684\u5b58\u50a8\u8d44\u6e90\u548c\u7f51\u7edc\u8d44\u6e90\u3002 \u5728\u6267\u884c\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u524d\u5e94\u5f53\u5bf9\u865a\u62df\u673a\u8fdb\u884c\u5065\u5eb7\u68c0\u67e5\uff0c\u5e76\u786e\u4fdd\u76ee\u7684\u7aef\u4e3b\u673a\u6709\u8db3\u591f\u7684CPU\u3001\u5185\u5b58\u548c\u5b58\u50a8\u8d44\u6e90\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u65f6\uff0c\u4f20\u9012\u7684\u914d\u7f6e\u4fe1\u606f\u548c\u8bbe\u5907\u4fe1\u606f\u5177\u4f53\u662f\u4ec0\u4e48\uff1f\u4fdd\u5b58\u5728\u54ea\u91cc\uff1f \u914d\u7f6e\u4fe1\u606f\u548c\u8bbe\u5907\u4fe1\u606f\u7edf\u79f0\u4e3a\u865a\u62df\u673a\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u5176\u4e2d\u914d\u7f6e\u4fe1\u606f\u6307\u7684\u662f\u865a\u62df\u673a\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5f15\u5bfc\u65b9\u5f0f\uff0c\u5f15\u5bfc\u6b21\u5e8f\u7b49\uff1b\u540e\u8005\u662f\u865a\u62df\u673a\u7684CPU\u4e2a\u6570\uff0c\u5185\u5b58\u5927\u5c0f\uff0c\u786c\u76d8\u4ee5\u53ca\u7f51\u5361\u7684\u4fe1\u606f\u7b49\u3002\u8fd9\u4e9b\u4fe1\u606f\u4fdd\u5b58\u5728**VRM**\u7684\u6570\u636e\u5e93\u4e2d\uff0cCNA\u4e0a\u7684**Libvirt**\u4e2d\u8fd8\u4f1a\u4ee5\u6587\u4ef6\u7684\u5f62\u5f0f\u5b58\u653e\u5728VM\u7cfb\u7edf\u76d8\u6240\u5728\u865a\u62df\u6570\u636e\u5b58\u50a8\u4e0a\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u7684\u4e2d\u65ad\u65f6\u957f \u70ed\u8fc1\u79fb\u7684\u4e2d\u65ad\u65f6\u957f\u5728\u81ea\u7531\u5ea6\u6bd4\u8f83\u9ad8\u7684\u4ea7\u54c1\u4e0a\u662f\u53ef\u4ee5\u8fdb\u884c\u8bbe\u7f6e\u7684\u6bd4\u5982\u8bbe\u7f6e\u4e3a500ms\u7b49 # virsh migrate-setmaxdowntime openEulerVM 500 \u5728\u534e\u4e3a\u7684\u4ea7\u54c1\u4e0a\u6267\u884c\u70ed\u8fc1\u79fb\u4e00\u822c\u8ba4\u4e3a\u5141\u8bb8\u4e221\u52302\u4e2a\u5305\u3002\u4e00\u822c\u4e22\u4e00\u4e2a\u3002 \u865a\u62df\u673a\u70ed\u8fc1\u79fb\u9700\u8981\u4e09\u5c42\u4e92\u901a\u8fd8\u662f\u4e8c\u5c42\u4e92\u901a \u4e09\u5c42\u4e92\u901a\u5373\u53ef\uff0c\u8de8\u6570\u636e\u4e2d\u5fc3\u7684\u865a\u62df\u673a\u70ed\u8fc1\u79fb\u9700\u8981\u4fdd\u8bc1\u4e24\u7aef\u7684\u865a\u62df\u673a\u5173\u8054\u540c\u4e00\u4e2aDVS\u3002 \u865a\u62df\u673a\u5f62\u5f0f\u90e8\u7f72\u7684VRM\u80fd\u6267\u884c\u865a\u62df\u673a\u8fc1\u79fb\u5417\uff1f \u4e0d\u80fd\uff1b\u9ed8\u8ba4\u201c\u4e0e\u4e3b\u673a\u7ed1\u5b9a\u201d","title":"\u865a\u62df\u673a\u70ed\u8fc1\u79fb"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#vrm","text":"\u64cd\u4f5c\u573a\u666f \u5f53VRM\u865a\u62df\u673a\u6240\u5728\u4e3b\u673a\u8fdb\u884c\u90e8\u4ef6\u66f4\u6362\u3001\u91cd\u88c5\u7cfb\u7edf\u7b49\u5fc5\u987b\u91cd\u542f\u4e3b\u673a\u7684\u64cd\u4f5c\u65f6\uff0c\u9700\u8981\u5c06VRM\u865a\u62df\u673a\u8fc1\u79fb\u5230\u5176\u4ed6\u4e3b\u673a\u3002 \u524d\u63d0\u6761\u4ef6 \u76ee\u6807\u4e3b\u673a\u4e0a\u4e0d\u5b58\u5728\u5176\u4ed6VRM\u865a\u62df\u673a\u3002 \u76ee\u6807\u4e3b\u673a\u548cVRM\u865a\u62df\u673a\u6240\u5728\u4e3b\u673a\u7684CPU\u578b\u53f7\u76f8\u540c\u3002 \u76ee\u6807\u4e3b\u673a\u7684\u865a\u62df\u5316\u672c\u5730\u786c\u76d8\u5269\u4f59\u7a7a\u95f4\u5927\u4e8e140GB\u3002 \u5df2\u83b7\u53d6VRM\u4e3b\u8282\u70b9\u548c\u76ee\u6807\u4e3b\u673a\u7684\u201cgandalf\u201d\u548c\u201croot\u201d\u7528\u6237\u7684\u5bc6\u7801\u3002 VRM\u865a\u62df\u673a\u8fd0\u884c\u6b63\u5e38\u3002\u4e3b\u5907\u90e8\u7f72\u65f6\uff0c\u8bf7\u786e\u4fdd\u4e3b\u5907VRM\u865a\u62df\u673a\u5747\u8fd0\u884c\u6b63\u5e38\u3002 \u5355\u8282\u70b9\u6267\u884cVRM\u865a\u62df\u673a\u8fc1\u79fb \u5c06\u5355\u8282\u70b9\u90e8\u7f72\u7684VRM\u6269\u5c55\u4e3a\u4e3b\u5907\u90e8\u7f72 \u6267\u884c\u5907\u8282\u70b9\u7684VRM\u865a\u62df\u673a\u8fc1\u79fb \u4e3b\u5907\u8282\u70b9\u6267\u884cVRM\u865a\u62df\u673a\u8fc1\u79fb \u5982\u679c\u662f\u6267\u884c\u4e3b\u8282\u70b9\u7684\u8fc1\u79fb\uff0c\u9700\u8981\u5c06\u4e3b\u88ab\u8282\u70b9\u8f6c\u6362\u4e3a\u5907\u8282\u70b9\u6267\u884c\u8fc1\u79fb \u5982\u679c\u662f\u88ab\u8282\u70b9\u6267\u884c\u8fc1\u79fb\uff0c\u6267\u884c\u8fc1\u79fb\u64cd\u4f5c\u5373\u53ef","title":"\u8fc1\u79fbVRM\u865a\u62df\u673a"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#ha","text":"\u865a\u62df\u673a\u9ad8\u53ef\u7528\u6027\u662f\u5f53\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u865a\u62df\u673a\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u7cfb\u7edf\u81ea\u52a8\u5c06\u6545\u969c\u7684\u865a\u62df\u673a\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u5185\u5728\u6b63\u5e38\u8fd0\u884c\u7684\u786c\u4ef6\u4e0a\u81ea\u52a8\u542f\u52a8\uff0c\u4f7f\u6545\u969c\u865a\u62df\u673a\u5feb\u901f\u6062\u590d\u3002 \u5f53\u7cfb\u7edf\u68c0\u6d4b\u5230\u865a\u62df\u673a\u6545\u969c\u65f6\uff0c\u7cfb\u7edf\u5c06\u9009\u62e9\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\uff0c\u5c06\u6545\u969c\u865a\u62df\u673a\u5728\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\u4e0a\u91cd\u65b0\u521b\u5efa\u3002 \u8ba1\u7b97\u8282\u70b9\u6389\u7535\u6062\u590d\u6216\u91cd\u542f \u5f53\u8ba1\u7b97\u8282\u70b9\u6389\u7535\u6062\u590d\u6216\u91cd\u542f\u65f6\uff0c\u7cfb\u7edf\u5c06\u8ba1\u7b97\u8282\u70b9\u4e0a\u5177\u6709HA\u5c5e\u6027\u7684\u865a\u62df\u673a\u91cd\u65b0\u521b\u5efa\u81f3\u5176\u4ed6\u8ba1\u7b97\u8282\u70b9\u3002 \u865a\u62df\u673a\u84dd\u5c4f\uff08 X86 \uff09 \u5f53\u7cfb\u7edf\u68c0\u6d4b\u5230\u865a\u62df\u673a\u84dd\u5c4f\u6545\u969c\u4e14\u8be5\u865a\u62df\u673a\u84dd\u5c4f\u5904\u7406\u7b56\u7565\u914d\u7f6e\u4e3aHA\u65f6\uff0c\u7cfb\u7edf\u9009\u62e9\u5176\u4ed6\u6b63\u5e38\u7684\u8ba1\u7b97\u8282\u70b9\u91cd\u65b0\u521b\u5efa\u865a\u62df\u673a\u3002\uff08**\u6ce8\u610f\uff1a**\u8fd9\u610f\u5473\u84dd\u5c4f\u662f\u5426\u6267\u884cHA\u662f\u53ef\u9009\u914d\u7f6e\uff09 \u4f9d\u8d56\u5173\u7cfb \u96c6\u7fa4\u4e2d\u9700\u8981\u6709\u8db3\u591f\u7684\u8d44\u6e90\u4f9b\u865a\u62df\u673aHA\u4f7f\u7528\u3002 VRM\u5224\u65adVM\u84dd\u5c4f\u6216\u8005\u5185\u6838\u5d29\u6e83 \u68c0\u6d4bVM\u84dd\u5c4f\u6216\u8005\u5185\u6838\u5d29\u6e83\u662f\u6839\u636etools\u548cVRM\u4e4b\u95f4\u7ef4\u6301\u7684\u5fc3\u8df3\u5173\u7cfb\u3002\u5f53\u4e00\u4e2a\u865a\u62df\u5316\u5468\u671f\u5185VRM\u6536\u4e0d\u5230\u5fc3\u8df3\uff0c\u5219\u8ba4\u4e3aVM\u5b58\u5728\u84dd\u5c4f\u6216\u8005\u5d29\u6e83\uff0c\u5224\u65ad\u84dd\u5c4f\u6216\u8005\u5d29\u6e83\u7684\u4f9d\u636e\u662fVM\u662f\u5426\u6709IO\u64cd\u4f5c\uff0c\u5982\u6ca1\u6709\u5219\u8ba4\u4e3a\u5185\u6838\u5d29\u6e83\uff0c\u53cd\u4e4b\u5219\u8ba4\u4e3a\u84dd\u5c4f\u6545\u969c\u3002 Tools\u529f\u80fd \u5b89\u88c5\u5e76\u542f\u52a8Tools\u540e\uff0c\u7528\u6237\u65e0\u9700\u505a\u4efb\u4f55\u64cd\u4f5c\uff0cTools\u5373\u53ef\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684\u78c1\u76d8I/O\u548c\u7f51\u7edcI/O\u529f\u80fd \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u865a\u62df\u786c\u4ef6\u76d1\u63a7\u529f\u80fd \u83b7\u53d6\u865a\u62df\u673a\u6307\u5b9a\u7f51\u5361IP\u4fe1\u606f \u83b7\u53d6\u865a\u62df\u673a\u5185\u90e8\u5404CPU\u5229\u7528\u7387\u3001\u5185\u5b58\u5229\u7528\u7387 \u83b7\u53d6\u865a\u62df\u673a\u5185\u5404\u4e2a\u78c1\u76d8/\u5206\u533a\u7684\u7a7a\u95f4\u4f7f\u7528\u4fe1\u606f \u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u9ad8\u7ea7\u529f\u80fd \u5728\u7ebf\u8c03\u6574\u865a\u62df\u673a\u7684CPU\u89c4\u683c \u521b\u5efa\u865a\u62df\u673a\u5feb\u7167 \uff08 X86\u67b6\u6784 \uff09\u865a\u62df\u673a\u84dd\u5c4f\u68c0\u6d4b \u865a\u62df\u673a\u4e0e\u4e3b\u673a\u65f6\u949f\u540c\u6b65 \u865a\u62df\u673a\u7f51\u5361\u7684\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982QoS \u81ea\u52a8\u5347\u7ea7\u865a\u62df\u673a\u7684\u9a71\u52a8\u7a0b\u5e8f\uff0c\u5982Tools\u9a71\u52a8","title":"\u865a\u62df\u673a\u9ad8\u53ef\u7528\u6027HA"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#dpdkx86","text":"\u901a\u8fc7\u4f7f\u7528DPDK\uff08Data Plane Development Kit\uff0c\u6570\u636e\u5e73\u9762\u5f00\u53d1\u5957\u4ef6\uff0cDPDK\u662f\u4e00\u7cfb\u5217\u5e93\u548c\u9a71\u52a8\u7684\u96c6\u5408\uff09\u6280\u672f\uff0c\u7528\u6765\u5728X86\u5e73\u53f0\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u5305\u5904\u7406\u3002\u5b83\u901a\u8fc7\u73af\u5883\u62bd\u8c61\u5c42\u65c1\u8def\u5185\u6838\u534f\u8bae\u6808\u3001\u8f6e\u8be2\u6a21\u5f0f\u7684\u62a5\u6587\u65e0\u4e2d\u65ad\u6536\u53d1\u3001\u4f18\u5316\u5185\u5b58/\u7f13\u51b2\u533a/\u961f\u5217\u7ba1\u7406\u3001\u57fa\u4e8e\u7f51\u5361\u591a\u961f\u5217\u548c\u6d41\u8bc6\u522b\u7684\u8d1f\u8f7d\u5747\u8861\u7b49\u591a\u9879\u6280\u672f\uff0c\u5b9e\u73b0\u4e86\u5728X86\u5904\u7406\u5668\u67b6\u6784\u4e0b\u7684\u9ad8\u6027\u80fd\u62a5\u6587\u8f6c\u53d1\u80fd\u529b\uff0c\u63d0\u9ad8\u865a\u62df\u673a\u7f51\u7edc\u6027\u80fd\u3002","title":"DPDK\uff08\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\uff09\uff08x86\uff09"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#sr-iov","text":"SR-IOV\u5b9e\u73b0\u4e86\u5c06PCI\u529f\u80fd\u5206\u914d\u5230\u591a\u4e2a\u865a\u62df\u63a5\u53e3\u4ee5\u5728\u865a\u62df\u5316\u73af\u5883\u4e2d\u5171\u4eab\u4e00\u4e2aPCI\u8bbe\u5907\u7684\u8d44\u6e90\u3002SR-IOV\u80fd\u591f\u8ba9\u7f51\u7edc\u4f20\u8f93\u7ed5\u8fc7\u8f6f\u4ef6\u6a21\u62df\u5c42\uff0c\u76f4\u63a5\u5206\u914d\u5230\u865a\u62df\u673a\u3002\u8fd9\u6837\u5c31\u964d\u4f4e\u4e86\u8f6f\u4ef6\u6a21\u62df\u5c42\u4e2d\u7684I/O\u5f00\u9500\u3002 ARM\u67b6\u6784X86\u67b6\u6784\u652f\u6301\u7279\u6027\u5bf9\u7167 \u5173\u952e\u7279\u6027 x86 ARM \u8de8\u4e3b\u673a\u70ed\u8fc1\u79fb \u652f\u6301 \u652f\u6301 \u5185\u5b58\u590d\u7528 \u652f\u6301 \u4e0d\u652f\u6301 \u865a\u62df\u673a\u9ad8\u53ef\u9760\u6027HA \u652f\u6301 \u652f\u6301 \u865a\u62df\u673a\u5b58\u50a8\u70ed\u8fc1\u79fb \u652f\u6301 \u652f\u6301 \u81ea\u52a8\u7cbe\u7b80\u914d\u7f6e \u652f\u6301 \u652f\u6301 \u865a\u62df\u5316\u9632\u75c5\u6bd2 \u652f\u6301 \u4e0d\u652f\u6301 \u5bb9\u707e\u5907\u4efd \u652f\u6301 \u652f\u6301 \u52a8\u6001\u8d44\u6e90\u8c03\u5ea6DRS \u652f\u6301 \u652f\u6301 \u52a8\u6001\u7535\u6e90\u7ba1\u7406DPM \u652f\u6301 \u652f\u6301 \u865a\u62df\u673a\u8d44\u6e90QoS \u652f\u6301 \u652f\u6301 \u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f(DPDK) \u652f\u6301\uff08 Intel\u6280\u672f \uff09 \u4e0d\u652f\u6301 \u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673aDVS \u652f\u6301 \u652f\u6301 SR-IOV \u652f\u6301\uff08 Intel\u6280\u672f \uff09 \u4e0d\u652f\u6301 GPU\u76f4\u901a \u652f\u6301 \u652f\u6301 GPU\u865a\u62df\u5316 \u652f\u6301 \u4e0d\u652f\u6301","title":"SR-IOV"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#09-","text":"\u5728\u8003\u5bdf\u4e24\u53f0\u865a\u62df\u673a\u4e4b\u95f4\u4e0d\u540c\u7684\u95ee\u9898\u4e00\u822c\u4f1a\u7531\u81ea\u8eab\u5230\u5916\u90e8\u8003\u8651\u3002 \u865a\u62df\u673a\u672c\u8eab\u7684\u95ee\u9898 \u865a\u62df\u673a\u9632\u706b\u5899\u662f\u5426\u5173\u95ed \u4e24\u4e2a\u865a\u62df\u673aIP\uff08IP\u914d\u7f6e\uff0c\u7f51\u5173\uff0c\u8de8\u7f51\u6bb5\uff09 \u4e24\u4e2a\u865a\u62df\u673a\u6240\u94fe\u63a5\u7684\u7aef\u53e3\u7ec4\u662f\u5426\u6709\u95ee\u9898 \u6839\u636e\u6d41\u91cf\u8d70\u5411\u5206\u6790 \u540c\u4e3b\u673a\uff1b\u540cvlan\uff1a \u540c\u4e3b\u673a\uff1b\u4e0d\u540cvlan\uff1a \u4e0d\u540c\u4e3b\u673a\uff1b\u4e0d\u540cvlan \u4e0d\u540c\u4e3b\u673a\uff1b\u76f8\u540cvlan \u5176\u4ed6\u95ee\u9898 \u7269\u7406\u7ebf\u8def\u95ee\u9898 \u5916\u90e8\u7f51\u7edc\u8bbe\u5907\uff08\u4ea4\u6362\u673a\uff1b\u8def\u7531\u5668\uff09\u6545\u969c \u7269\u7406\u4ea4\u6362\u673a\u4e0a\u6ca1\u6709\u653e\u884c\u76f8\u5e94\u7684VLAN \u4ec0\u4e48\u662fDVS\u7531\u4ec0\u4e48\u7ec4\u6210 DVS\u662f\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff0c\u662f\u7531VRM\u7ef4\u6301\u5e76\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u8282\u70b9\uff08CNA\uff09\u7684\u903b\u8f91\u4ea4\u6362\u673a\u3002\u5b9e\u9645\u4e0a\u5728\u4e0a\u56fe\u4e2d\u6a2a\u8de8\u4e24\u4e2a\u8282\u70b9\u7684DVS\u662f\u7531\u4e24\u4e2a\u8282\u70b9\u5185\u90e8\u7684\u865a\u62df\u4ea4\u6362\u673a\u6784\u6210\u7684\u3002DVS\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u7684\u5806\u53e0\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u901a\u8fc7\u4e24\u4e2aEVS\u4e4b\u95f4\u7684\u8fde\u63a5\u7ebf\u5c06\u4e24\u4e2aEVS\u505a\u4e86\u5806\u53e0\u3002 \u4ec0\u4e48\u662f\u4e0a\u884c\u94fe\u8def \u4e0a\u884c\u94fe\u8def\u662f\u5728\u7269\u7406\u4ea4\u6362\u673a\u4e0a\u6307\u7684\u662f\u7269\u7406\u4ea4\u6362\u673a\u8fdb\u884c\u7ea7\u8054\u7684\u7aef\u53e3\uff1b\u5728\u865a\u62df\u4ea4\u6362\u673a\u4e2d\u6307\u7684\u662f\u865a\u62df\u673a\u4ea4\u6362\u673a\u8fde\u63a5\u7269\u7406\u7f51\u7edc\u7684\u901a\u9053\uff1b\u5b9e\u9645\u4e0a\u6211\u66f4\u504f\u5411\u4e0e\u662f\u591a\u53f0\u865a\u62df\u673a\u4ea4\u6362\u673a\u8fdb\u884c\u7ea7\u8054\u7684\u901a\u9053\u3002\u4e5f\u5c31\u662f\u865a\u62df\u4ea4\u6362\u673a\u8fdb\u884c\u5806\u53e0\u3002 \u4ec0\u4e48\u662f\u7aef\u53e3\u7ec4 \u7aef\u53e3\u7ec4\u662f\u4e00\u7ec4\u5177\u6709\u76f8\u540c\u5c5e\u6027\u7aef\u53e3\u7684\u96c6\u5408\u3002\u901a\u8fc7\u7aef\u53e3\u7ec4\u5bf9\u7aef\u53e3\u7ec4\u5185\u7684\u7aef\u53e3\u7edf\u4e00\u914d\u7f6e\u7aef\u53e3\u7b56\u7565\u3002\u865a\u62df\u673a\u7684\u865a\u62df\u7f51\u5361\u8fde\u63a5\u5230\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u7ec4\uff0c\u8fd9\u6837\uff0c\u5373\u4f7f\u4e0e\u540c\u4e00\u7aef\u53e3\u7ec4\u76f8\u8fde\u63a5\u7684\u865a\u62df\u673a\u5404\u81ea\u5728\u4e0d\u540c\u7684\u7269\u7406\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e9b\u865a\u62df\u673a\u4e5f\u90fd\u5c5e\u4e8e\u865a\u62df\u73af\u5883\u5185\u7684\u540c\u4e00\u7f51\u7edc\u3002 \u8fde\u63a5\u5728\u540c\u4e00\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\u7f51\u5361\uff0c\u5177\u6709\u76f8\u540c\u7684\u7f51\u7edc\u5c5e\u6027\uff08\u5982\uff1aVLAN\u3001QoS\u3001\u5b89\u5168\u5c5e\u6027\u7b49\uff09\uff0c\u4ee5\u63d0\u4f9b\u589e\u5f3a\u7684\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u5206\u6bb5\u3001\u66f4\u4f73\u7684\u6027\u80fd\u3001\u9ad8\u53ef\u7528\u6027\u4ee5\u53ca\u6d41\u91cf\u7ba1\u7406\u3002 \u7aef\u53e3\u7c7b\u578b \u666e\u901a\u7c7b\u578b\u7684\u865a\u7aef\u53e3\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2aVLAN\uff0c\u4e2d\u7ee7\u7c7b\u578b\u7684\u865a\u7aef\u53e3\u53ef\u4ee5\u5141\u8bb8\u591a\u4e2aVLAN\u63a5\u6536\u548c\u53d1\u9001\u62a5\u6587\u3002 \u666e\u901a\u865a\u62df\u673a\u9009\u62e9\u666e\u901a\u7c7b\u578b\u7684\u7aef\u53e3\uff1b\u56e0\u4e3a\u666e\u901a\u865a\u62df\u673a\u53d1\u9001\u7684\u6570\u636e\u662f\u4e0d\u5e26vlan\u6807\u7b7e\u7684\u6570\u636e\u3002 \u865a\u62df\u673a\u7f51\u5361\u542f\u7528vlan\u8bbe\u5907\u9009\u62e9\u4e2d\u7ee7\uff08trunk\uff09\u7aef\u53e3\uff0c\u5426\u5219\u865a\u62df\u673a\u7f51\u7edc\u4e0d\u901a\u3002\u5b9e\u9645\u4e0a\u6240\u8c13\u7684\u4e2d\u7ee7\u7aef\u53e3\u5c31\u662ftrunk\u7c7b\u578b\u7684\u7aef\u53e3\u3002 \u7aef\u53e3\u7ec4\u5c5e\u6027 DHCP\u9694\u79bb\uff1a\u4f7f\u7528\u8be5\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\u65e0\u6cd5\u542f\u52a8DHCP Server\u670d\u52a1\uff0c\u4ee5\u9632\u6b62\u7528\u6237\u65e0\u610f\u8bc6\u6216\u6076\u610f\u542f\u52a8DHCP Server\u670d\u52a1\uff0c\u5f71\u54cd\u5176\u4ed6\u865a\u62df\u673aIP\u5730\u5740\u7684\u6b63\u5e38\u5206\u914d\u3002\uff08 \u5b89\u5168\u7ec4\u865a\u62df\u673a\u3001\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 IP\u4e0eMAC\u5730\u5740\u7ed1\u5b9a\uff1a\u4ec5\u5f53\u9009\u62e9\u201c\u7aef\u53e3\u7c7b\u578b\u201d\u4e3a\u201c \u666e\u901a \u201d\uff0c\u4e14\u865a\u62df\u673a\u4e3a\u901a\u8fc7\u81ea\u5b9a\u4e49\u865a\u62df\u673a\u65b9\u5f0f\u8bbe\u7f6e\u7684IP\u65f6\u6709\u6548\u3002\u4f7f\u7528\u8be5\u7aef\u53e3\u7ec4\u7684\u865a\u62df\u673a\uff0c\u5176IP\u5730\u5740\u4e0eMAC\u5730\u5740\u7ed1\u5b9a\uff0c\u9632\u6b62\u7528\u6237\u901a\u8fc7\u4fee\u6539\u865a\u62df\u673a\u7f51\u5361IP\u5730\u5740\u6216\u8005MAC\u5730\u5740\uff0c\u53d1\u8d77IP\u6216\u8005MAC\u4eff\u5192\u653b\u51fb\uff0c\u589e\u5f3a\u7528\u6237\u865a\u62df\u673a\u7684\u7f51\u7edc\u5b89\u5168\u6027\u3002\u5f00\u542f\u8be5\u529f\u80fd\u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u865a\u62df\u673a\u7f51\u5361\u914d\u7f6e\u591a\u4e2aIP\u5730\u5740\u4f1a\u5bfc\u81f4\u8be5\u7f51\u5361\u90e8\u5206IP\u5730\u5740\u901a\u4fe1\u5f02\u5e38\uff0c\u5efa\u8bae\u5728\u865a\u62df\u673a\u7f51\u5361\u914d\u7f6e\u591a\u4e2aIP\u5730\u5740\u65f6\u4e0d\u5f00\u542f\u8be5\u529f\u80fd\u3002\uff08 \u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u3001\u201c\u7528\u6237\u6001\u9a71\u52a8\u6a21\u5f0f\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 \u586b\u5145TCP\u6821\u9a8c\u548c\uff1a\u8be5\u7aef\u53e3\u7ec4\u4e0b\u7684\u865a\u62df\u673a\u5728\u63a5\u6536\u62a5\u6587\u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u586b\u5145TCP\u6821\u9a8c\u548c\u3002\u6b64\u5f00\u5173\u53ea\u5e94\u7528\u4e8e\u5bf9TCP\u6821\u9a8c\u548c\u7684\u6b63\u786e\u6027\u6709\u8981\u6c42\u7684\u573a\u666f\uff0c\u4e0d\u5efa\u8bae\u5f00\u542f\u3002\u5f00\u542f\u5f00\u5173\u540e\u865a\u62df\u673a\u7f51\u7edc\u6536\u5305\u6027\u80fd\u4f1a\u6709\u6240\u4e0b\u964d\u3002\uff08 \u5b89\u5168\u7ec4\u865a\u62df\u673a\u3001\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u3001\u201c\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\uff08DPDK\uff09\u201d\u4e0d\u652f\u6301\u914d\u7f6e\u8be5\u9879\u3002 \uff09 \u53d1\u9001\u6d41\u91cf\u6574\u5f62\uff1a \u53d1\u9001\u5e73\u5747\u5e26\u5bbd\uff08Mbit/s\uff09\uff1a\u67d0\u6bb5\u65f6\u95f4\u5185\u5141\u8bb8\u901a\u8fc7\u7aef\u53e3\u7684\u5e73\u5747\u6bcf\u79d2\u53d1\u9001\u4f4d\u6570\u3002 \u4f7f\u7528\u666e\u901a\u7f51\u5361\u65f6\uff0c\u5728\u6ca1\u6709\u7a81\u53d1\u5927\u5c0f\u53ef\u4f7f\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u6d41\u91cf\u5c06\u7a33\u5b9a\u5728\u5e73\u5747\u5e26\u5bbd\u6240\u8bbe\u5b9a\u7684\u901f\u7387\u4e0a\u3002\u5982\u679c\u7a81\u53d1\u5927\u5c0f\u8bbe\u7f6e\u8fc7\u5c0f\uff0c\u7f51\u7edc\u5e26\u5bbd\u541e\u5410\u91cf\u4f1a\u53d8\u5dee\u3002 \u53d1\u9001\u5cf0\u503c\u5e26\u5bbd\uff08Mbit/s\uff09\uff1a\u53d1\u9001\u6d41\u91cf\u7a81\u53d1\u65f6\uff0c\u6bcf\u79d2\u949f\u5141\u8bb8\u901a\u8fc7\u7aef\u53e3\u7684\u6700\u5927\u4f20\u8f93\u4f4d\u6570\u3002 \u5cf0\u503c\u5e26\u5bbd\u9700\u8981\u5927\u4e8e\u6216\u7b49\u4e8e\u5e73\u5747\u5e26\u5bbd\u3002\u5bf9\u67d0\u4e00\u7c7b\u6d41\u91cf\u8bbe\u7f6e\u5408\u9002\u7684\u5cf0\u503c\u5e26\u5bbd\uff0c\u53ef\u4ee5\u9632\u6b62\u56e0\u4e3a\u8be5\u7c7b\u6d41\u91cf\u8fc7\u5927\u5bfc\u81f4\u5176\u4ed6\u865a\u62df\u673a\u7f51\u7edc\u62e5\u585e\u3002\u5e26\u5bbd\u7a7a\u95f2\u65f6\uff0c\u6d41\u91cf\u5c06\u7a33\u5b9a\u5728\u5e73\u5747\u5e26\u5bbd\u5de6\u53f3\u3002 \u53d1\u9001\u7a81\u53d1\u5927\u5c0f\uff08Mbits\uff09\uff1a\u5141\u8bb8\u6d41\u91cf\u5728\u5e73\u5747\u5e26\u5bbd\u7684\u57fa\u7840\u4e0a\u4ea7\u751f\u7684\u7a81\u53d1\u6d41\u91cf\u7684\u5927\u5c0f\u3002 \u4f18\u5148\u7ea7\uff1a\u5728\u7269\u7406\u7f51\u53e3\u53d1\u751f\u7f51\u7edc\u62e5\u585e\u7684\u65f6\u5019\uff0c\u5404\u7cfb\u7edf\u63a5\u53e3\u6216VSP\u7684\u6d41\u91cf\u4f1a\u4f9d\u636e\u6240\u8bbe\u7f6e\u7684\u4f18\u5148\u7ea7\u53c2\u6570\u53bb\u62a2\u5360\u7269\u7406\u7f51\u53e3\u7684\u5e26\u5bbd\uff0c\u4f18\u5148\u7ea7\u9ad8\u7684\u4f18\u5148\u4f7f\u7528\u7f51\u7edc\u5bbd\u5e26\u8d44\u6e90\u3002 \u4f4e \u4e2d \u9ad8 \u4e0d\u540c\u573a\u666f\u4e0b\u5e26\u5bbd\u7684\u6d6e\u52a8\u8303\u56f4\u6709\u6240\u4e0d\u540c\u3002\u5f53\u7269\u7406\u7f51\u53e3\u7684\u8f6c\u53d1\u80fd\u529b\u5927\u4e8e\u670d\u52a1\u5668\u5185\u5404\u7cfb\u7edf\u63a5\u53e3\u548cVSP\u7684\u5e73\u5747\u5e26\u5bbd\u4e4b\u548c\u5e76\u5c0f\u4e8e\u5cf0\u503c\u4e4b\u548c\u65f6\uff0c\u5404\u865a\u62df\u673a\u6d41\u91cf\u5c06\u5728\u5e73\u5747\u5e26\u5bbd\u4e4b\u4e0a\uff0c\u4e0d\u8d85\u8fc7\u5cf0\u503c\u5e26\u5bbd\u3002\u5f53\u7269\u7406\u7f51\u53e3\u7684\u8f6c\u53d1\u80fd\u529b\u5c0f\u4e8e\u670d\u52a1\u5668\u5185\u5404\u7cfb\u7edf\u63a5\u53e3\u548cVSP\u7684\u5e73\u5747\u5e26\u5bbd\u4e4b\u548c\u65f6\uff0c\u5404\u865a\u62df\u673a\u7684\u6d41\u91cf\u6700\u5c0f\u5c06\u6709\u53ef\u80fd\u5c0f\u4e8e\u5e73\u5747\u5e26\u5bbd\uff0c\u6700\u5927\u4e0d\u4f1a\u8d85\u8fc7\u5cf0\u503c\u5e26\u5bbd\u3002\uff08\u5982\u679c\u5f85\u6dfb\u52a0\u7aef\u53e3\u7ec4\u7684\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u7684\u4ea4\u6362\u7c7b\u578b\u4e3a\u201c\u7528\u6237\u6001\u4ea4\u6362\u6a21\u5f0f\u201d\uff0c\u5219\u4e0d\u652f\u6301\u8bbe\u7f6e\u4f18\u5148\u7ea7\u3002\u201cSRIOV\u76f4\u901a\u6a21\u5f0f\u201d\u53ea\u652f\u6301\u201c\u53d1\u9001\u5e73\u5747\u5e26\u5bbd\uff08Mbit/s\uff09\u201d\u3002\uff09 \u5b89\u5168\u7ec4 \u4f4d\u4e8e\u540c\u4e00\u4e2a\u5b89\u5168\u7ec4\u7684\u6240\u6709\u865a\u62df\u673a\u7f51\u5361\u90fd\u5c06\u4f7f\u7528\u8be5\u5b89\u5168\u7ec4\u89c4\u5219\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\u3002\u865a\u62df\u673a\u4e00\u5757\u7f51\u5361\u53ea\u80fd\u52a0\u5165\u4e00\u4e2a\u5b89\u5168\u7ec4\u4e2d\u3002 \u5b89\u5168\u7ec4\u662f\u4e00\u79cd\u865a\u62df\u7684\u9632\u706b\u5899\uff0c\u4f7f\u7528iptable\u8fdb\u884c\u6570\u636e\u5305\u8fc7\u6ee4\u529f\u80fd\uff0c\u7528\u4e8e\u8bbe\u7f6e\u4e91\u670d\u52a1\u5668\uff0c\u8d1f\u8f7d\u5747\u8861\uff0c\u4e91\u6570\u636e\u5e93\u7b49\u5b9e\u4f8b\u7684\u7f51\u7edc\u8bbf\u95ee\u63a7\u5236\uff0c\u63a7\u5236\u5b9e\u4f8b\u7ea7\u522b\u7684\u51fa\u5165\u6d41\u91cf\u3002 OVS\u3001EVS\u3001DVS\u4e4b\u95f4\u533a\u522b\u548c\u8054\u7cfb OVS Open vSwitch\uff08OVS\uff09\u662f\u4e00\u6b3e\u57fa\u4e8e\u8f6f\u4ef6\u5b9e\u73b0\u7684\u5f00\u6e90\u865a\u62df\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u3002 OVS\u80fd\u591f\u652f\u6301\u591a\u79cd\u6807\u51c6\u7684\u7ba1\u7406\u63a5\u53e3\u548c\u534f\u8bae\uff0c\u8fd8\u53ef\u4ee5\u652f\u6301\u8de8\u591a\u4e2a\u7269\u7406\u670d\u52a1\u5668\u7684\u5206\u5e03\u5f0f\u73af\u5883\u3002 OVS\u63d0\u4f9b\u4e86\u5bf9OpenFlow\u534f\u8bae\u7684\u652f\u6301\uff0c\u5e76\u4e14\u80fd\u591f\u4e0e\u4f17\u591a\u5f00\u6e90\u7684\u865a\u62df\u5316\u5e73\u53f0\u76f8\u6574\u5408\u3002 \u4e3b\u8981\u6709\u4e24\u4e2a\u4f5c\u7528\uff1a\u4f20\u9012\u865a\u62df\u673aVM\u4e4b\u95f4\u7684\u6d41\u91cf\uff0c\u4ee5\u53ca\u5b9e\u73b0VM\u548c\u5916\u754c\u7f51\u7edc\u7684\u901a\u4fe1\u3002 OpenFlow\u4ea4\u6362\u673a\u5c06\u539f\u6765\u5b8c\u5168\u7531\u4ea4\u6362\u673a/\u8def\u7531\u5668\u63a7\u5236\u7684\u62a5\u6587\u8f6c\u53d1\u8fc7\u7a0b\u8f6c\u5316\u4e3a\u7531OpenFlow\u4ea4\u6362\u673a\uff08OpenFlow Switch\uff09\u548c\u63a7\u5236\u670d\u52a1\u5668\uff08Controller\uff09\u6765\u5171\u540c\u5b8c\u6210\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u6570\u636e\u8f6c\u53d1\u548c\u8def\u7531\u63a7\u5236\u7684\u5206\u79bb\u3002\u63a7\u5236\u5668\u53ef\u4ee5\u901a\u8fc7\u4e8b\u5148\u89c4\u5b9a\u597d\u7684\u63a5\u53e3\u64cd\u4f5c\u6765\u63a7\u5236OpenFlow\u4ea4\u6362\u673a\u4e2d\u7684\u6d41\u8868\uff0c\u4ece\u800c\u8fbe\u5230\u63a7\u5236\u6570\u636e\u8f6c\u53d1\u7684\u76ee\u7684\u3002 OpenFlow\u7f51\u7edc\u7531OpenFlow\u4ea4\u6362\u673a\u3001FlowVisor\u548cController\u4e09\u90e8\u5206\u7ec4\u6210\u3002OpenFlow\u4ea4\u6362\u673a\u8fdb\u884c\u6570\u636e\u5c42\u7684\u8f6c\u53d1\uff1bFlowVisor\u5bf9\u7f51\u7edc\u8fdb\u884c\u865a\u62df\u5316\uff1bController\u5bf9\u7f51\u7edc\u8fdb\u884c\u96c6\u4e2d\u63a7\u5236\uff0c\u5b9e\u73b0\u63a7\u5236\u5c42\u7684\u529f\u80fd\u3002 OpenFlow\u4ea4\u6362\u673a\u7531\u6d41\u8868\u3001\u5b89\u5168\u901a\u9053\u548cOpenFlow\u534f\u8bae\u4e09\u90e8\u5206\u7ec4\u6210\u3002 EVS Elastic Virtual Switch\uff08EVS\uff09\u662f\u57fa\u4e8eOVS\u8f6c\u53d1\u6280\u672f\uff0c\u63d0\u5347\u4e86\u5176IO\u6027\u80fd\u7684\u4e00\u79cd\u5f39\u6027\u5316\u865a\u62df\u4ea4\u6362\u3002 \u4ecd\u7136\u7b26\u5408openflow\u534f\u8bae\u6807\u51c6\u3002 \u5176\u4e2dIO\u6027\u80fd\u63d0\u5347\u4f7f\u7528\u4e86Intel DPDK\u6280\u672f\uff0c\u901a\u8fc7\u7528\u6237\u6001\u8fdb\u7a0b\u63a5\u7ba1\u7f51\u5361\u6570\u636e\u6536\u53d1\uff0c\u91c7\u7528\u201cIO\u72ec\u5360\u6838\u201d\u6280\u672f\uff0c\u5373\u6bcf\u4e2a\u7aef\u53e3\u5206\u914d\u4e00\u4e2a\u6838\u4e13\u95e8\u7528\u4e8e\u6570\u636e\u6536\u53d1\uff0c\u8fd9\u79cd\u8f6e\u8be2\u5f0f\u7684\u5904\u7406\u65b9\u5f0f\u6bd4\u4e2d\u65ad\u5f0f\u7684\u5904\u7406\u66f4\u9ad8\u6548\uff0c\u56e0\u800cIO\u6027\u80fd\u65b9\u9762\u6709\u663e\u8457\u63d0\u5347\u3002 EVS\u5173\u952e\u6280\u672f\uff1a \u7269\u7406\u7f51\u5361\u8bbf\u95ee\uff1aDPDK\u9ad8\u901f\u6570\u636e\u901a\u9053 \u62a5\u6587\u5904\u7406\uff1a\u4f7f\u7528\u5927\u9875\u5185\u5b58 \u4ea4\u6362\u4e1a\u52a1\u5904\u7406 \u8f6e\u8be2\u8f6c\u53d1\uff0c\u51cf\u5c11\u8c03\u5ea6\u5f00\u9500 \u591a\u6838\uff08\u7ebf\u7a0b\uff09\u5e76\u884c\u5904\u7406 Openflow\u6d41\u8868\u8f6c\u53d1\u4f18\u5316 \u524d\u540e\u7aef\uff1avhost-user\u6280\u672f DVS DVS\u662f\u5206\u5e03\u5f0f\u865a\u62df\u4ea4\u6362\u673a\uff0c\u662f\u7531VRM\u7ef4\u6301\u5e76\u8de8\u8d8a\u591a\u4e2a\u7269\u7406\u8282\u70b9\uff08CNA\uff09\u7684\u903b\u8f91\u4ea4\u6362\u673a\u3002\u5b9e\u9645\u4e0a\u5728\u4e0a\u56fe\u4e2d\u6a2a\u8de8\u4e24\u4e2a\u8282\u70b9\u7684DVS\u662f\u7531\u4e24\u4e2a\u8282\u70b9\u5185\u90e8\u7684\u865a\u62df\u4ea4\u6362\u673a\u6784\u6210\u7684\u3002DVS\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u7684\u5806\u53e0\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u901a\u8fc7\u4e24\u4e2aEVS\u4e4b\u95f4\u7684\u8fde\u63a5\u7ebf\u5c06\u4e24\u4e2aEVS\u505a\u4e86\u5806\u53e0\u3002","title":"09-\u4e24\u53f0\u865a\u62df\u673a\u4e0d\u901a"},{"location":"00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#10-fusioncompute","text":"","title":"10-FusionCompute\u78c1\u76d8\u6280\u672f"},{"location":"FusionAccess%E6%A1%8C%E9%9D%A2%E4%BA%91/","text":"","title":"FusionAccess\u684c\u9762\u4e91"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/","text":"OpneStack\u5206\u4eab\u7bc710--Neutron \u00b6 \u524d\u8a00\uff1a \u00b6 \u4e0e\u5b58\u50a8\u8d44\u6e90\uff0c\u8ba1\u7b97\u8d44\u6e90\u4e00\u6837\u3002\u7f51\u7edc\u4e5f\u662fOpenstack\u6240\u7ba1\u7406\u7684\u6700\u91cd\u8981\u7684\u8d44\u6e90\u4e4b\u4e00\u3002Nova\u5b9e\u73b0\u4e86OpenStack\u865a\u62df\u673a\u4e16\u754c\u7684\u62bd\u8c61\uff0cSwift\u4e0eCinder\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u4e86\u5b89\u8eab\u4e4b\u672c\uff0c\u4f46\u662f\u6ca1\u6709\u7f51\u7edc\uff0c\u4efb\u4f55\u865a\u62df\u673a\u90fd\u5c06\u53ea\u662f\u8fd9\u4e2a\u4e16\u754c\u4e2d\u7684\u5b64\u5c9b\uff0c\u4e0d\u77e5\u9053\u81ea\u5df1\u751f\u5b58\u7684\u4ef7\u503c\u3002 \u6700\u521d\uff0cOpenStack\u4e2d\u7684\u7f51\u7edc\u670d\u52a1\u7531Nova\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u6a21\u5757nova-network\u6765\u63d0\u4f9b\uff0c\u4f46\u662f\u4e3a\u4e86\u63d0\u4f9b\u66f4\u4e3a\u4e30\u5bcc\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u652f\u6301\u66f4\u591a\u7684\u7f51\u7edc\u7c7b\u578b\uff0c\u5177\u6709\u66f4\u9ad8\u6269\u5c55\u6027\uff0cNova-network\u4eceNova\u4e2d\u72ec\u7acb\u51fa\u6765\u8fd9\u5c31\u662f\u73b0\u5728\u7684Neutron\u3002 \u5f53\u524dNeutron\u5df2\u7ecf\u6210\u4e3aOpenStack\u4e09\u5927\u6838\u5fc3(\u5b58\u50a8\uff0c\u8ba1\u7b97\uff0c\u7f51\u7edc)\u4e4b\u4e00\uff0c\u5bf9\u5916\u63d0\u4f9bNaaS\uff08Network as a Service\uff09\u670d\u52a1\u3002Neutron\u7531Nova-network\u53d1\u5c55\u800c\u6765\u3002Neutron\u7684\u53d1\u5c55\u7b80\u53f2\u53ef\u4ee5\u6982\u62ec\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1aNova-network\uff1bQuantum\uff0cNeutron\u3002 Nova-network\u9636\u6bb5\uff0c\u5176\u652f\u6301\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a 1\uff09IP\u5730\u5740\u5206\u914d\uff1a\u5305\u542b\u4e3a\u865a\u62df\u673a\u5206\u914d\u79c1\u6709\uff08\u56fa\u5b9a\uff09\u548c\u6d6e\u52a8IP\u5730\u5740 2\uff09\u7f51\u7edc\u7ba1\u7406\uff1a\u4ec5\u652f\u6301\u4e09\u79cd\u7f51\u7edc\uff0c\u6241\u5e73\u7f51\u7edc\uff0c\u5e26DHCP\u529f\u80fd\u7684\u6241\u5e73\u7f51\u7edc\uff0cVLAN\u7f51\u7edc 3\uff09\u5b89\u5168\u63a7\u5236\uff1a\u4e3b\u8981\u901a\u8fc7ebtables\u548ciptables\u6765\u5b9e\u73b0 \u6b64\u9636\u6bb5\uff0cNova-network\u652f\u6301\u7684\u529f\u80fd\u6bd4\u8f83\u7b80\u5355\uff0c\u5230\u4e86Quantum\u9636\u6bb5\uff0c\u5176\u652f\u6301\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a 1\uff09\u652f\u6301\u591a\u79df\u6237\u9694\u79bb\uff0c\u5e76\u63d0\u4f9b\u9762\u5411\u79df\u6237\u7684API 2\uff09\u63d2\u4ef6\u5f0f\u7ed3\u6784\u652f\u6301\u591a\u79cd\u7f51\u7edc\u540e\u7aef\u6280\u672f\uff0c\u5305\u62ecOpen vSwitch\uff0cCisco\uff0cLinux Bridge\uff0cNicira NVP\uff0cRyu\uff0cNEC\u7b49 3\uff09\u652f\u6301\u4f4d\u4e8e\u4e0d\u540c\u4e8c\u5c42\u7f51\u7edc\u7684IP\u5730\u5740\u91cd\u53e0 4\uff09\u652f\u6301\u57fa\u672c\u7684\u4e09\u5c42\u8f6c\u53d1\u548c\u591a\u8def\u7531\u5668 5\uff09\u652f\u6301\u96a7\u9053\u6280\u672f\uff08Tuneling\uff09 6\uff09\u652f\u6301\u4e09\u5c42\u4ee3\u7406\u548cDHCP\u4ee3\u7406\u7684\u591a\u501f\u70b9\u90e8\u7f72\uff0c\u589e\u5f3a\u53ef\u6269\u5c55\u6027\u548c\u53ef\u9760\u6027 7\uff09\u652f\u6301\u8d1f\u8f7d\u5747\u8861API Quantum\u9636\u6bb5\u6240\u652f\u6301\u7684\u529f\u80fd\u5df2\u7ecf\u521d\u5177\u89c4\u6a21\u3002\u6709\u4e86Quantum\u6253\u4e0b\u7684\u826f\u597d\u57fa\u7840\uff0c\u8fdb\u5165\u7b2c\u4e09\u9636\u6bb5\u4e4b\u540e\uff0cNeutron\u6240\u652f\u6301\u7684\u529f\u80fd\u548c\u5e94\u7528\u573a\u666f\uff0c\u5f97\u5230\u4e86\u66f4\u5927\u89c4\u6a21\u7684\u53d1\u5c55 Neutron\u7684\u4f53\u7cfb\u673a\u6784\uff1a \u00b6 \u7c7b\u4f3c\u4e8e\u5404\u4e2a\u8ba1\u7b97\u8282\u70b9\u5728Nova\u4e2d\u88ab\u62bd\u8c61\u6210\u8ba1\u7b97\u8d44\u6e90\u6c60\uff0cOpenStack\u6240\u5728\u6574\u4e2a\u5c4b\u91cc\u7f51\u7edc\u5728Neutron\u4e2d\u4e5f\u88ab\u62bd\u8c61\u6210\u7f51\u7edc\u8d44\u6e90\u6c60\uff0c\u901a\u8fc7\u5bf9\u5c4b\u91cc\u7f51\u7edc\u8d44\u6e90\u7684\u7075\u6d3b\u5212\u5206\u4e0e\u7ba1\u7406\uff0cNeutron\u80fd\u591f\u4e3a\u540c\u4e00\u5c4b\u91cc\u7f51\u8def\u4e0a\u7684\u6bcf\u4e2a\u9879\u76ee\u63d0\u4f9b\u72ec\u7acb\u7684\u865a\u62df\u7f51\u7edc\u73af\u5883\u3002 \u6211\u4eec\u5728OpenStack\u4e91\u73af\u5883\u4e2d\u57fa\u4e8eNeutron\u6784\u5efa\u81ea\u5df1\u79c1\u6709\u7f51\u7edc\u7684\u8fc7\u7a0b\uff0c\u5c31\u662f\u521b\u5efa\u5404\u79cdNeutron\u8d44\u6e90\u5bf9\u8c61\u5e76\u8fdb\u884c\u5bf9\u63a5\u7684\u8fc7\u7a0b\uff0c\u5b8c\u5168\u7c7b\u4f3c\u4e8e\u4f7f\u7528\u771f\u5b9e\u7269\u7406\u7f51\u7edc\u8bbe\u5907\u6765\u89c4\u5212\u81ea\u5df1\u7684\u7f51\u7edc\u73af\u5883\u3002 1\uff09\u9996\u5148\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u7531\u7ba1\u7406\u5458\u521b\u5efa\u7684\u5916\u90e8\u7f51\u7edc\u5bf9\u8c61\u6765\u8d1f\u8d23OpenStack\u4e0eInternet\u7684\u8fde\u63a5\uff0c\u7136\u540e\u9879\u76ee\u53ef\u4ee5\u521b\u5efa\u81ea\u5df1\u7684\u79c1\u6709\u5185\u90e8\u7f51\u7edc\u5e76\u5728\u5176\u4e2d\u521b\u5efa\u865a\u62df\u673a\uff0c\u4e3a\u4e86\u4f7f\u5185\u90e8\u7f51\u7edc\u4e2d\u7684\u865a\u62df\u673a\u80fd\u591f\u8bbf\u95ee\u4e92\u8054\u7f51\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u8def\u7531\u5668\u5c06\u5185\u90e8\u7f51\u7edc\u8fde\u63a5\u5230\u5916\u90e8\u7f51\u7edc\u3002 \u200b \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2dNeutron\u63d0\u4f9b\u4e86\u4e00\u4e2aL3\uff08\u4e09\u5c42\uff09\u7684\u62bd\u8c61router\u548c\u4e00\u4e2aL2\uff08\u4e8c\u5c42\uff09\u7684\u62bd\u8c61network\uff0crouter\u5bf9\u5e94\u7269\u7406\u7f51\u7edc\u73af\u5883\u4e2d\u7684\u8def\u7531\u5668\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u8def\u7531\uff0cNAT\u7b49\u670d\u52a1\uff0cnetwork\u5219\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u771f\u5b9e\u7269\u7406\u7f51\u7edc\u4e2d\u7684\u4e8c\u5c42\u5c40\u57df\u7f51\uff08LAN\uff09\uff0c\u4ece\u9879\u76ee\u7684\u89d2\u5ea6\u770b\uff0c\u5b83\u4e3a\u9879\u76ee\u79c1\u6709\u3002 \u8fd9\u91cc\u7684subnet\u4eceNeutron\u7684\u5b9e\u73b0\u4e0a\u6765\u770b\u5e76\u4e0d\u80fd\u5b8c\u5168\u7406\u89e3\u4e3a\u7269\u7406\u7f51\u7edc\u4e2d\u5b50\u7f51\u7684\u6982\u5ff5\uff0csubnet\u5c5e\u4e8e\u7f51\u7edc\u4e2d3\u5c42\u6982\u5ff5\uff0c\u6307\u5b9a\u4e00\u6bb5IPv4\u6216IPv6\u5730\u5740\u5e76\u63cf\u8ff0\u5176\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5b83\u9644\u52a0\u5728\u4e00\u4e2a\u4e8c\u5c42network\u4e0a\u6307\u5b9a\u5c5e\u4e8e\u8fd9\u4e2anetwork\u7684\u865a\u62df\u673a\u53ef\u4f7f\u7528\u7684IP\u5730\u5740\u8303\u56f4\u3002\u4e00\u4e2anetwork\u53ef\u4ee5\u540c\u65f6\u62e5\u6709\u4e00\u4e2aIPv4 subnet\u548c\u4e00\u4e2aIPv6 subnet\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5373\u4f7f\u6211\u4eec\u914d\u7f6e\u591a\u4e2asubnet\uff0c\u4e5f\u5e76\u80fd\u591f\u5de5\u4f5c\u3002 Linux\u865a\u62df\u7f51\u7edc \u00b6 Neutron\u6700\u4e3a\u6838\u5fc3\u7684\u5de5\u4f5c\u5ba4\u5bf9\u4e8c\u5c42\u7269\u7406\u7f51\u7edcnetwork\u7684\u62bd\u8c61\u4e0e\u7ba1\u7406\u3002\u5728\u4e00\u4e2a\u4f20\u7edf\u7684\u7269\u7406\u7f51\u7edc\u91cc\uff0c\u53ef\u80fd\u6709\u4e00\u7ec4\u7269\u7406\u7684Server\uff0c\u4e0a\u9762\u5206\u522b\u8fd0\u884c\u6709\u5404\u79cd\u5404\u6837\u7684\u5e94\u7528\uff0c\u6bd4\u5982web\u670d\u52a1\uff0c\u6570\u636e\u5e93\u670d\u52a1\u7b49\u3002\u4e3a\u4e86\u5f7c\u6b64\u4e4b\u95f4\u80fd\u591f\u76f8\u4e92\u901a\u4fe1\uff0c\u6bcf\u4e2a\u7269\u7406Server\u90fd\u7528\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u7269\u7406\u7f51\u5361\uff08NIC\uff09\uff0c\u8fd9\u4e9bNIC\u88ab\u8fde\u63a5\u5728\u7269\u7406\u4ea4\u6362\u8bbe\u5907\u4e0a\uff0c\u6bd4\u5982\u4ea4\u6362\u673a\uff08Switch\uff09 \u865a\u62df\u5316\u6280\u672f\u88ab\u5f15\u5165\u4e4b\u540e\uff0c\u4e0a\u8ff0\u7684\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e94\u7528\u53ef\u4ee5\u4ee5\u865a\u62df\u673a\u7684\u5f62\u5f0f\u5206\u4eab\u540c\u4e00\u7269\u7406Server\uff0c\u865a\u62df\u673a\u7684\u751f\u6210\u4e0e\u7ba1\u7406\u7531Hypervisor\uff08\u6216VMM\uff09\u6765\u5b8c\u6210\u3002 \u865a\u62df\u673a\u7684\u7f51\u7edc\u529f\u80fd\u7531\u865a\u62df\u7f51\u5361\uff08vNIC\uff09\u63d0\u4f9b\uff0cHypervisor\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u865a\u62df\u673a\u521b\u5efa\u4e00\u4e2a\u6216\u8005\u591a\u4e2avNIC\uff0c\u7ad9\u5728\u865a\u62df\u673a\u7684\u89d2\u5ea6\uff0c\u8fd9\u4e9bvNIC\u7b49\u540c\u4e8e\u7269\u7406\u7684\u7f51\u5361\u3002\u4e3a\u4e86\u5b9e\u73b0\u4e0e\u4f20\u7edf\u7269\u7406\u7f51\u7edc\u7b49\u540c\u7684\u7f51\u7edc\u7ed3\u6784\uff0c\u4e0eNIC\u4e00\u6837Switch\u4e5f\u88ab\u865a\u62df\u5316\u4e3a\u865a\u62df\u4ea4\u6362\u673a\uff08vSwitch\uff09\uff0c\u5404\u4e2avNIC\u8fde\u63a5\u5728vSwitch\u7684\u7aef\u53e3\u4e0a\uff0c\u6700\u540e\u8fd9\u4e9bvSwitch\u901a\u8fc7\u7269\u7406Server\u4e0a\u7684\u7269\u7406\u7f51\u5361\uff08NIC\uff09\u8bbf\u95ee\u5916\u90e8\u7684\u7269\u7406\u7f51\u7edc\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u865a\u62df\u7684\u4e8c\u5c42\u7f51\u7edc\u7ed3\u6784\u6765\u8bf4\uff0c\u4e3b\u8981\u662f\u5b8c\u6210\u4e24\u79cd\u7f51\u7edc\u8bbe\u5907\u7684\u865a\u62df\u5316\uff1aNIC\u786c\u4ef6\u4e0e\u4ea4\u6362\u8bbe\u5907\u3002Linux\u73af\u5883\u4e0b\u7f51\u7edc\u8bbe\u5907\u8bbe\u5907\u7684\u865a\u62df\u5316\u4e3b\u8981\u7531\u4ee5\u4e0b\u51e0\u79cd\u5f62\u5f0f\u3002Neutron\u4e5f\u662f\u57fa\u4e8e\u8fd9\u4e9b\u6280\u672f\u6765\u5b8c\u573a\u9879\u76ee\u79c1\u6709\u7f51\u7edcnetwork\u7684\u6784\u5efa\u3002 Neutron\u5728\u6784\u5efa\u7f51\u7edc\u670d\u52a1\u65f6\uff0c\u5229\u7528\u4e86\u5f88\u591aLinux\u865a\u62df\u7f51\u7edc\u7684\u529f\u80fd\u3002 1\uff09TAP/TUN/VETH TAP/TUN\u662flinux\u7684\u5185\u6838\u5b9e\u73b0\u7684\u4e00\u5bf9\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0cTAP\u662f\u5de5\u4f5c\u5728\u4e8c\u5c42\uff0cTUN\u5de5\u4f5c\u5728\u4e09\u5c42\uff0cLinux\u5185\u6838\u901a\u8fc7TAP/TUN\u8bbe\u5907\u5411\u7ed1\u5b9a\u8be5\u8bbe\u5907\u7684\u7528\u6237\u7a7a\u95f4\u7a0b\u5e8f\u53d1\u9001\u6570\u636e\uff0c\u53cd\u4e4b\uff0c\u7528\u6237\u7a7a\u95f4\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u50cf\u64cd\u4f5c\u786c\u4ef6\u7f51\u7edc\u8bbe\u5907\u90a3\u6837\u901a\u8fc7TAP/TUN\u8bbe\u5907\u53d1\u9001\u6570\u636e\u3002 \uff08\u6ce8\uff1a\u5728Linux\u4e2d\u7684\u8bbe\u5907\u5373Device\u5e76\u4e0d\u662f\u751f\u6d3b\u4e2d\u7684\u8bbe\u5907\uff0c\u5728\u8fd9\u7684\u91cc\u7684\u8bbe\u5907\u901a\u5e38\u6307\u7684\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u6570\u636e\u7ed3\u6784\uff0c\u5185\u6838\u6a21\u5757\u6216\u8005\u8bbe\u5907\u9a71\u52a8\u8fd9\u6837\u7684\u6982\u5ff5\uff09 struct tun_struct{ char name(8) unsigned long flags; struct fasync_struct *fasync; wait_queue_head_t read_wait; struct net_device dev; struct sk_buff_head txq; struct net_device_stats; } \u57fa\u4e8eTAP\u9a71\u52a8\uff0c\u80fd\u591f\u5b9e\u73b0\u865a\u62df\u7f51\u5361\u7684\u529f\u80fd\uff0c\u865a\u62df\u673a\u7684\u6bcf\u4e2avNIC\u90fd\u4f1a\u4e0eHypervisor\u4e2d\u7684\u4e00\u4e2aTAP\u8bbe\u5907\u76f8\u8fde\u3002\u5f53\u4e00\u4e2aTAP\u8bbe\u5907\u88ab\u521b\u5efa\u65f6\uff0c\u5728Linux\u6d89\u7b14\u6587\u4ef6\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94\u7684\u5b57\u7b26\u8bbe\u5907\u6587\u4ef6\uff0c\u7528\u6237\u7a0b\u5e8f\u53ef\u4ee5\u5411\u6253\u5f00\u666e\u901a\u6587\u4ef6\u4e00\u6837\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u3002 \u5f53\u8fd9\u4e2aTAP\u8bbe\u5907\u6587\u4ef6\u6267\u884cwirte()\u64cd\u4f5c\u65f6\uff0c\u5bf9\u4e8eLinux\u7f51\u7edc\u5b50\u7cfb\u7edf\u6765\u8bf4\uff0c\u5c31\u76f8\u5f53\u4e8eTAP\u8bbe\u5907\u6536\u5230\u4e86\u6570\u636e\uff0c\u5e76\u8bf7\u6c42\u5185\u6838\u63a5\u53d7\u5b83\uff0cLinux\u5185\u6838\u6536\u5230\u6b64\u6570\u636e\u540e\u5c06\u6839\u636e\u7f51\u7edc\u914d\u7f6e\u8fdb\u884c\u540e\u7eed\u5904\u7406\uff0c\u5904\u7406\u8fc7\u7a0b\u7c7b\u4f3c\u4e8e\u666e\u901a\u7684\u7269\u7406\u7f51\u5361\u4ece\u8b66\u5916\u754c\u63a5\u53d7\u6570\u636e\u3002\u5f53\u7528\u6237\u7a0b\u5e8f\u6267\u884cread()\u8bf7\u6c42\u65f6\uff0c\u76f8\u5f53\u4e8e\u5411\u5185\u6838\u67e5\u8be2TAP\u8bbe\u5907\u4e0a\u662f\u5426\u6709\u6570\u636e\u9700\u8981\u88ab\u53d1\u9001\uff0c\u6709\u7684\u8bdd\u53d6\u51fa\u5230\u7528\u6237\u7a0b\u5e8f\u91cc\uff0c\u4ece\u800c\u5b8c\u6210TAP\u8bbe\u5907\u53d1\u9001\u6570\u636e\u7684\u529f\u80fd\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u91cc\uff0cTAP\u8bbe\u5907\u53ef\u4ee5\u88ab\u5f53\u4f5c\u662f\u672c\u673a\u7684\u4e00\u4e2a\u7f51\u5361\uff0c\u800c\u64cd\u4f5cTAP\u8bbe\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\u76f8\u5f53\u4e8e\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\uff0c\u4ed6\u901a\u8fc7read/write\u7cfb\u7edf\u8c03\u7528\uff0c\u548c\u672c\u673a\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\uff0cSubnet\u6570\u636e\u7f51\u7edc\u4e2d\u76843\u66fe\u6982\u5ff5\uff0c\u6307\u5b9a\u4e00\u6bb5IPv4\u6216\u8005Ipv6\u5730\u5740\u5e76\u63cf\u8ff0\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u4ed6\u4eec\u9644\u52a0\u5728\u4e00\u4e2a\u4e8c\u5c42network\u4e0a\uff0c\u5e76\u6307\u660e\u6570\u636e\u8fd9\u4e2anetwork\u7684\u865a\u62df\u673a\u53ef\u4f7f\u7528\u7684IP\u5730\u5740\u8303\u56f4\u3002 TAP\u4ece\u529f\u80fd\u5b9a\u4f4d\u4e0a\u6765\u8bb2\uff0c\u4f4d\u4e8e\u6570\u636e\u94fe\u8def\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\u7684\u4e3b\u8981\u534f\u8bae\u6709\uff1a \u200b 1\uff09\u70b9\u5bf9\u70b9\u534f\u8bae\uff08point-to-point protocol\uff09 \u200b 2\uff09\u4ee5\u592a\u7f51\uff08Ethernet\uff09 \u200b 3\uff09\u9ad8\u7ea7\u6570\u636e\u94fe\u8def\u534f\u8bae\uff08Hight-Level Data Link Protocol\uff09 \u200b 4\uff09\u5e27\u4e2d\u7ee7\uff08Frame Relay\uff09 \u200b 5\uff09\u5f02\u6b65\u4f20\u8f93\u6a21\u5f0f\uff08Asynchronous Transfer Mode\uff09 \u4f46\u662fTAP\u53ea\u662f\u4e0e\u5176\u4e2d\u4e00\u79cd\u534f\u8bae\u4ee5\u592a\u7f51\uff08Ethernet\uff09\u534f\u8bae\u5bf9\u5e94\u3002\u6240\u4ee5\uff0cTAP\u6709\u65f6\u4e5f\u79f0\u4e3a\u201c\u865a\u62df\u4ee5\u592a\u8bbe\u5907\u201d 2\uff09namespace namespace\u662fLinux\u865a\u62df\u7f51\u7edc\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002\u4f20\u7edf\u7684Linux\u7684\u8bb8\u591a\u8d44\u6e90\u65f6\u5168\u5c40\u7684\uff0c\u6bd4\u5982\u8fdb\u7a0bID\u8d44\u6e90\u3002\u800c\u90a3\u4e48space\u7684\u76ee\u7684\u9996\u5148\u5c31\u662f\u5c06\u8fd9\u4e9b\u8d44\u6e90\u505a\u9694\u79bb\u3002Linux\u53ef\u4ee5\u5728\u4e00\u4e2aHost\u5185\u521b\u5efa\u8bb8\u591anamespace,\u4e8e\u662f\u90a3\u4e9b\u539f\u672c\u662f\u5168\u5c40\u7684\u8d44\u6e90\uff0c\u5c31\u53d8\u6210\u4e86namespace\u8303\u56f4\u5185\u7684\u5168\u5c40\u8d44\u6e90\u3002\u800c\u4e0d\u540c\u7684namespace\u7684\u8d44\u6e90\u4e92\u76f8\u4e0d\u53ef\u89c1\uff0c\u5f7c\u6b64\u900f\u660e \u5355\u7eaf\u4ece\u7f51\u7edc\u89c6\u89d2\u770b\uff0c\u4e00\u4e2anamespace\u63d0\u4f9b\u4e86\u4e00\u4efd\u72ec\u7acb\u7684\u7f51\u7edc\u534f\u8bae\u6808\uff08\u7f51\u7edc\u8bbe\u5907\u63a5\u53e3\uff0cIPv4\uff0cIPv6\uff0cIP\u8def\u7531\uff0c\u9632\u706b\u5899\u89c4\u5219\uff0csockets\u7b49\uff09\u4e00\u4e2a\u8bbe\u5907\uff08linuxDevice\uff09\u53ea\u80fd\u4f4d\u4e8e\u4e00\u4e2a\u90a3\u4e48space\u4e2d\uff0c\u4e0d\u540c\u90a3\u4e48space\u4e2d\u7684\u8bbe\u5907\u53ef\u4ee5\u901a\u8fc7veth pair\u8fdb\u884c\u6865\u63a5\u3002 3\uff09veth pair veth pair\u4e0d\u662f\u4e00\u4e2a\u8bbe\u5907\u800c\u662f\u4e00\u5bf9\u8bbe\u5907\uff0c\u7528\u6765\u8fde\u63a5\u4e24\u4e2a\u865a\u62df\u4ee5\u592a\u7f51\u7aef\u53e3\u3002\u64cd\u4f5cveth pair\uff0c\u9700\u8981\u8ddfnamespace\u4e00\u8d77\u914d\u5408\u3002 4\uff09bridge\uff1a\u7f51\u6865\uff0cLinux\u4e2d\u7528\u4e8e\u6807\u8bc6\u4e00\u4e2a\u80fd\u8fde\u63a5\u4e0d\u540c\u7f51\u7edc\u8bbe\u5907\u7684\u865a\u62df\u8bbe\u5907\uff0cLinux\u4e2d\u4f20\u7edf\u5b9e\u73b0\u7684\u7f51\u6865\u7c7b\u4f3c\u4e8e\u4e00\u4e2ahub\u8bbe\u5907\uff0c\u800covs\u7ba1\u7406\u7684\u7f51\u6865\u4e00\u822c\u7c7b\u4f3c\u4e8e\u4ea4\u6362\u673a\u3002 linux bridge\u662f\u5de5\u4f5c\u5728L2\uff08\u4e8c\u5c42\uff09\u7684\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0c\u529f\u80fd\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u3002Bridge\u53ef\u4ee5\u7ed1\u5b9a\u5176\u4ed6Linux\u8bbe\u5907\u4f5c\u4e3a\u4ece\u8bbe\u5907\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8bbe\u5907\u4ece\u8bbe\u5907\u865a\u62df\u5316\u4e3a\u7aef\u53e3\uff0c\u5f53\u4e00\u4e2a\u8bbe\u5907\u88ab\u7ed1\u5b9a\u5230Bridge\u4e0a\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u5728\u771f\u5b9e\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u63d2\u5165\u4e86\u4e00\u4e2a\u8fde\u63a5\u6709\u7ec8\u7aef\u7684\u7f51\u7ebf\u3002 Bridge\u8bbe\u5907br0\u7ed1\u5b9a\u4e86\u5b9e\u9645\u8bbe\u5907eth0\u4e0e\u865a\u62df\u673a\u8bbe\u5907tap0/tap1,\u6b64\u65f6\uff0c\u5bf9\u4e8ehypervisor\u7684\u7f51\u7edc\u534f\u8bae\u6808\u7684\u4e0a\u5c42\u6765\u8bf4\uff0c\u53ea\u770b\u5230br0\uff0c\u5e76\u4e0d\u4f1a\u5173\u5fc3\u6865\u63a5\u7ec6\u8282\u3002\u5f53\u4ece\u8fd9\u4e9b\u8bbe\u5907\u6536\u5230\u6570\u636e\u5305\u65f6\uff0c\u4f1a\u5c06\u5176\u63d0\u4ea4\u7ed9br0\u51b3\u5b9a\u6570\u636e\u5305\u7684\u53bb\u5411\u3002br0\u4f1a\u6839\u636eMAC\u5730\u5740\u4e0e\u7aef\u53e3\u7684\u6620\u5c04\u5173\u7cfb\u8fdb\u884c\u8f6c\u53d1\uff08MAC\u5730\u5740\u8868\uff09 \u56e0\u4e3aBridge\u5de5\u4f5c\u5728\u7b2c\u4e8c\u5c42\uff0c\u6240\u4ee5\u7ed1\u5b9a\u5728br0\u4e0a\u7684\u8bbe\u5907eth0,tap0,tap1\u5747\u4e0d\u9700\u8981\u518d\u8bbe\u7f6eIP\u5730\u5740\uff0c\u5bf9\u4e0a\u5c42\u7684\u8def\u7531\u5668\u6765\u8bf4\u4ed6\u4eec\u90fd\u4f4d\u4e8e\u540c\u4e00\u4e2a\u5b50\u7f51\uff0c\u56e0\u6b64\u53ea\u9700\u4e3abr0\u8bbe\u7f6eIP\u3002 5\uff09br-int\uff1abridge-intergration\uff0c\u7efc\u5408/\u96c6\u6210\u7f51\u6865\u3002\u5e38\u7528\u8bed\u8868\u793a\u5b9e\u73b0\u4e3b\u8981\u5185\u90e8\u7f51\u7edc\u529f\u80fd\u7684\u7f51\u6865\u3002\u5728\u903b\u8f91\u6982\u5ff5\u4e0a\uff0c\u4ed6\u662f\u8de8\u8d8a\u6574\u4e2aOpenStack\u7684\u5185\u90e8\u5927\u7f51\u6865\uff1a\u6240\u6709\u7684Port\uff08\u865a\u62df\u673a\uff0c\u865a\u62df\u8def\u7531\u5668\uff0cDHCP\u7b49\u7b49\uff09\u90fd\u76f4\u63a5\u8fde\u63a5\u5728br-int\u4e0a\uff0c\u901a\u8fc7\u4e0d\u540c\u7684VLAN tag\u6765\u533a\u5206\u4e0d\u540c\u7684Subnet\uff0c\u505a\u5230\u4e86\u7f51\u7edc\u4e4b\u95f4\u7684\u9694\u79bb\u3002 \u6ce8\uff1a\u5c06\u5206\u5e03\u5728\u5404\u4e2a\u7269\u7406\u673a\u4e0a\u7684br-int\u7f51\u6865\u8054\u901a\uff0c\u5b9e\u73b0\u903b\u8f91\u4e0a\u7edf\u4e00\u7684\u96c6\u6210\u7f51\u6865\uff0cNeutron\u53ef\u4ee5\u91c7\u7528\u4e09\u79cd\u65b9\u6848\u6765\u5b8c\u6210\u8fd9\u4e00\u4efb\u52a1\uff1aVLAN\uff0cGRE\u548cVXLAN\uff0c\u5206\u522b\u5bf9\u7528\u4e09\u79cdTenant Network\u7c7b\u578b\u3002\u6bcf\u4e00\u4e2a\u7528\u6237\u521b\u5efa\u7684Tenant Network\u6839\u636e\u5176\u7c7b\u578b\u51b3\u5b9a\u5185\u90e8\u7f51\u7edc\u91c7\u7528\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u6765\u62ec\u7ea6\u7269\u7406\u673a\u7684\u754c\u9650\u3002 6\uff09br-ex\uff1abridge-external\uff0c\u5916\u90e8\u7f51\u6865\uff0c\u901a\u5e38\u8868\u793a\u8d1f\u8d23\u8ddf\u5916\u90e8\u7f51\u7edc\u901a\u4fe1\u7684\u7f51\u6865\u3002 7\uff09GRE\uff1aGeneral Routing Encapsulation\uff0c\u4e00\u79cd\u901a\u8fc7\u5c01\u88c5\u6765\u5b9e\u73b0\u7684\u96a7\u9053\u7684\u65b9\u5f0f\u3002\u5728opensatck\u4e2d\u4e00\u822c\u662f\u57fa\u4e8eL3\u7684gre\u3002\u5373originna pkt/GRE/IP/ethernet 8\uff09iptables\uff1aLinux\u4e0a\u5e38\u89c1\u7684\u5b9e\u73b0\u5b89\u5168\u7b56\u7565\u7684\u9632\u706b\u5899\u8f6f\u4ef6 9\uff09VxLAN\uff1a\u5229\u7528UDP\u534f\u8bae\u4f5c\u4e3a\u5e95\u5c42\u4f20\u8f93\u534f\u8bae\u7684OverLay\u5b9e\u73b0\u3002\u4e00\u822c\u8ba4\u4e3a\u4f5c\u4e3aVLAN\u6280\u672f\u7684\u5ef6\u4f38\u6216\u8005\u66ff\u4ee3\u6280\u672f Neutron\u7684\u4e09\u7c7b\u8282\u70b9 \u00b6 \u8ba1\u7b97\u8282\u70b9 \u00b6 \u8ba1\u7b97\u8282\u70b9\uff08Compute Node\uff09\u6700\u76f4\u89c2\uff0c\u8ba1\u7b97\u662fOpenStack\u7684\u4e09\u5927\u7ec4\u4ef6\u4e4b\u4e00\uff08\u8ba1\u7b97\uff0c\u5b58\u50a8\uff0c\u7f51\u7edc\uff09\u3002\u8ba1\u7b97\u4e3b\u8981\u6307\u5c06\u670d\u52a1\u5668\u865a\u62df\u5316\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u521b\u5efaVM\u3002\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u5373\u4e00\u4e2aHost\u4e0a\u6709\u591a\u4e2aVM\u5b58\u5728\u3002 \u5728\u8ba1\u7b97\u8282\u70b9\u91cc\u9762\u8fd8\u6709Bridge\u3002\u8fd9\u91cc\u7684Bridge\u6307\u7684\u662f\u865a\u62df\u7684Bridge\u3002\u4e0d\u540cHost\u7684VM\u4e4b\u95f4\u7684\u4e8c\u5c42\u901a\u4fe1\uff0c\u901a\u8fc7\u8ba1\u7b97\u8282\u70b9\u7684Bridge\u5c31\u53ef\u4ee5\u5b8c\u6210 \u7f51\u7edc\u8282\u70b9 \u00b6 \u5728Host\u5185\u90e8\u7684VM\u60f3\u8981\u8bbf\u95eeInternet\u5c31\u5fc5\u987b\u901a\u8fc7Router\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\uff0c\u518d\u4ece\u7f51\u5173\u4e0eInternet\u5b8c\u6210\u901a\u4fe1\u3002Router\u4e5f\u662fLinux\u865a\u62df\u51fa\u6765\u7684\uff0cRouter\u6240\u5728\u7684\u8282\u70b9\u5c31\u662f\u7f51\u7edc\u8282\u70b9\u3002\u7f51\u7edc\u8282\u70b9\u4e0a\u8fd8\u90e8\u7f72\u7740DHCP\u7b49\u7f51\u7edc\u670d\u52a1\u3002\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u901a\u5e38\u6307\u7684\u662f\u4e00\u4e2aHost\u3002\u4e00\u4e2a\u7f51\u7edc\u51e0\u70b9\u901a\u5e38\u610f\u5473\u7740\u4e00\u4e2aHost\u6216\u8005\u591a\u4e2aHost\u56e0\u4e3a\u4e0d\u662f\u6240\u6709\u7684\u7f51\u7edc\u670d\u52a1\u90fd\u5fc5\u987b\u90e8\u7f72\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u901a\u5e38\u6765\u8bf4\u7f51\u7edc\u670d\u52a1\u4f1a\u5206\u522b\u90e8\u7f72\u5728\u591a\u4e2aHost\u4e0a\u3002 \u63a7\u5236\u8282\u70b9 \u00b6 Neutron\u4e00\u65b9\u9762\u5728\u5404\u4e2a\u8ba1\u7b97\u8282\u70b9\u548c\u7f51\u7edc\u8282\u70b9\u4e0a\u8fd0\u884c\u5404\u79cdAgent\uff0c\u53e6\u4e00\u65b9\u9762Neutron\u7684\u5404\u79cd\u670d\u52a1\u8fd0\u884c\u5728\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u63a7\u5236\u8282\u70b9\u4e0a\u3002 Neutron\u7684\u7f51\u7edc \u00b6 \u5916\u90e8\u7f51\u7edc\uff08Provider network\uff09\uff1a\u63d0\u4f9b\u4e0a\u7f51\u670d\u52a1\uff0c\u5916\u754c\u767b\u5f55openstack\u3002 \u7ba1\u7406\u7f51\u7edc(Management network) : \u63d0\u4f9bopenstack\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u53ea\u6709\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u53ef\u8fbe\u3002 \u6570\u636e\u7f51\u7edc(Data Network) : \u63d0\u4f9b\u4e91\u5185\u90e8VM\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u53d6\u51b3\u5343\u4f7f\u7528\u7684\u7f51\u7edc\u63d2\u4ef6\u7a0b\u5e8f\u3002 API\u7f51\u7edc(API Network) : \u4e3a\u79df\u6237\u63d0\u4f9b\u5305\u62ecNetwork API\u5728\u5185\u7684\u6240\u6709openstack API\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u5141\u8bb8Internet\u4e0a\u7684\u4efb\u4f55\u4eba\u53ef\u8fbe\u3002 Provider Network\u7f51\u7edc\uff1a\u7531\u7ba1\u7406\u5458\u521b\u5efa\u3002\u662f\u5df2\u7ecf\u5b58\u50a8\u5728\u7684\u7269\u7406\u7f51\u7edc\u5728Neutron\u4e2d\u7684\u6620\u5c04\u3002\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662f\u5c06\u516c\u7f51\u4f5c\u4e3aProviderNetwork (\u901a\u5e38\u662fbr-ex\u7684\u6620\u5c04\uff09\u6765\u521b\u5efaExternalNetwork\u3002ExternalNetwork \u662f\u4e00\u79cdProvdierNetwork, \u5178\u578b\u5730\u5b83\u662f\u7528\u4e8e\u5411\u865a\u62df\u673a\u63d0\u4f9b\u56e0\u7279\u7f51\u8bbf\u95f4\u3002\u5b83\u7684type\u667a\u80fd\u662fflat\u548cvlan\u7c7b\u578b\u3002\u5e38\u7528\u7684\u7f51\u7edc\u662fFlat\u548cvlan,vxlan\u57fa\u672c\u4f7f\u7528\u4e0d\u4e0a\u3002 Tenant\u7f51\u7edc\uff1a\u7528\u6237\u81ea\u5df1\u521b\u5efa\u3002 \u53ef\u4ee5\u8bbe\u7f6e\u7684\u9009\u9879\u5c31\u662f\uff1aFlat, vlan\u548cvxlan local\u4e3b\u8981\u662f\u6d4b\u8bd5\u4f7f\u7528\u3002 \u8ba1\u7b97\u8282\u70b9\u7684\u5b9e\u73b0\u6a21\u578b \u00b6 \u4e00\u4e2a\u57fa\u4e8eopenstack\u7684\u4e91\u7cfb\u7edf\u4f1a\u6709\u5f88\u591a\u8ba1\u7b97\u8282\u70b9\uff0c\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u5c31\u662f\u4e00\u4e2aHost\u3002\u8ba1\u7b97\u8282\u70b9\u91cc\u5b58\u5728\u591a\u4e2aVM\uff0c\u8fd9\u4e9b\u8ba1\u7b97\u8282\u70b9\u4e5f\u662fOpenStack\u5b58\u5728\u7684\u57fa\u7840\u3002\u4f46\u662fVM\u4e0d\u80fd\u50cf\u4e00\u4e2a\u4e2a\u5b64\u5c9b\u4e00\u6837\u5b58\u5728\uff0cVM\u4e4b\u95f4\u9700\u8981\u901a\u4fe1\uff0c\u4e14\u9700\u8981\u80fd\u591f\u5b9e\u73b0\u8de8\u8d8aHost\u5b9e\u73b0Vm\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u901a\u4fe1\u5206\u4e3a\u4e8c\u5c42\u901a\u4fe1\u548c\u4e09\u5c42\u901a\u4fe1\uff0c\u4e8c\u5c42\u901a\u4fe1\u4f7f\u7528Bridge\uff08\u4ea4\u6362\u673a\uff09\u4e09\u5c42\u9700\u8981Router\u3002Router\u5728\u7f51\u7edc\u8282\u70b9\u4e0a\u3002 \u5728\u4e0a\u56fe\u4e2d\u4e24\u4e2a\u4e3b\u673a\u4f4d\u4e8e\u4e00\u4e2a\u673a\u67b6\u5185\uff0c\u4e24\u4e2a\u4e3b\u673a\u5206\u522b\u865a\u62df\u51fa\u591a\u4e2aVM\u3002\u6bcf\u4e2aHost\u5185\u8c03\u51fa\u82e5\u5e72\u4e2a\u865a\u62df\u673a\u7ec4\u6210\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\uff08\u5728\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u4e00\u4e2aVLAN\uff09\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u573a\u666f\u9700\u8981\u7684\u7269\u7406\u8bbe\u5907\u6709\uff1a\u673a\u67b6\uff0c\u4e3b\u673a\uff0cToR\u4ea4\u6362\u673a\u3002 \u56fe\u4e2dSecurity Layer\u4e00\u822c\u7531\u5404\u79cd\u865a\u62df\u7f51\u5143\u7ec4\u6210\u3002Neutron\u4e0d\u80fd\u7ba1\u7406\u7269\u7406\u7f51\u7edc\u3002\u5728\u8ba1\u7b97\u8282\u70b9\u7684\u6a21\u578b\u4e2dNeutron\u7ba1\u7406\u7684\u662f\u865a\u62df\u7f51\u5143\uff0c\u5373Security Layer\uff0cIntegration Layer\u8fd9\u4e24\u5c42\u7f51\u5143\u3002\u8fd9\u4e24\u5c42\u5b9e\u73b0\u591a\u79cd\u4e8c\u5c42\u7f51\u7edc\u3002 Neutron\u5f53\u524d\u652f\u6301\u7684\u4e8c\u5c42\u7f51\u7edc\u7c7b\u578b\u6709Loca\uff0cFlat\uff0cVLAN\uff0cGRE\uff0cVXLAN\uff0cGeneve VLAN\u5b9e\u73b0\u6a21\u578b \u00b6 qbr\u4e0ebr-int \u00b6 \u5728\u4e0a\u56fe\u4e2d\u7684qbr-xxx/qbr-yyy\u4e00\u822c\u7b80\u79f0\u4e3aqbr\u3002qbr\u662fQuantum Bridge\u7684\u7f29\u5199\uff0c\u800cOpenStack\u7f51\u7edc\u7ec4\u5efa\u7684\u524d\u4e00\u4e2a\u540d\u79f0\u5c31\u662fQuantum\u3002 br-int\uff1a\u8868\u8fbe\u7684\u662fIntergration Bridge qbr\u4e0ebr-int\u90fd\u662fBridge\uff08\u6b64\u524d\u8bf4\u8fc7Linux\u4e2d\u7684Bridge\u6307\u7684\u662f\u4ea4\u6362\u673a\uff09\u3002qbr\u5b9e\u73b0\u7684\u8f7d\u4f53\u662fLinux Bridge\u3002Br-int\u5b9e\u73b0\u7684\u8f7d\u4f53\u662fOVS\uff08Open vSwitch\uff09\u3002 qbr\u4e0ebr-int\u4e4b\u95f4\u901a\u8fc7veth pair\u76f8\u8fde\u3002VM\u4e0eqbr\u4e4b\u95f4\uff0c\u901a\u8fc7tap\u76f8\u8fde\u63a5\u3002 qbr\u4e0ebr-int\u90fd\u662fbridge\u7684\u4e00\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u5462\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u5c42bridge\u5462\uff1f \u200b 1\uff09\u5982\u679c\u53ea\u6709\u4e00\u4e2aqbr\uff0cqbr\u4ec5\u4ec5\u662f\u4e00\u4e2aLinux Bridge\uff0c\u4ed6\u7684\u529f\u80fd\u4e0d\u80fd\u6ee1\u8db3\u5b9e\u9645\u573a\u666f\u7684\u9700\u6c42 \u200b 2\uff09\u5982\u679c\u53ea\u6709\u4e00\u4e2abr-int\u3002\u7531\u4e8ebr-int\u5b9e\u9645\u4e0a\u4e00\u4e2aOVS\uff0c\u800cOVS\u5e76\u4e0d\u652f\u6301\u57fa\u4e8eiptables\u7684\u5b89\u5168\u7ec4\u7684\u529f\u80fd\u3002OpenStack\u662f\u57fa\u4e8eiptables\u89c4\u5219\u6765\u5b9e\u73b0\u5b89\u5168\u7ec4\u529f\u80fd\u3002 \u6240\u4ee5OpenStack\u4e2d\u5f15\u5165qbr\u6700\u4e3b\u8981\u7684\u76ee\u7684\u662f\u4f7f\u7528qbr\u63d0\u4f9b\u7684iptables\u5b9e\u73b0security group\u529f\u80fd\uff08qbr \u6709\u65f6\u5019\u4e5f\u4f1a\u88ab\u79f0\u4e3a\u5b89\u5168\u7f51\u6865\uff09 br-ethx \u00b6 br-ethx\u4e5f\u662f\u4e00\u4e2aBridge\u3002\u4e5f\u662f\u4e00\u4e2aOVS\u3002\u4ed6\u7684\u5168\u79f0\u4e3aBridge-Ethernet-External\u3002\u8d1f\u8d23\u4e0e\u5916\u90e8\u7f51\u7edc\u8fdb\u884c\u901a\u4fe1\u3002\u4e5f\u5c31\u662fHost\u4e0e\u5916\u90e8\u8fdb\u884c\u901a\u4fe1\u3002br-ethx\u5c5e\u4e8e\u4e00\u4e2aNetwork\uff0c\u8fd9\u4e2aNetwork\u7531Neutron\u8d1f\u8d23\u7ba1\u7406\u3002br-ethx\u4e0ebr-int\u4e4b\u95f4\u7684\u63a5\u53e3\u662fveth pair\u3002\u5728\u4e0a\u56fe\u4e2dbr-ethx\u4e0ebr-ethx\u4e4b\u95f4\u901a\u4fe1\u4f7f\u7528\u7684\u5b9e\u9645\u7684\u7269\u7406\u7f51\u5361\u8fdb\u9879\u901a\u4fe1\u7684\u3002\u8fd9\u4e5f\u662f\u4e0a\u56fe\u4e2d\u552f\u4e00\u4e00\u5bf9\u4f7f\u7528\u7269\u7406NIC\u8fdb\u884c\u901a\u4fe1\u7684\u94fe\u8def\u3002 VM\u4e0eVLAN ID \u00b6 \u4e0a\u56fe\u4e2d4\u4e2aVM\u5206\u522b\u5c5e\u4e8e\u4e24\u4e2avlan\u3002VM1\u548cVM3\u5c5e\u4e8evlan 100\uff1bVM 2\u548cVM 4\u5c5e\u4e8evlan 20\u3002\u4ece\u5916\u90e8\u7684\u7528\u6237\u89c6\u89d2\u6765\u770bvm1\u548cvm3\u540c\u5c5e\u4e00\u4e2avlan\uff1bvm2\u548cvm4\u540c\u5c5e\u4e00\u4e2avlan\u3002\u4f46\u662fvm\u5b9e\u9645\u6240\u5904\u7684host\u5bf9\u5916\u90e8\u7684\u7528\u6237\u6765\u8bf4\u662f\u900f\u660e\u7684\u3002\u4e5f\u5e76\u4e0d\u9700\u8981\u7528\u6237\u53bb\u5173\u5fc3\u3002 \u63a5\u4e0b\u6765\u4ee5VM1\u548cVM3\u4e3a\u4f8b\u8bb2\u89e3\u6d41\u91cf\u8d70\u5411\u3002 1\uff09VM1\u7684vNIC\u4eceA\u53e3\u53d1\u51fa\u7684\u662funtag\u7684\u62a5\u6587 2\uff09\u62a5\u6587\u4eceB\u53e3\u8fdb\u5165qbr-xxx\u4eceC\u53e3\u53d1\u51fa\u6b64\u65f6\u4f9d\u65e7\u662funtag\u7684\u62a5\u6587 3\uff09\u62a5\u6587\u4eceD\u53e3\u8fdb\u5165br-int\u6253\u4e0avlan100 \u7684tag\uff0c\u4eceE\u53e3\u53d1\u51fa\uff1b\u5230F\u53e3\u5c06vlan ID\u8f6c\u4e3avlan10 4\uff09G\u53e3 \u643a\u5e26vlan 10\u7684tag\u5230\u8fbe\u5bf9\u7aef\u7684br-ethx 5\uff09\u5bf9\u7aef\u7684br-ethx\u7684H\u53e3\u63a5\u6536\u5230tag 10 \u7684\u62a5\u6587\u540e\u901a\u8fc7I\u53e3\u53d1\u51fa\u5c06vlan ID\u8f6c\u4e3a10 6\uff09\u62a5\u6587\u643a\u5e26tag\u4e3a10\u7684\u62a5\u6587\u901a\u8fc7J\u53e3\u8fdb\u5165br-int\u3002 7\uff09br-int\u5c06\u62a5\u6587\u4ecek\u53d1\u51fa\uff0c\u540c\u65f6\u5265\u79bbtag 10\u7684\u6807\u7b7e\uff0c\u8fd8\u539f\u6210untag \u62a5\u6587\u53d1\u9001\u7ed9qbr-xxx 8\uff09qbr-xxx\u5c06untag\u7684\u62a5\u6587\u53d1\u9001\u7ed9VM3","title":"OpenStack  \u5206\u4eab\u7bc710 Neutron \u4e0a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#opnestack10-neutron","text":"","title":"OpneStack\u5206\u4eab\u7bc710--Neutron"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#_1","text":"\u4e0e\u5b58\u50a8\u8d44\u6e90\uff0c\u8ba1\u7b97\u8d44\u6e90\u4e00\u6837\u3002\u7f51\u7edc\u4e5f\u662fOpenstack\u6240\u7ba1\u7406\u7684\u6700\u91cd\u8981\u7684\u8d44\u6e90\u4e4b\u4e00\u3002Nova\u5b9e\u73b0\u4e86OpenStack\u865a\u62df\u673a\u4e16\u754c\u7684\u62bd\u8c61\uff0cSwift\u4e0eCinder\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u4e86\u5b89\u8eab\u4e4b\u672c\uff0c\u4f46\u662f\u6ca1\u6709\u7f51\u7edc\uff0c\u4efb\u4f55\u865a\u62df\u673a\u90fd\u5c06\u53ea\u662f\u8fd9\u4e2a\u4e16\u754c\u4e2d\u7684\u5b64\u5c9b\uff0c\u4e0d\u77e5\u9053\u81ea\u5df1\u751f\u5b58\u7684\u4ef7\u503c\u3002 \u6700\u521d\uff0cOpenStack\u4e2d\u7684\u7f51\u7edc\u670d\u52a1\u7531Nova\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u6a21\u5757nova-network\u6765\u63d0\u4f9b\uff0c\u4f46\u662f\u4e3a\u4e86\u63d0\u4f9b\u66f4\u4e3a\u4e30\u5bcc\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u652f\u6301\u66f4\u591a\u7684\u7f51\u7edc\u7c7b\u578b\uff0c\u5177\u6709\u66f4\u9ad8\u6269\u5c55\u6027\uff0cNova-network\u4eceNova\u4e2d\u72ec\u7acb\u51fa\u6765\u8fd9\u5c31\u662f\u73b0\u5728\u7684Neutron\u3002 \u5f53\u524dNeutron\u5df2\u7ecf\u6210\u4e3aOpenStack\u4e09\u5927\u6838\u5fc3(\u5b58\u50a8\uff0c\u8ba1\u7b97\uff0c\u7f51\u7edc)\u4e4b\u4e00\uff0c\u5bf9\u5916\u63d0\u4f9bNaaS\uff08Network as a Service\uff09\u670d\u52a1\u3002Neutron\u7531Nova-network\u53d1\u5c55\u800c\u6765\u3002Neutron\u7684\u53d1\u5c55\u7b80\u53f2\u53ef\u4ee5\u6982\u62ec\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1aNova-network\uff1bQuantum\uff0cNeutron\u3002 Nova-network\u9636\u6bb5\uff0c\u5176\u652f\u6301\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a 1\uff09IP\u5730\u5740\u5206\u914d\uff1a\u5305\u542b\u4e3a\u865a\u62df\u673a\u5206\u914d\u79c1\u6709\uff08\u56fa\u5b9a\uff09\u548c\u6d6e\u52a8IP\u5730\u5740 2\uff09\u7f51\u7edc\u7ba1\u7406\uff1a\u4ec5\u652f\u6301\u4e09\u79cd\u7f51\u7edc\uff0c\u6241\u5e73\u7f51\u7edc\uff0c\u5e26DHCP\u529f\u80fd\u7684\u6241\u5e73\u7f51\u7edc\uff0cVLAN\u7f51\u7edc 3\uff09\u5b89\u5168\u63a7\u5236\uff1a\u4e3b\u8981\u901a\u8fc7ebtables\u548ciptables\u6765\u5b9e\u73b0 \u6b64\u9636\u6bb5\uff0cNova-network\u652f\u6301\u7684\u529f\u80fd\u6bd4\u8f83\u7b80\u5355\uff0c\u5230\u4e86Quantum\u9636\u6bb5\uff0c\u5176\u652f\u6301\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a 1\uff09\u652f\u6301\u591a\u79df\u6237\u9694\u79bb\uff0c\u5e76\u63d0\u4f9b\u9762\u5411\u79df\u6237\u7684API 2\uff09\u63d2\u4ef6\u5f0f\u7ed3\u6784\u652f\u6301\u591a\u79cd\u7f51\u7edc\u540e\u7aef\u6280\u672f\uff0c\u5305\u62ecOpen vSwitch\uff0cCisco\uff0cLinux Bridge\uff0cNicira NVP\uff0cRyu\uff0cNEC\u7b49 3\uff09\u652f\u6301\u4f4d\u4e8e\u4e0d\u540c\u4e8c\u5c42\u7f51\u7edc\u7684IP\u5730\u5740\u91cd\u53e0 4\uff09\u652f\u6301\u57fa\u672c\u7684\u4e09\u5c42\u8f6c\u53d1\u548c\u591a\u8def\u7531\u5668 5\uff09\u652f\u6301\u96a7\u9053\u6280\u672f\uff08Tuneling\uff09 6\uff09\u652f\u6301\u4e09\u5c42\u4ee3\u7406\u548cDHCP\u4ee3\u7406\u7684\u591a\u501f\u70b9\u90e8\u7f72\uff0c\u589e\u5f3a\u53ef\u6269\u5c55\u6027\u548c\u53ef\u9760\u6027 7\uff09\u652f\u6301\u8d1f\u8f7d\u5747\u8861API Quantum\u9636\u6bb5\u6240\u652f\u6301\u7684\u529f\u80fd\u5df2\u7ecf\u521d\u5177\u89c4\u6a21\u3002\u6709\u4e86Quantum\u6253\u4e0b\u7684\u826f\u597d\u57fa\u7840\uff0c\u8fdb\u5165\u7b2c\u4e09\u9636\u6bb5\u4e4b\u540e\uff0cNeutron\u6240\u652f\u6301\u7684\u529f\u80fd\u548c\u5e94\u7528\u573a\u666f\uff0c\u5f97\u5230\u4e86\u66f4\u5927\u89c4\u6a21\u7684\u53d1\u5c55","title":"\u524d\u8a00\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#neutron","text":"\u7c7b\u4f3c\u4e8e\u5404\u4e2a\u8ba1\u7b97\u8282\u70b9\u5728Nova\u4e2d\u88ab\u62bd\u8c61\u6210\u8ba1\u7b97\u8d44\u6e90\u6c60\uff0cOpenStack\u6240\u5728\u6574\u4e2a\u5c4b\u91cc\u7f51\u7edc\u5728Neutron\u4e2d\u4e5f\u88ab\u62bd\u8c61\u6210\u7f51\u7edc\u8d44\u6e90\u6c60\uff0c\u901a\u8fc7\u5bf9\u5c4b\u91cc\u7f51\u7edc\u8d44\u6e90\u7684\u7075\u6d3b\u5212\u5206\u4e0e\u7ba1\u7406\uff0cNeutron\u80fd\u591f\u4e3a\u540c\u4e00\u5c4b\u91cc\u7f51\u8def\u4e0a\u7684\u6bcf\u4e2a\u9879\u76ee\u63d0\u4f9b\u72ec\u7acb\u7684\u865a\u62df\u7f51\u7edc\u73af\u5883\u3002 \u6211\u4eec\u5728OpenStack\u4e91\u73af\u5883\u4e2d\u57fa\u4e8eNeutron\u6784\u5efa\u81ea\u5df1\u79c1\u6709\u7f51\u7edc\u7684\u8fc7\u7a0b\uff0c\u5c31\u662f\u521b\u5efa\u5404\u79cdNeutron\u8d44\u6e90\u5bf9\u8c61\u5e76\u8fdb\u884c\u5bf9\u63a5\u7684\u8fc7\u7a0b\uff0c\u5b8c\u5168\u7c7b\u4f3c\u4e8e\u4f7f\u7528\u771f\u5b9e\u7269\u7406\u7f51\u7edc\u8bbe\u5907\u6765\u89c4\u5212\u81ea\u5df1\u7684\u7f51\u7edc\u73af\u5883\u3002 1\uff09\u9996\u5148\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u7531\u7ba1\u7406\u5458\u521b\u5efa\u7684\u5916\u90e8\u7f51\u7edc\u5bf9\u8c61\u6765\u8d1f\u8d23OpenStack\u4e0eInternet\u7684\u8fde\u63a5\uff0c\u7136\u540e\u9879\u76ee\u53ef\u4ee5\u521b\u5efa\u81ea\u5df1\u7684\u79c1\u6709\u5185\u90e8\u7f51\u7edc\u5e76\u5728\u5176\u4e2d\u521b\u5efa\u865a\u62df\u673a\uff0c\u4e3a\u4e86\u4f7f\u5185\u90e8\u7f51\u7edc\u4e2d\u7684\u865a\u62df\u673a\u80fd\u591f\u8bbf\u95ee\u4e92\u8054\u7f51\u5fc5\u987b\u521b\u5efa\u4e00\u4e2a\u8def\u7531\u5668\u5c06\u5185\u90e8\u7f51\u7edc\u8fde\u63a5\u5230\u5916\u90e8\u7f51\u7edc\u3002 \u200b \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2dNeutron\u63d0\u4f9b\u4e86\u4e00\u4e2aL3\uff08\u4e09\u5c42\uff09\u7684\u62bd\u8c61router\u548c\u4e00\u4e2aL2\uff08\u4e8c\u5c42\uff09\u7684\u62bd\u8c61network\uff0crouter\u5bf9\u5e94\u7269\u7406\u7f51\u7edc\u73af\u5883\u4e2d\u7684\u8def\u7531\u5668\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u8def\u7531\uff0cNAT\u7b49\u670d\u52a1\uff0cnetwork\u5219\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u771f\u5b9e\u7269\u7406\u7f51\u7edc\u4e2d\u7684\u4e8c\u5c42\u5c40\u57df\u7f51\uff08LAN\uff09\uff0c\u4ece\u9879\u76ee\u7684\u89d2\u5ea6\u770b\uff0c\u5b83\u4e3a\u9879\u76ee\u79c1\u6709\u3002 \u8fd9\u91cc\u7684subnet\u4eceNeutron\u7684\u5b9e\u73b0\u4e0a\u6765\u770b\u5e76\u4e0d\u80fd\u5b8c\u5168\u7406\u89e3\u4e3a\u7269\u7406\u7f51\u7edc\u4e2d\u5b50\u7f51\u7684\u6982\u5ff5\uff0csubnet\u5c5e\u4e8e\u7f51\u7edc\u4e2d3\u5c42\u6982\u5ff5\uff0c\u6307\u5b9a\u4e00\u6bb5IPv4\u6216IPv6\u5730\u5740\u5e76\u63cf\u8ff0\u5176\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5b83\u9644\u52a0\u5728\u4e00\u4e2a\u4e8c\u5c42network\u4e0a\u6307\u5b9a\u5c5e\u4e8e\u8fd9\u4e2anetwork\u7684\u865a\u62df\u673a\u53ef\u4f7f\u7528\u7684IP\u5730\u5740\u8303\u56f4\u3002\u4e00\u4e2anetwork\u53ef\u4ee5\u540c\u65f6\u62e5\u6709\u4e00\u4e2aIPv4 subnet\u548c\u4e00\u4e2aIPv6 subnet\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5373\u4f7f\u6211\u4eec\u914d\u7f6e\u591a\u4e2asubnet\uff0c\u4e5f\u5e76\u80fd\u591f\u5de5\u4f5c\u3002","title":"Neutron\u7684\u4f53\u7cfb\u673a\u6784\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#linux","text":"Neutron\u6700\u4e3a\u6838\u5fc3\u7684\u5de5\u4f5c\u5ba4\u5bf9\u4e8c\u5c42\u7269\u7406\u7f51\u7edcnetwork\u7684\u62bd\u8c61\u4e0e\u7ba1\u7406\u3002\u5728\u4e00\u4e2a\u4f20\u7edf\u7684\u7269\u7406\u7f51\u7edc\u91cc\uff0c\u53ef\u80fd\u6709\u4e00\u7ec4\u7269\u7406\u7684Server\uff0c\u4e0a\u9762\u5206\u522b\u8fd0\u884c\u6709\u5404\u79cd\u5404\u6837\u7684\u5e94\u7528\uff0c\u6bd4\u5982web\u670d\u52a1\uff0c\u6570\u636e\u5e93\u670d\u52a1\u7b49\u3002\u4e3a\u4e86\u5f7c\u6b64\u4e4b\u95f4\u80fd\u591f\u76f8\u4e92\u901a\u4fe1\uff0c\u6bcf\u4e2a\u7269\u7406Server\u90fd\u7528\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u7269\u7406\u7f51\u5361\uff08NIC\uff09\uff0c\u8fd9\u4e9bNIC\u88ab\u8fde\u63a5\u5728\u7269\u7406\u4ea4\u6362\u8bbe\u5907\u4e0a\uff0c\u6bd4\u5982\u4ea4\u6362\u673a\uff08Switch\uff09 \u865a\u62df\u5316\u6280\u672f\u88ab\u5f15\u5165\u4e4b\u540e\uff0c\u4e0a\u8ff0\u7684\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e94\u7528\u53ef\u4ee5\u4ee5\u865a\u62df\u673a\u7684\u5f62\u5f0f\u5206\u4eab\u540c\u4e00\u7269\u7406Server\uff0c\u865a\u62df\u673a\u7684\u751f\u6210\u4e0e\u7ba1\u7406\u7531Hypervisor\uff08\u6216VMM\uff09\u6765\u5b8c\u6210\u3002 \u865a\u62df\u673a\u7684\u7f51\u7edc\u529f\u80fd\u7531\u865a\u62df\u7f51\u5361\uff08vNIC\uff09\u63d0\u4f9b\uff0cHypervisor\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u865a\u62df\u673a\u521b\u5efa\u4e00\u4e2a\u6216\u8005\u591a\u4e2avNIC\uff0c\u7ad9\u5728\u865a\u62df\u673a\u7684\u89d2\u5ea6\uff0c\u8fd9\u4e9bvNIC\u7b49\u540c\u4e8e\u7269\u7406\u7684\u7f51\u5361\u3002\u4e3a\u4e86\u5b9e\u73b0\u4e0e\u4f20\u7edf\u7269\u7406\u7f51\u7edc\u7b49\u540c\u7684\u7f51\u7edc\u7ed3\u6784\uff0c\u4e0eNIC\u4e00\u6837Switch\u4e5f\u88ab\u865a\u62df\u5316\u4e3a\u865a\u62df\u4ea4\u6362\u673a\uff08vSwitch\uff09\uff0c\u5404\u4e2avNIC\u8fde\u63a5\u5728vSwitch\u7684\u7aef\u53e3\u4e0a\uff0c\u6700\u540e\u8fd9\u4e9bvSwitch\u901a\u8fc7\u7269\u7406Server\u4e0a\u7684\u7269\u7406\u7f51\u5361\uff08NIC\uff09\u8bbf\u95ee\u5916\u90e8\u7684\u7269\u7406\u7f51\u7edc\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u865a\u62df\u7684\u4e8c\u5c42\u7f51\u7edc\u7ed3\u6784\u6765\u8bf4\uff0c\u4e3b\u8981\u662f\u5b8c\u6210\u4e24\u79cd\u7f51\u7edc\u8bbe\u5907\u7684\u865a\u62df\u5316\uff1aNIC\u786c\u4ef6\u4e0e\u4ea4\u6362\u8bbe\u5907\u3002Linux\u73af\u5883\u4e0b\u7f51\u7edc\u8bbe\u5907\u8bbe\u5907\u7684\u865a\u62df\u5316\u4e3b\u8981\u7531\u4ee5\u4e0b\u51e0\u79cd\u5f62\u5f0f\u3002Neutron\u4e5f\u662f\u57fa\u4e8e\u8fd9\u4e9b\u6280\u672f\u6765\u5b8c\u573a\u9879\u76ee\u79c1\u6709\u7f51\u7edcnetwork\u7684\u6784\u5efa\u3002 Neutron\u5728\u6784\u5efa\u7f51\u7edc\u670d\u52a1\u65f6\uff0c\u5229\u7528\u4e86\u5f88\u591aLinux\u865a\u62df\u7f51\u7edc\u7684\u529f\u80fd\u3002 1\uff09TAP/TUN/VETH TAP/TUN\u662flinux\u7684\u5185\u6838\u5b9e\u73b0\u7684\u4e00\u5bf9\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0cTAP\u662f\u5de5\u4f5c\u5728\u4e8c\u5c42\uff0cTUN\u5de5\u4f5c\u5728\u4e09\u5c42\uff0cLinux\u5185\u6838\u901a\u8fc7TAP/TUN\u8bbe\u5907\u5411\u7ed1\u5b9a\u8be5\u8bbe\u5907\u7684\u7528\u6237\u7a7a\u95f4\u7a0b\u5e8f\u53d1\u9001\u6570\u636e\uff0c\u53cd\u4e4b\uff0c\u7528\u6237\u7a7a\u95f4\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u50cf\u64cd\u4f5c\u786c\u4ef6\u7f51\u7edc\u8bbe\u5907\u90a3\u6837\u901a\u8fc7TAP/TUN\u8bbe\u5907\u53d1\u9001\u6570\u636e\u3002 \uff08\u6ce8\uff1a\u5728Linux\u4e2d\u7684\u8bbe\u5907\u5373Device\u5e76\u4e0d\u662f\u751f\u6d3b\u4e2d\u7684\u8bbe\u5907\uff0c\u5728\u8fd9\u7684\u91cc\u7684\u8bbe\u5907\u901a\u5e38\u6307\u7684\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u6570\u636e\u7ed3\u6784\uff0c\u5185\u6838\u6a21\u5757\u6216\u8005\u8bbe\u5907\u9a71\u52a8\u8fd9\u6837\u7684\u6982\u5ff5\uff09 struct tun_struct{ char name(8) unsigned long flags; struct fasync_struct *fasync; wait_queue_head_t read_wait; struct net_device dev; struct sk_buff_head txq; struct net_device_stats; } \u57fa\u4e8eTAP\u9a71\u52a8\uff0c\u80fd\u591f\u5b9e\u73b0\u865a\u62df\u7f51\u5361\u7684\u529f\u80fd\uff0c\u865a\u62df\u673a\u7684\u6bcf\u4e2avNIC\u90fd\u4f1a\u4e0eHypervisor\u4e2d\u7684\u4e00\u4e2aTAP\u8bbe\u5907\u76f8\u8fde\u3002\u5f53\u4e00\u4e2aTAP\u8bbe\u5907\u88ab\u521b\u5efa\u65f6\uff0c\u5728Linux\u6d89\u7b14\u6587\u4ef6\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94\u7684\u5b57\u7b26\u8bbe\u5907\u6587\u4ef6\uff0c\u7528\u6237\u7a0b\u5e8f\u53ef\u4ee5\u5411\u6253\u5f00\u666e\u901a\u6587\u4ef6\u4e00\u6837\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u3002 \u5f53\u8fd9\u4e2aTAP\u8bbe\u5907\u6587\u4ef6\u6267\u884cwirte()\u64cd\u4f5c\u65f6\uff0c\u5bf9\u4e8eLinux\u7f51\u7edc\u5b50\u7cfb\u7edf\u6765\u8bf4\uff0c\u5c31\u76f8\u5f53\u4e8eTAP\u8bbe\u5907\u6536\u5230\u4e86\u6570\u636e\uff0c\u5e76\u8bf7\u6c42\u5185\u6838\u63a5\u53d7\u5b83\uff0cLinux\u5185\u6838\u6536\u5230\u6b64\u6570\u636e\u540e\u5c06\u6839\u636e\u7f51\u7edc\u914d\u7f6e\u8fdb\u884c\u540e\u7eed\u5904\u7406\uff0c\u5904\u7406\u8fc7\u7a0b\u7c7b\u4f3c\u4e8e\u666e\u901a\u7684\u7269\u7406\u7f51\u5361\u4ece\u8b66\u5916\u754c\u63a5\u53d7\u6570\u636e\u3002\u5f53\u7528\u6237\u7a0b\u5e8f\u6267\u884cread()\u8bf7\u6c42\u65f6\uff0c\u76f8\u5f53\u4e8e\u5411\u5185\u6838\u67e5\u8be2TAP\u8bbe\u5907\u4e0a\u662f\u5426\u6709\u6570\u636e\u9700\u8981\u88ab\u53d1\u9001\uff0c\u6709\u7684\u8bdd\u53d6\u51fa\u5230\u7528\u6237\u7a0b\u5e8f\u91cc\uff0c\u4ece\u800c\u5b8c\u6210TAP\u8bbe\u5907\u53d1\u9001\u6570\u636e\u7684\u529f\u80fd\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u91cc\uff0cTAP\u8bbe\u5907\u53ef\u4ee5\u88ab\u5f53\u4f5c\u662f\u672c\u673a\u7684\u4e00\u4e2a\u7f51\u5361\uff0c\u800c\u64cd\u4f5cTAP\u8bbe\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\u76f8\u5f53\u4e8e\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\uff0c\u4ed6\u901a\u8fc7read/write\u7cfb\u7edf\u8c03\u7528\uff0c\u548c\u672c\u673a\u8fdb\u884c\u7f51\u7edc\u901a\u4fe1\uff0cSubnet\u6570\u636e\u7f51\u7edc\u4e2d\u76843\u66fe\u6982\u5ff5\uff0c\u6307\u5b9a\u4e00\u6bb5IPv4\u6216\u8005Ipv6\u5730\u5740\u5e76\u63cf\u8ff0\u76f8\u5173\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u4ed6\u4eec\u9644\u52a0\u5728\u4e00\u4e2a\u4e8c\u5c42network\u4e0a\uff0c\u5e76\u6307\u660e\u6570\u636e\u8fd9\u4e2anetwork\u7684\u865a\u62df\u673a\u53ef\u4f7f\u7528\u7684IP\u5730\u5740\u8303\u56f4\u3002 TAP\u4ece\u529f\u80fd\u5b9a\u4f4d\u4e0a\u6765\u8bb2\uff0c\u4f4d\u4e8e\u6570\u636e\u94fe\u8def\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\u7684\u4e3b\u8981\u534f\u8bae\u6709\uff1a \u200b 1\uff09\u70b9\u5bf9\u70b9\u534f\u8bae\uff08point-to-point protocol\uff09 \u200b 2\uff09\u4ee5\u592a\u7f51\uff08Ethernet\uff09 \u200b 3\uff09\u9ad8\u7ea7\u6570\u636e\u94fe\u8def\u534f\u8bae\uff08Hight-Level Data Link Protocol\uff09 \u200b 4\uff09\u5e27\u4e2d\u7ee7\uff08Frame Relay\uff09 \u200b 5\uff09\u5f02\u6b65\u4f20\u8f93\u6a21\u5f0f\uff08Asynchronous Transfer Mode\uff09 \u4f46\u662fTAP\u53ea\u662f\u4e0e\u5176\u4e2d\u4e00\u79cd\u534f\u8bae\u4ee5\u592a\u7f51\uff08Ethernet\uff09\u534f\u8bae\u5bf9\u5e94\u3002\u6240\u4ee5\uff0cTAP\u6709\u65f6\u4e5f\u79f0\u4e3a\u201c\u865a\u62df\u4ee5\u592a\u8bbe\u5907\u201d 2\uff09namespace namespace\u662fLinux\u865a\u62df\u7f51\u7edc\u7684\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u3002\u4f20\u7edf\u7684Linux\u7684\u8bb8\u591a\u8d44\u6e90\u65f6\u5168\u5c40\u7684\uff0c\u6bd4\u5982\u8fdb\u7a0bID\u8d44\u6e90\u3002\u800c\u90a3\u4e48space\u7684\u76ee\u7684\u9996\u5148\u5c31\u662f\u5c06\u8fd9\u4e9b\u8d44\u6e90\u505a\u9694\u79bb\u3002Linux\u53ef\u4ee5\u5728\u4e00\u4e2aHost\u5185\u521b\u5efa\u8bb8\u591anamespace,\u4e8e\u662f\u90a3\u4e9b\u539f\u672c\u662f\u5168\u5c40\u7684\u8d44\u6e90\uff0c\u5c31\u53d8\u6210\u4e86namespace\u8303\u56f4\u5185\u7684\u5168\u5c40\u8d44\u6e90\u3002\u800c\u4e0d\u540c\u7684namespace\u7684\u8d44\u6e90\u4e92\u76f8\u4e0d\u53ef\u89c1\uff0c\u5f7c\u6b64\u900f\u660e \u5355\u7eaf\u4ece\u7f51\u7edc\u89c6\u89d2\u770b\uff0c\u4e00\u4e2anamespace\u63d0\u4f9b\u4e86\u4e00\u4efd\u72ec\u7acb\u7684\u7f51\u7edc\u534f\u8bae\u6808\uff08\u7f51\u7edc\u8bbe\u5907\u63a5\u53e3\uff0cIPv4\uff0cIPv6\uff0cIP\u8def\u7531\uff0c\u9632\u706b\u5899\u89c4\u5219\uff0csockets\u7b49\uff09\u4e00\u4e2a\u8bbe\u5907\uff08linuxDevice\uff09\u53ea\u80fd\u4f4d\u4e8e\u4e00\u4e2a\u90a3\u4e48space\u4e2d\uff0c\u4e0d\u540c\u90a3\u4e48space\u4e2d\u7684\u8bbe\u5907\u53ef\u4ee5\u901a\u8fc7veth pair\u8fdb\u884c\u6865\u63a5\u3002 3\uff09veth pair veth pair\u4e0d\u662f\u4e00\u4e2a\u8bbe\u5907\u800c\u662f\u4e00\u5bf9\u8bbe\u5907\uff0c\u7528\u6765\u8fde\u63a5\u4e24\u4e2a\u865a\u62df\u4ee5\u592a\u7f51\u7aef\u53e3\u3002\u64cd\u4f5cveth pair\uff0c\u9700\u8981\u8ddfnamespace\u4e00\u8d77\u914d\u5408\u3002 4\uff09bridge\uff1a\u7f51\u6865\uff0cLinux\u4e2d\u7528\u4e8e\u6807\u8bc6\u4e00\u4e2a\u80fd\u8fde\u63a5\u4e0d\u540c\u7f51\u7edc\u8bbe\u5907\u7684\u865a\u62df\u8bbe\u5907\uff0cLinux\u4e2d\u4f20\u7edf\u5b9e\u73b0\u7684\u7f51\u6865\u7c7b\u4f3c\u4e8e\u4e00\u4e2ahub\u8bbe\u5907\uff0c\u800covs\u7ba1\u7406\u7684\u7f51\u6865\u4e00\u822c\u7c7b\u4f3c\u4e8e\u4ea4\u6362\u673a\u3002 linux bridge\u662f\u5de5\u4f5c\u5728L2\uff08\u4e8c\u5c42\uff09\u7684\u865a\u62df\u7f51\u7edc\u8bbe\u5907\uff0c\u529f\u80fd\u7c7b\u4f3c\u4e8e\u7269\u7406\u4ea4\u6362\u673a\u3002Bridge\u53ef\u4ee5\u7ed1\u5b9a\u5176\u4ed6Linux\u8bbe\u5907\u4f5c\u4e3a\u4ece\u8bbe\u5907\uff0c\u5e76\u5c06\u8fd9\u4e9b\u8bbe\u5907\u4ece\u8bbe\u5907\u865a\u62df\u5316\u4e3a\u7aef\u53e3\uff0c\u5f53\u4e00\u4e2a\u8bbe\u5907\u88ab\u7ed1\u5b9a\u5230Bridge\u4e0a\u65f6\uff0c\u5c31\u76f8\u5f53\u4e8e\u5728\u771f\u5b9e\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u63d2\u5165\u4e86\u4e00\u4e2a\u8fde\u63a5\u6709\u7ec8\u7aef\u7684\u7f51\u7ebf\u3002 Bridge\u8bbe\u5907br0\u7ed1\u5b9a\u4e86\u5b9e\u9645\u8bbe\u5907eth0\u4e0e\u865a\u62df\u673a\u8bbe\u5907tap0/tap1,\u6b64\u65f6\uff0c\u5bf9\u4e8ehypervisor\u7684\u7f51\u7edc\u534f\u8bae\u6808\u7684\u4e0a\u5c42\u6765\u8bf4\uff0c\u53ea\u770b\u5230br0\uff0c\u5e76\u4e0d\u4f1a\u5173\u5fc3\u6865\u63a5\u7ec6\u8282\u3002\u5f53\u4ece\u8fd9\u4e9b\u8bbe\u5907\u6536\u5230\u6570\u636e\u5305\u65f6\uff0c\u4f1a\u5c06\u5176\u63d0\u4ea4\u7ed9br0\u51b3\u5b9a\u6570\u636e\u5305\u7684\u53bb\u5411\u3002br0\u4f1a\u6839\u636eMAC\u5730\u5740\u4e0e\u7aef\u53e3\u7684\u6620\u5c04\u5173\u7cfb\u8fdb\u884c\u8f6c\u53d1\uff08MAC\u5730\u5740\u8868\uff09 \u56e0\u4e3aBridge\u5de5\u4f5c\u5728\u7b2c\u4e8c\u5c42\uff0c\u6240\u4ee5\u7ed1\u5b9a\u5728br0\u4e0a\u7684\u8bbe\u5907eth0,tap0,tap1\u5747\u4e0d\u9700\u8981\u518d\u8bbe\u7f6eIP\u5730\u5740\uff0c\u5bf9\u4e0a\u5c42\u7684\u8def\u7531\u5668\u6765\u8bf4\u4ed6\u4eec\u90fd\u4f4d\u4e8e\u540c\u4e00\u4e2a\u5b50\u7f51\uff0c\u56e0\u6b64\u53ea\u9700\u4e3abr0\u8bbe\u7f6eIP\u3002 5\uff09br-int\uff1abridge-intergration\uff0c\u7efc\u5408/\u96c6\u6210\u7f51\u6865\u3002\u5e38\u7528\u8bed\u8868\u793a\u5b9e\u73b0\u4e3b\u8981\u5185\u90e8\u7f51\u7edc\u529f\u80fd\u7684\u7f51\u6865\u3002\u5728\u903b\u8f91\u6982\u5ff5\u4e0a\uff0c\u4ed6\u662f\u8de8\u8d8a\u6574\u4e2aOpenStack\u7684\u5185\u90e8\u5927\u7f51\u6865\uff1a\u6240\u6709\u7684Port\uff08\u865a\u62df\u673a\uff0c\u865a\u62df\u8def\u7531\u5668\uff0cDHCP\u7b49\u7b49\uff09\u90fd\u76f4\u63a5\u8fde\u63a5\u5728br-int\u4e0a\uff0c\u901a\u8fc7\u4e0d\u540c\u7684VLAN tag\u6765\u533a\u5206\u4e0d\u540c\u7684Subnet\uff0c\u505a\u5230\u4e86\u7f51\u7edc\u4e4b\u95f4\u7684\u9694\u79bb\u3002 \u6ce8\uff1a\u5c06\u5206\u5e03\u5728\u5404\u4e2a\u7269\u7406\u673a\u4e0a\u7684br-int\u7f51\u6865\u8054\u901a\uff0c\u5b9e\u73b0\u903b\u8f91\u4e0a\u7edf\u4e00\u7684\u96c6\u6210\u7f51\u6865\uff0cNeutron\u53ef\u4ee5\u91c7\u7528\u4e09\u79cd\u65b9\u6848\u6765\u5b8c\u6210\u8fd9\u4e00\u4efb\u52a1\uff1aVLAN\uff0cGRE\u548cVXLAN\uff0c\u5206\u522b\u5bf9\u7528\u4e09\u79cdTenant Network\u7c7b\u578b\u3002\u6bcf\u4e00\u4e2a\u7528\u6237\u521b\u5efa\u7684Tenant Network\u6839\u636e\u5176\u7c7b\u578b\u51b3\u5b9a\u5185\u90e8\u7f51\u7edc\u91c7\u7528\u4ec0\u4e48\u6837\u7684\u65b9\u5f0f\u6765\u62ec\u7ea6\u7269\u7406\u673a\u7684\u754c\u9650\u3002 6\uff09br-ex\uff1abridge-external\uff0c\u5916\u90e8\u7f51\u6865\uff0c\u901a\u5e38\u8868\u793a\u8d1f\u8d23\u8ddf\u5916\u90e8\u7f51\u7edc\u901a\u4fe1\u7684\u7f51\u6865\u3002 7\uff09GRE\uff1aGeneral Routing Encapsulation\uff0c\u4e00\u79cd\u901a\u8fc7\u5c01\u88c5\u6765\u5b9e\u73b0\u7684\u96a7\u9053\u7684\u65b9\u5f0f\u3002\u5728opensatck\u4e2d\u4e00\u822c\u662f\u57fa\u4e8eL3\u7684gre\u3002\u5373originna pkt/GRE/IP/ethernet 8\uff09iptables\uff1aLinux\u4e0a\u5e38\u89c1\u7684\u5b9e\u73b0\u5b89\u5168\u7b56\u7565\u7684\u9632\u706b\u5899\u8f6f\u4ef6 9\uff09VxLAN\uff1a\u5229\u7528UDP\u534f\u8bae\u4f5c\u4e3a\u5e95\u5c42\u4f20\u8f93\u534f\u8bae\u7684OverLay\u5b9e\u73b0\u3002\u4e00\u822c\u8ba4\u4e3a\u4f5c\u4e3aVLAN\u6280\u672f\u7684\u5ef6\u4f38\u6216\u8005\u66ff\u4ee3\u6280\u672f","title":"Linux\u865a\u62df\u7f51\u7edc"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#neutron_1","text":"","title":"Neutron\u7684\u4e09\u7c7b\u8282\u70b9"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#_2","text":"\u8ba1\u7b97\u8282\u70b9\uff08Compute Node\uff09\u6700\u76f4\u89c2\uff0c\u8ba1\u7b97\u662fOpenStack\u7684\u4e09\u5927\u7ec4\u4ef6\u4e4b\u4e00\uff08\u8ba1\u7b97\uff0c\u5b58\u50a8\uff0c\u7f51\u7edc\uff09\u3002\u8ba1\u7b97\u4e3b\u8981\u6307\u5c06\u670d\u52a1\u5668\u865a\u62df\u5316\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u521b\u5efaVM\u3002\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u5373\u4e00\u4e2aHost\u4e0a\u6709\u591a\u4e2aVM\u5b58\u5728\u3002 \u5728\u8ba1\u7b97\u8282\u70b9\u91cc\u9762\u8fd8\u6709Bridge\u3002\u8fd9\u91cc\u7684Bridge\u6307\u7684\u662f\u865a\u62df\u7684Bridge\u3002\u4e0d\u540cHost\u7684VM\u4e4b\u95f4\u7684\u4e8c\u5c42\u901a\u4fe1\uff0c\u901a\u8fc7\u8ba1\u7b97\u8282\u70b9\u7684Bridge\u5c31\u53ef\u4ee5\u5b8c\u6210","title":"\u8ba1\u7b97\u8282\u70b9"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#_3","text":"\u5728Host\u5185\u90e8\u7684VM\u60f3\u8981\u8bbf\u95eeInternet\u5c31\u5fc5\u987b\u901a\u8fc7Router\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\uff0c\u518d\u4ece\u7f51\u5173\u4e0eInternet\u5b8c\u6210\u901a\u4fe1\u3002Router\u4e5f\u662fLinux\u865a\u62df\u51fa\u6765\u7684\uff0cRouter\u6240\u5728\u7684\u8282\u70b9\u5c31\u662f\u7f51\u7edc\u8282\u70b9\u3002\u7f51\u7edc\u8282\u70b9\u4e0a\u8fd8\u90e8\u7f72\u7740DHCP\u7b49\u7f51\u7edc\u670d\u52a1\u3002\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u901a\u5e38\u6307\u7684\u662f\u4e00\u4e2aHost\u3002\u4e00\u4e2a\u7f51\u7edc\u51e0\u70b9\u901a\u5e38\u610f\u5473\u7740\u4e00\u4e2aHost\u6216\u8005\u591a\u4e2aHost\u56e0\u4e3a\u4e0d\u662f\u6240\u6709\u7684\u7f51\u7edc\u670d\u52a1\u90fd\u5fc5\u987b\u90e8\u7f72\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u901a\u5e38\u6765\u8bf4\u7f51\u7edc\u670d\u52a1\u4f1a\u5206\u522b\u90e8\u7f72\u5728\u591a\u4e2aHost\u4e0a\u3002","title":"\u7f51\u7edc\u8282\u70b9"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#_4","text":"Neutron\u4e00\u65b9\u9762\u5728\u5404\u4e2a\u8ba1\u7b97\u8282\u70b9\u548c\u7f51\u7edc\u8282\u70b9\u4e0a\u8fd0\u884c\u5404\u79cdAgent\uff0c\u53e6\u4e00\u65b9\u9762Neutron\u7684\u5404\u79cd\u670d\u52a1\u8fd0\u884c\u5728\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u63a7\u5236\u8282\u70b9\u4e0a\u3002","title":"\u63a7\u5236\u8282\u70b9"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#neutron_2","text":"\u5916\u90e8\u7f51\u7edc\uff08Provider network\uff09\uff1a\u63d0\u4f9b\u4e0a\u7f51\u670d\u52a1\uff0c\u5916\u754c\u767b\u5f55openstack\u3002 \u7ba1\u7406\u7f51\u7edc(Management network) : \u63d0\u4f9bopenstack\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5185\u90e8\u901a\u4fe1\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u53ea\u6709\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u53ef\u8fbe\u3002 \u6570\u636e\u7f51\u7edc(Data Network) : \u63d0\u4f9b\u4e91\u5185\u90e8VM\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u53d6\u51b3\u5343\u4f7f\u7528\u7684\u7f51\u7edc\u63d2\u4ef6\u7a0b\u5e8f\u3002 API\u7f51\u7edc(API Network) : \u4e3a\u79df\u6237\u63d0\u4f9b\u5305\u62ecNetwork API\u5728\u5185\u7684\u6240\u6709openstack API\u3002 \u8be5\u7f51\u7edc\u5185\u7684IP\u5730\u5740\u5141\u8bb8Internet\u4e0a\u7684\u4efb\u4f55\u4eba\u53ef\u8fbe\u3002 Provider Network\u7f51\u7edc\uff1a\u7531\u7ba1\u7406\u5458\u521b\u5efa\u3002\u662f\u5df2\u7ecf\u5b58\u50a8\u5728\u7684\u7269\u7406\u7f51\u7edc\u5728Neutron\u4e2d\u7684\u6620\u5c04\u3002\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662f\u5c06\u516c\u7f51\u4f5c\u4e3aProviderNetwork (\u901a\u5e38\u662fbr-ex\u7684\u6620\u5c04\uff09\u6765\u521b\u5efaExternalNetwork\u3002ExternalNetwork \u662f\u4e00\u79cdProvdierNetwork, \u5178\u578b\u5730\u5b83\u662f\u7528\u4e8e\u5411\u865a\u62df\u673a\u63d0\u4f9b\u56e0\u7279\u7f51\u8bbf\u95f4\u3002\u5b83\u7684type\u667a\u80fd\u662fflat\u548cvlan\u7c7b\u578b\u3002\u5e38\u7528\u7684\u7f51\u7edc\u662fFlat\u548cvlan,vxlan\u57fa\u672c\u4f7f\u7528\u4e0d\u4e0a\u3002 Tenant\u7f51\u7edc\uff1a\u7528\u6237\u81ea\u5df1\u521b\u5efa\u3002 \u53ef\u4ee5\u8bbe\u7f6e\u7684\u9009\u9879\u5c31\u662f\uff1aFlat, vlan\u548cvxlan local\u4e3b\u8981\u662f\u6d4b\u8bd5\u4f7f\u7528\u3002","title":"Neutron\u7684\u7f51\u7edc"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#_5","text":"\u4e00\u4e2a\u57fa\u4e8eopenstack\u7684\u4e91\u7cfb\u7edf\u4f1a\u6709\u5f88\u591a\u8ba1\u7b97\u8282\u70b9\uff0c\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\u5c31\u662f\u4e00\u4e2aHost\u3002\u8ba1\u7b97\u8282\u70b9\u91cc\u5b58\u5728\u591a\u4e2aVM\uff0c\u8fd9\u4e9b\u8ba1\u7b97\u8282\u70b9\u4e5f\u662fOpenStack\u5b58\u5728\u7684\u57fa\u7840\u3002\u4f46\u662fVM\u4e0d\u80fd\u50cf\u4e00\u4e2a\u4e2a\u5b64\u5c9b\u4e00\u6837\u5b58\u5728\uff0cVM\u4e4b\u95f4\u9700\u8981\u901a\u4fe1\uff0c\u4e14\u9700\u8981\u80fd\u591f\u5b9e\u73b0\u8de8\u8d8aHost\u5b9e\u73b0Vm\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u901a\u4fe1\u5206\u4e3a\u4e8c\u5c42\u901a\u4fe1\u548c\u4e09\u5c42\u901a\u4fe1\uff0c\u4e8c\u5c42\u901a\u4fe1\u4f7f\u7528Bridge\uff08\u4ea4\u6362\u673a\uff09\u4e09\u5c42\u9700\u8981Router\u3002Router\u5728\u7f51\u7edc\u8282\u70b9\u4e0a\u3002 \u5728\u4e0a\u56fe\u4e2d\u4e24\u4e2a\u4e3b\u673a\u4f4d\u4e8e\u4e00\u4e2a\u673a\u67b6\u5185\uff0c\u4e24\u4e2a\u4e3b\u673a\u5206\u522b\u865a\u62df\u51fa\u591a\u4e2aVM\u3002\u6bcf\u4e2aHost\u5185\u8c03\u51fa\u82e5\u5e72\u4e2a\u865a\u62df\u673a\u7ec4\u6210\u4e00\u4e2a\u4e8c\u5c42\u7f51\u7edc\uff08\u5728\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u6210\u4e3a\u4e00\u4e2aVLAN\uff09\u3002\u8fd9\u6837\u7684\u4e00\u4e2a\u573a\u666f\u9700\u8981\u7684\u7269\u7406\u8bbe\u5907\u6709\uff1a\u673a\u67b6\uff0c\u4e3b\u673a\uff0cToR\u4ea4\u6362\u673a\u3002 \u56fe\u4e2dSecurity Layer\u4e00\u822c\u7531\u5404\u79cd\u865a\u62df\u7f51\u5143\u7ec4\u6210\u3002Neutron\u4e0d\u80fd\u7ba1\u7406\u7269\u7406\u7f51\u7edc\u3002\u5728\u8ba1\u7b97\u8282\u70b9\u7684\u6a21\u578b\u4e2dNeutron\u7ba1\u7406\u7684\u662f\u865a\u62df\u7f51\u5143\uff0c\u5373Security Layer\uff0cIntegration Layer\u8fd9\u4e24\u5c42\u7f51\u5143\u3002\u8fd9\u4e24\u5c42\u5b9e\u73b0\u591a\u79cd\u4e8c\u5c42\u7f51\u7edc\u3002 Neutron\u5f53\u524d\u652f\u6301\u7684\u4e8c\u5c42\u7f51\u7edc\u7c7b\u578b\u6709Loca\uff0cFlat\uff0cVLAN\uff0cGRE\uff0cVXLAN\uff0cGeneve","title":"\u8ba1\u7b97\u8282\u70b9\u7684\u5b9e\u73b0\u6a21\u578b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#vlan","text":"","title":"VLAN\u5b9e\u73b0\u6a21\u578b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#qbrbr-int","text":"\u5728\u4e0a\u56fe\u4e2d\u7684qbr-xxx/qbr-yyy\u4e00\u822c\u7b80\u79f0\u4e3aqbr\u3002qbr\u662fQuantum Bridge\u7684\u7f29\u5199\uff0c\u800cOpenStack\u7f51\u7edc\u7ec4\u5efa\u7684\u524d\u4e00\u4e2a\u540d\u79f0\u5c31\u662fQuantum\u3002 br-int\uff1a\u8868\u8fbe\u7684\u662fIntergration Bridge qbr\u4e0ebr-int\u90fd\u662fBridge\uff08\u6b64\u524d\u8bf4\u8fc7Linux\u4e2d\u7684Bridge\u6307\u7684\u662f\u4ea4\u6362\u673a\uff09\u3002qbr\u5b9e\u73b0\u7684\u8f7d\u4f53\u662fLinux Bridge\u3002Br-int\u5b9e\u73b0\u7684\u8f7d\u4f53\u662fOVS\uff08Open vSwitch\uff09\u3002 qbr\u4e0ebr-int\u4e4b\u95f4\u901a\u8fc7veth pair\u76f8\u8fde\u3002VM\u4e0eqbr\u4e4b\u95f4\uff0c\u901a\u8fc7tap\u76f8\u8fde\u63a5\u3002 qbr\u4e0ebr-int\u90fd\u662fbridge\u7684\u4e00\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u5462\u4e48\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u5c42bridge\u5462\uff1f \u200b 1\uff09\u5982\u679c\u53ea\u6709\u4e00\u4e2aqbr\uff0cqbr\u4ec5\u4ec5\u662f\u4e00\u4e2aLinux Bridge\uff0c\u4ed6\u7684\u529f\u80fd\u4e0d\u80fd\u6ee1\u8db3\u5b9e\u9645\u573a\u666f\u7684\u9700\u6c42 \u200b 2\uff09\u5982\u679c\u53ea\u6709\u4e00\u4e2abr-int\u3002\u7531\u4e8ebr-int\u5b9e\u9645\u4e0a\u4e00\u4e2aOVS\uff0c\u800cOVS\u5e76\u4e0d\u652f\u6301\u57fa\u4e8eiptables\u7684\u5b89\u5168\u7ec4\u7684\u529f\u80fd\u3002OpenStack\u662f\u57fa\u4e8eiptables\u89c4\u5219\u6765\u5b9e\u73b0\u5b89\u5168\u7ec4\u529f\u80fd\u3002 \u6240\u4ee5OpenStack\u4e2d\u5f15\u5165qbr\u6700\u4e3b\u8981\u7684\u76ee\u7684\u662f\u4f7f\u7528qbr\u63d0\u4f9b\u7684iptables\u5b9e\u73b0security group\u529f\u80fd\uff08qbr \u6709\u65f6\u5019\u4e5f\u4f1a\u88ab\u79f0\u4e3a\u5b89\u5168\u7f51\u6865\uff09","title":"qbr\u4e0ebr-int"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#br-ethx","text":"br-ethx\u4e5f\u662f\u4e00\u4e2aBridge\u3002\u4e5f\u662f\u4e00\u4e2aOVS\u3002\u4ed6\u7684\u5168\u79f0\u4e3aBridge-Ethernet-External\u3002\u8d1f\u8d23\u4e0e\u5916\u90e8\u7f51\u7edc\u8fdb\u884c\u901a\u4fe1\u3002\u4e5f\u5c31\u662fHost\u4e0e\u5916\u90e8\u8fdb\u884c\u901a\u4fe1\u3002br-ethx\u5c5e\u4e8e\u4e00\u4e2aNetwork\uff0c\u8fd9\u4e2aNetwork\u7531Neutron\u8d1f\u8d23\u7ba1\u7406\u3002br-ethx\u4e0ebr-int\u4e4b\u95f4\u7684\u63a5\u53e3\u662fveth pair\u3002\u5728\u4e0a\u56fe\u4e2dbr-ethx\u4e0ebr-ethx\u4e4b\u95f4\u901a\u4fe1\u4f7f\u7528\u7684\u5b9e\u9645\u7684\u7269\u7406\u7f51\u5361\u8fdb\u9879\u901a\u4fe1\u7684\u3002\u8fd9\u4e5f\u662f\u4e0a\u56fe\u4e2d\u552f\u4e00\u4e00\u5bf9\u4f7f\u7528\u7269\u7406NIC\u8fdb\u884c\u901a\u4fe1\u7684\u94fe\u8def\u3002","title":"br-ethx"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/#vmvlan-id","text":"\u4e0a\u56fe\u4e2d4\u4e2aVM\u5206\u522b\u5c5e\u4e8e\u4e24\u4e2avlan\u3002VM1\u548cVM3\u5c5e\u4e8evlan 100\uff1bVM 2\u548cVM 4\u5c5e\u4e8evlan 20\u3002\u4ece\u5916\u90e8\u7684\u7528\u6237\u89c6\u89d2\u6765\u770bvm1\u548cvm3\u540c\u5c5e\u4e00\u4e2avlan\uff1bvm2\u548cvm4\u540c\u5c5e\u4e00\u4e2avlan\u3002\u4f46\u662fvm\u5b9e\u9645\u6240\u5904\u7684host\u5bf9\u5916\u90e8\u7684\u7528\u6237\u6765\u8bf4\u662f\u900f\u660e\u7684\u3002\u4e5f\u5e76\u4e0d\u9700\u8981\u7528\u6237\u53bb\u5173\u5fc3\u3002 \u63a5\u4e0b\u6765\u4ee5VM1\u548cVM3\u4e3a\u4f8b\u8bb2\u89e3\u6d41\u91cf\u8d70\u5411\u3002 1\uff09VM1\u7684vNIC\u4eceA\u53e3\u53d1\u51fa\u7684\u662funtag\u7684\u62a5\u6587 2\uff09\u62a5\u6587\u4eceB\u53e3\u8fdb\u5165qbr-xxx\u4eceC\u53e3\u53d1\u51fa\u6b64\u65f6\u4f9d\u65e7\u662funtag\u7684\u62a5\u6587 3\uff09\u62a5\u6587\u4eceD\u53e3\u8fdb\u5165br-int\u6253\u4e0avlan100 \u7684tag\uff0c\u4eceE\u53e3\u53d1\u51fa\uff1b\u5230F\u53e3\u5c06vlan ID\u8f6c\u4e3avlan10 4\uff09G\u53e3 \u643a\u5e26vlan 10\u7684tag\u5230\u8fbe\u5bf9\u7aef\u7684br-ethx 5\uff09\u5bf9\u7aef\u7684br-ethx\u7684H\u53e3\u63a5\u6536\u5230tag 10 \u7684\u62a5\u6587\u540e\u901a\u8fc7I\u53e3\u53d1\u51fa\u5c06vlan ID\u8f6c\u4e3a10 6\uff09\u62a5\u6587\u643a\u5e26tag\u4e3a10\u7684\u62a5\u6587\u901a\u8fc7J\u53e3\u8fdb\u5165br-int\u3002 7\uff09br-int\u5c06\u62a5\u6587\u4ecek\u53d1\u51fa\uff0c\u540c\u65f6\u5265\u79bbtag 10\u7684\u6807\u7b7e\uff0c\u8fd8\u539f\u6210untag \u62a5\u6587\u53d1\u9001\u7ed9qbr-xxx 8\uff09qbr-xxx\u5c06untag\u7684\u62a5\u6587\u53d1\u9001\u7ed9VM3","title":"VM\u4e0eVLAN ID"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8711-Neutron-%E4%B8%8B/","text":"OpenStack\u5206\u4eab\u7bc711-Neutron--\u4e0b \u00b6 \u8ba1\u7b97\u8282\u70b9\u7684\u5b9e\u73b0\u6a21\u578b\u5c0f\u7ed3 1.\u7528\u6237\u7f51\u7edc\u5c42\uff1a \u7528\u6237\u7f51\u7edc\u5c42\uff08user network\uff09\uff0c\u6307\u7684\u662fOpenStack\u7684\u7528\u6237\u521b\u5efa\u7684\u7f51\u7edc\uff0c\u4e5f\u6210\u4e3a\u5916\u90e8\u7f51\u7edc\u3002\u5916\u90e8\u7f51\u7edc\u662f\u76f8\u5bf9\u4e8eHost\u5185\u90e8\u7f51\u7edc\u800c\u8a00\u7684\u3002\u7528\u6237\u7f51\u7edc\u5c42\u5bf9\u7528\u7684Bridge\u662fbr-ethx\u6216\u8005\u662fbr-tun\u3002br-ethx\u5bf9\u5e94\u7684\u662fFlat\uff0cVlab\u7b49\u975e\u96a7\u9053\u578b\u4e8c\u5c42\u7f51\u7edc\u3002br-tun\u961f\u5f62\u7684\u662fVxLan\uff0cGRE\u7b49\u96a7\u9053\u578b\u7684\u4e8c\u5c42\u7f51\u7edc\u3002\u5b9e\u73b0\u8f7d\u4f53\u4e00\u822c\u662fOVS\uff0c\u7528\u6237\u7f51\u7edc\u5c42\u7684\u529f\u80fd\u662f\u5c06\u7528\u6237\u7f51\u7edc\uff08\u5916\u90e8\u7f51\u7edc\uff09\u548c\u672c\u5730\u7f51\u7edc\u8fdb\u884c\u76f8\u4e92\u8f6c\u6362\u3002\u5982VID\u7684\u8f6c\u6362\uff0cVXLAN\u7684\u5c01\u88c5\u548c\u89e3\u5c01\u88c5\u3002 2.\u672c\u5730\u7f51\u7edc\u5c42 \u672c\u5730\u7f51\u7edc\u5c42\u6307\u7684\u662fHost\u4e3b\u673a\u5185\u90e8\u7684\u672c\u5730\u7f51\u7edc\u3002\u7531\u4e8e\u7528\u6237\u7f51\u7edc\u5c42\uff08Local network\uff09\u5bf9\u8fd9\u4e00\u5c42\u7684\u5c4f\u853d\uff0c\u672c\u5730\u7f51\u7edc\u5c42\u53ea\u9700\u8981\u611f\u77e5\u4e00\u79cd\u6280\u672f\uff1aVLAN\u3002\u672c\u5730\u7f51\u7edc\u5c42\u5206\u4e3a\u4e24\u5c42\u3002qbr\u7684\u5b9e\u73b0\u8f7d\u4f53\u662fLinux-Bridge\uff0c\u5b83\u4ec5\u4ec5\u8d1f\u8d23\u5b89\u5168\uff0c\u79f0\u4e4b\u4e3a\u5b89\u5168\u5c42\u3002br-int\u7684\u5b9e\u73b0\u8f7d\u4f53\u4e00\u822c\u662fovs\uff0c\u5b83\u8d1f\u8d23\u5185\u90e8\u4ea4\u6362\uff0c\u6210\u4e3aBridge\u5c42\u3002 \u200b bridge\u5c42\u662f\u5bf9VM\u5c42\u7684\u4e00\u4e2a\u5c4f\u853d\uff0c\u4eceVM\u53d1\u51fa\u7684Untag\u62a5\u6587\uff0c\u88abBridge\u5c42\u8f6c\u6362\u4e3aTag\u62a5\u6587\u8f6c\u53d1\u5230br-ethx/br-tun\uff1b\u4ecebr-ethx/br-tun\u8f6c\u53d1\u5230br-int\u7684Tag\u62a5\u6587\u88abbr-int\u5265\u53bbtag\uff0c\u7f16\u7a0bun-tag\u62a5\u6587\u518d\u8f6c\u53d1\u7ed9VM\u3002 \u5728\u540c\u4e00\u4e2ahost\u7684\u672c\u5730\u7f51\u7edc\u4e2d\u7684\u4e0d\u540cVM\u8fdb\u884c\u901a\u4fe1\uff0c\u4ed6\u4eec\u7ecf\u8fc7\u672c\u5730\u7f51\u7edc\u5c42\uff08br-int\uff09\u5373\u53ef\u5b8c\u6210\u3002\u4e0d\u9700\u8981\u518d\u7ecf\u8fc7\u7528\u6237\u7f51\u7edc\u5c42\u3002 Neutron-\u7f51\u7edc\u8282\u70b9\u5b9e\u73b0\u6a21\u578b \u4e00\u4e2aVM\u60f3\u8981\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u5fc5\u987b\u8981\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\uff08GW\uff09\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u8ba8\u8bba\u7684\u95ee\u9898\u5b9e\u9645\u4e0a\u662fVM\u5982\u4f55\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\u3002 \u5728Neutron\u4e2d\u7684\u4e00\u4e2a\u5047\u8bbe\u6a21\u578b\uff1a 1.\u6240\u6709\u8ba1\u7b97\u8282\u70b9\u4e2d\u7684VM\uff0c\u8981\u8bbf\u95eeInternet\uff0c\u5fc5\u987b\u7ecf\u8fc7\u7f51\u7edc\u8282\u70b9\uff0c\u7f51\u7edc\u8282\u70b9\u4f5c\u4e3a\u7b2c\u4e00\u5c42\u7f51\u5173\u3002 2.\u7f51\u7edc\u8282\u70b9\u4f1a\u8fde\u63a5\u5230DC\u7269\u7406\u7f51\u7edc\u4e2d\u7684\u4e00\u4e2a\u8bbe\u5907\uff08\u6216\u8005\u662f\u4ea4\u6362\u673a\u6216\u8005\u662f\u8def\u7531\u5668\uff09\u901a\u8fc7\u8fd9\u4e2a\u8bbe\u5907\u4e0a\u8054\u5230DC\u7684GW\u3002\u6b64\u8bbe\u5907\u6211\u4eec\u6210\u4e3a\u7b2c\u4e8c\u5c42\u7f51\u5173\u3002 3.DC\u7f51\u5173\u518d\u8fde\u63a5\u5230Internet\u4e0a\u3002 Neutron\u5e76\u4e0d\u5173\u5fc3\u4e0a\u8ff0\u76842,3\u70b9\u3002\u5bf9\u4e8eNeutron\u6765\u8bf4\u7b2c\u4e8c\u5c42\u7f51\u5173\uff0cDC External network\u548c\u7b2c\u4e09\u5c42\u7f51\u5173\uff08DW3\uff09\u90fd\u4e0d\u5c5e\u4e8eneutron\u7ba1\u7406\u8303\u56f4\uff0c\u662fDC\u8fd0\u8425\u5546\u63d0\u524d\u89c4\u5212\u597d\u7684\u7f51\u7edc\u3002\u8fd9\u4e9b\u7f51\u7edc\u5bf9\u4e8eNeutron\u7edf\u79f0\u4e3aExternal Network\u6216\u8005Public Network\u3002 Neutron\u5728\u7f51\u7edc\u8282\u70b9\u4e2d\u90e8\u7f72\u4e86\u8def\u7531\u5668\u3002\u8fd9\u4e2a\u8def\u7531\u5668\u4e5f\u662f\u662f\u865a\u62df\u8def\u7531\u5668\uff0c\u5229\u7528\u7684\u662fLinux\u5185\u6838\u529f\u80fd\u3002 \u4eceOpenStack\u7684J\u7248\u672c\u5f00\u59cb\u5f15\u5165\u4e86DVR\u7279\u6027\uff0cDVR\u90e8\u7f72\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u3002\u8ba1\u7b97\u8282\u70b9\u8bbf\u95eeinternet,\u4e0d\u5fc5\u7ecf\u8fc7\u7f51\u7edc\u8282\u70b9\uff0c\u76f4\u63a5\u4ece\u8ba1\u7b97\u8282\u70b9\u7684DVR\u5c31\u53ef\u4ee5\u8bbf\u95ee\u3002 \u63a7\u5236\u8282\u70b9\u5e76\u6ca1\u6709\u5177\u4f53\u7684\u7f51\u7edc\u529f\u80fd\uff0c\u5b83\u53ea\u662f\u5bf9\u5404\u79cd\u865a\u62df\u7f51\u5143\u505a\u7ba1\u7406\u914d\u5408\u5de5\u4f5c\u3002\u63a7\u5236\u8282\u70b9\u90e8\u7f72OpenSatck\u7684\u5404\u79cd\u8fdb\u7a0b\uff0c\u5bf9\u4e8eNeutron\u6765\u8bf4\uff0c\u4ed6\u7684\u8fdb\u7a0b\u540d\u662fneutron-server\u3002 \u63a7\u5236\u8282\u70b9\u7684Neutron\u96c6\u6210\u901a\u8fc7RESTful\u6216\u8005CLI\u63a5\u53e3\u63a5\u6536\u5916\u90e8\u8bf7\u6c42\uff0c\u901a\u8fc7RPC\u4e0eAgent\u8fdb\u884c\u4ea4\u4e92\u3002Neutron\u8fdb\u7a0b\u4e0e\u5404\u4e2aAgent\u5171\u540c\u5b8c\u6210\u63a7\u5236\u4efb\u52a1\u3002","title":"OpenStack  \u5206\u4eab\u7bc711 Neutron \u4e0b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8711-Neutron-%E4%B8%8B/#openstack11-neutron-","text":"\u8ba1\u7b97\u8282\u70b9\u7684\u5b9e\u73b0\u6a21\u578b\u5c0f\u7ed3 1.\u7528\u6237\u7f51\u7edc\u5c42\uff1a \u7528\u6237\u7f51\u7edc\u5c42\uff08user network\uff09\uff0c\u6307\u7684\u662fOpenStack\u7684\u7528\u6237\u521b\u5efa\u7684\u7f51\u7edc\uff0c\u4e5f\u6210\u4e3a\u5916\u90e8\u7f51\u7edc\u3002\u5916\u90e8\u7f51\u7edc\u662f\u76f8\u5bf9\u4e8eHost\u5185\u90e8\u7f51\u7edc\u800c\u8a00\u7684\u3002\u7528\u6237\u7f51\u7edc\u5c42\u5bf9\u7528\u7684Bridge\u662fbr-ethx\u6216\u8005\u662fbr-tun\u3002br-ethx\u5bf9\u5e94\u7684\u662fFlat\uff0cVlab\u7b49\u975e\u96a7\u9053\u578b\u4e8c\u5c42\u7f51\u7edc\u3002br-tun\u961f\u5f62\u7684\u662fVxLan\uff0cGRE\u7b49\u96a7\u9053\u578b\u7684\u4e8c\u5c42\u7f51\u7edc\u3002\u5b9e\u73b0\u8f7d\u4f53\u4e00\u822c\u662fOVS\uff0c\u7528\u6237\u7f51\u7edc\u5c42\u7684\u529f\u80fd\u662f\u5c06\u7528\u6237\u7f51\u7edc\uff08\u5916\u90e8\u7f51\u7edc\uff09\u548c\u672c\u5730\u7f51\u7edc\u8fdb\u884c\u76f8\u4e92\u8f6c\u6362\u3002\u5982VID\u7684\u8f6c\u6362\uff0cVXLAN\u7684\u5c01\u88c5\u548c\u89e3\u5c01\u88c5\u3002 2.\u672c\u5730\u7f51\u7edc\u5c42 \u672c\u5730\u7f51\u7edc\u5c42\u6307\u7684\u662fHost\u4e3b\u673a\u5185\u90e8\u7684\u672c\u5730\u7f51\u7edc\u3002\u7531\u4e8e\u7528\u6237\u7f51\u7edc\u5c42\uff08Local network\uff09\u5bf9\u8fd9\u4e00\u5c42\u7684\u5c4f\u853d\uff0c\u672c\u5730\u7f51\u7edc\u5c42\u53ea\u9700\u8981\u611f\u77e5\u4e00\u79cd\u6280\u672f\uff1aVLAN\u3002\u672c\u5730\u7f51\u7edc\u5c42\u5206\u4e3a\u4e24\u5c42\u3002qbr\u7684\u5b9e\u73b0\u8f7d\u4f53\u662fLinux-Bridge\uff0c\u5b83\u4ec5\u4ec5\u8d1f\u8d23\u5b89\u5168\uff0c\u79f0\u4e4b\u4e3a\u5b89\u5168\u5c42\u3002br-int\u7684\u5b9e\u73b0\u8f7d\u4f53\u4e00\u822c\u662fovs\uff0c\u5b83\u8d1f\u8d23\u5185\u90e8\u4ea4\u6362\uff0c\u6210\u4e3aBridge\u5c42\u3002 \u200b bridge\u5c42\u662f\u5bf9VM\u5c42\u7684\u4e00\u4e2a\u5c4f\u853d\uff0c\u4eceVM\u53d1\u51fa\u7684Untag\u62a5\u6587\uff0c\u88abBridge\u5c42\u8f6c\u6362\u4e3aTag\u62a5\u6587\u8f6c\u53d1\u5230br-ethx/br-tun\uff1b\u4ecebr-ethx/br-tun\u8f6c\u53d1\u5230br-int\u7684Tag\u62a5\u6587\u88abbr-int\u5265\u53bbtag\uff0c\u7f16\u7a0bun-tag\u62a5\u6587\u518d\u8f6c\u53d1\u7ed9VM\u3002 \u5728\u540c\u4e00\u4e2ahost\u7684\u672c\u5730\u7f51\u7edc\u4e2d\u7684\u4e0d\u540cVM\u8fdb\u884c\u901a\u4fe1\uff0c\u4ed6\u4eec\u7ecf\u8fc7\u672c\u5730\u7f51\u7edc\u5c42\uff08br-int\uff09\u5373\u53ef\u5b8c\u6210\u3002\u4e0d\u9700\u8981\u518d\u7ecf\u8fc7\u7528\u6237\u7f51\u7edc\u5c42\u3002 Neutron-\u7f51\u7edc\u8282\u70b9\u5b9e\u73b0\u6a21\u578b \u4e00\u4e2aVM\u60f3\u8981\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u5fc5\u987b\u8981\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\uff08GW\uff09\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u8ba8\u8bba\u7684\u95ee\u9898\u5b9e\u9645\u4e0a\u662fVM\u5982\u4f55\u5230\u8fbe\u6570\u636e\u4e2d\u5fc3\u7684\u7f51\u5173\u3002 \u5728Neutron\u4e2d\u7684\u4e00\u4e2a\u5047\u8bbe\u6a21\u578b\uff1a 1.\u6240\u6709\u8ba1\u7b97\u8282\u70b9\u4e2d\u7684VM\uff0c\u8981\u8bbf\u95eeInternet\uff0c\u5fc5\u987b\u7ecf\u8fc7\u7f51\u7edc\u8282\u70b9\uff0c\u7f51\u7edc\u8282\u70b9\u4f5c\u4e3a\u7b2c\u4e00\u5c42\u7f51\u5173\u3002 2.\u7f51\u7edc\u8282\u70b9\u4f1a\u8fde\u63a5\u5230DC\u7269\u7406\u7f51\u7edc\u4e2d\u7684\u4e00\u4e2a\u8bbe\u5907\uff08\u6216\u8005\u662f\u4ea4\u6362\u673a\u6216\u8005\u662f\u8def\u7531\u5668\uff09\u901a\u8fc7\u8fd9\u4e2a\u8bbe\u5907\u4e0a\u8054\u5230DC\u7684GW\u3002\u6b64\u8bbe\u5907\u6211\u4eec\u6210\u4e3a\u7b2c\u4e8c\u5c42\u7f51\u5173\u3002 3.DC\u7f51\u5173\u518d\u8fde\u63a5\u5230Internet\u4e0a\u3002 Neutron\u5e76\u4e0d\u5173\u5fc3\u4e0a\u8ff0\u76842,3\u70b9\u3002\u5bf9\u4e8eNeutron\u6765\u8bf4\u7b2c\u4e8c\u5c42\u7f51\u5173\uff0cDC External network\u548c\u7b2c\u4e09\u5c42\u7f51\u5173\uff08DW3\uff09\u90fd\u4e0d\u5c5e\u4e8eneutron\u7ba1\u7406\u8303\u56f4\uff0c\u662fDC\u8fd0\u8425\u5546\u63d0\u524d\u89c4\u5212\u597d\u7684\u7f51\u7edc\u3002\u8fd9\u4e9b\u7f51\u7edc\u5bf9\u4e8eNeutron\u7edf\u79f0\u4e3aExternal Network\u6216\u8005Public Network\u3002 Neutron\u5728\u7f51\u7edc\u8282\u70b9\u4e2d\u90e8\u7f72\u4e86\u8def\u7531\u5668\u3002\u8fd9\u4e2a\u8def\u7531\u5668\u4e5f\u662f\u662f\u865a\u62df\u8def\u7531\u5668\uff0c\u5229\u7528\u7684\u662fLinux\u5185\u6838\u529f\u80fd\u3002 \u4eceOpenStack\u7684J\u7248\u672c\u5f00\u59cb\u5f15\u5165\u4e86DVR\u7279\u6027\uff0cDVR\u90e8\u7f72\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u3002\u8ba1\u7b97\u8282\u70b9\u8bbf\u95eeinternet,\u4e0d\u5fc5\u7ecf\u8fc7\u7f51\u7edc\u8282\u70b9\uff0c\u76f4\u63a5\u4ece\u8ba1\u7b97\u8282\u70b9\u7684DVR\u5c31\u53ef\u4ee5\u8bbf\u95ee\u3002 \u63a7\u5236\u8282\u70b9\u5e76\u6ca1\u6709\u5177\u4f53\u7684\u7f51\u7edc\u529f\u80fd\uff0c\u5b83\u53ea\u662f\u5bf9\u5404\u79cd\u865a\u62df\u7f51\u5143\u505a\u7ba1\u7406\u914d\u5408\u5de5\u4f5c\u3002\u63a7\u5236\u8282\u70b9\u90e8\u7f72OpenSatck\u7684\u5404\u79cd\u8fdb\u7a0b\uff0c\u5bf9\u4e8eNeutron\u6765\u8bf4\uff0c\u4ed6\u7684\u8fdb\u7a0b\u540d\u662fneutron-server\u3002 \u63a7\u5236\u8282\u70b9\u7684Neutron\u96c6\u6210\u901a\u8fc7RESTful\u6216\u8005CLI\u63a5\u53e3\u63a5\u6536\u5916\u90e8\u8bf7\u6c42\uff0c\u901a\u8fc7RPC\u4e0eAgent\u8fdb\u884c\u4ea4\u4e92\u3002Neutron\u8fdb\u7a0b\u4e0e\u5404\u4e2aAgent\u5171\u540c\u5b8c\u6210\u63a7\u5236\u4efb\u52a1\u3002","title":"OpenStack\u5206\u4eab\u7bc711-Neutron--\u4e0b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/","text":"Ceilometer \u00b6 1.Ceilometer\u7684\u4f53\u7cfb\u7ed3\u6784 \u00b6 Ceilometer\u539f\u610f\u4e3a\u6d4b\u4e91\u4eea\uff0c\u7528\u6765\u6d4b\u91cf\u4e91\u5c42\u7684\u5bc6\u5ea6\u539a\u5ea6\u4ee5\u53ca\u9ad8\u5ea6\u7b49\uff0c\u4eba\u4eec\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u6765\u5224\u65ad\u5929\u6c14\u7b49\u3002\u5728\u4e91\u8ba1\u7b97\uff0c\u4f7f\u7528\u8fd9\u4e2a\u6982\u5ff5\u6620\u5c04IaaS\u5c42\u4e2d\u7684\u8ba1\u91cf\u529f\u80fd\u3002 OpenStack\u4e2dCeilometer\u80fd\u628aIaaS\u5c42\u5185\u90e8\u53d1\u751f\u7684\u4e8b\u60c5\u548c\u7cfb\u7edf\u7684\u8fd0\u884c\u60c5\u51b5\u6536\u96c6\u8d77\u6765\uff0c\u4ea7\u751f\u8ba1\u91cf\u6570\u636e\u3002FS OpenStack\u4e2dCeilometer\u4e3b\u8981\u4e3a\u4e0a\u5c42\u8fd0\u7ef4\u7ec4\u4ef6\u63d0\u4f9b\u76d1\u63a7\u548c\u544a\u8b66\u6570\u636e\uff0c\u5171\u6709\u4e91\u4e0b\u53ef\u4ee5\u7528\u4e8e\u8ba1\u8d39\u3002 \u4e0b\u56fe\u4e3a\u4f7f\u7528Ceilometer\u63d0\u4f9b\u7684\u6570\u636e\u5bf9VM\u7684\u4e00\u7cfb\u5217\u6307\u6807\u8fdb\u884c\u76d1\u63a7\uff0c\u5305\u62ecCPU\u4f7f\u7528\u7387\u3001\u5185\u5b58\u4f7f\u7528\u7387\u3001\u7f51\u7edc\u6d41\u5165\u901f\u7387\u3001\u78c1\u76d8IO\u7b49\u3002 \u4e0b\u56fe\u4e3a\u4f7f\u7528Ceilometer\u4e0a\u62a5\u7684\u6570\u636e\u63d0\u4f9b\u544a\u8b66\u6d88\u606f\u3002 Ceilometer\u6574\u4f53\u91c7\u7528\u4e86\u9ad8\u5ea6\u53ef\u6269\u5c55\u6027\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u975e\u5e38\u5229\u4e8e\u5f00\u53d1\u8005\u5f00\u53d1\u63d2\u4ef6\u6269\u5c55\u6216\u8005\u5b9a\u5236\u5176\u529f\u80fd\u3002 Ceilometer\u91c7\u7528\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\u83b7\u53d6\u6d4b\u91cf\u6570\u636e\uff1a \u7b2c\u4e09\u65b9\u7684\u6570\u636e\u53d1\u9001\u8005\u628a\u6570\u636e\u4ee5\u901a\u77e5\u6d88\u606f\uff08Notification Message\uff09\u7684\u5f62\u5f0f\u53d1\u9001\u5230\u6d88\u606f\u603b\u7ebf\uff08Notification Bus\uff09\u4e0a\uff0cNotification Agent\u4f1a\u83b7\u53d6\u8fd9\u4e9b\u901a\u77e5\u4e8b\u4ef6\uff0c\u4ece\u4e2d\u63d0\u53d6\u6d4b\u91cf\u6570\u636e\u3002 Polling Agent\u4f1a\u6839\u636e\u914d\u7f6e\uff0c\u5b9a\u671f\u4e3b\u52a8\u901a\u8fc7\u5404\u79cdAPI\u6216\u8005\u5176\u4ed6\u901a\u4fe1\u534f\u8bae\u53bb\u8fdc\u7aef\u6216\u8005\u672c\u5730\u4e0d\u540c\u7684\u670d\u52a1\u5b9e\u4f53\u4e2d\u83b7\u53d6\u6240\u9700\u8981\u7684\u6d4b\u91cf\u7684\u6570\u636e\u3002 \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528RESTful API\u76f4\u63a5\u628a\u5229\u7528\u5176\u4ed6\u65b9\u5f0f\u83b7\u53d6\u7684\u4efb\u610f\u6d4b\u91cf\u6570\u636e\u53d1\u9001\u7ed9Ceilometer \u4ee5\u4e0aCeilometer\u901a\u8fc7\u4e09\u79cd\u65b9\u6cd5\u83b7\u53d6\u5230\u6d4b\u91cf\u6570\u636e\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u8f6c\u5316\u4e3a\u7b26\u5408\u67d0\u79cd\u6807\u51c6\u683c\u5f0f\u7684\u6570\u636e\u91c7\u6837\uff08Sample\uff09\u901a\u8fc7\u5185\u90e8\u603b\u7ebf\u53d1\u9001\u7ed9Notification agent\u3002\u7136\u540eNotification Agent\u6839\u636e\u7528\u6237\u5b9a\u4e49\u7684Pipeline\u6765\u5bf9\u91c7\u6837\u8fdb\u884c\u8f6c\u6362\uff08Transform\uff09\u548c\u53d1\u5e03\uff08Publish\uff09\u3002\u5982\u679c\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u8fd9\u4e2a\u6570\u636e\u91c7\u6837\uff08Sample\uff09\u6700\u540e\u88ab\u53d1\u5e03\u7ed9Collector\u7684\u8bdd\uff0cCollector\u4f1a\u628a\u8fd9\u4e2a\u6570\u636e\u91c7\u6837\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u200b \u7528\u6237\u53ef\u4ee5\u901a\u8fc7Ceilometer API\u5bf9\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u7684\u6d4b\u91cf\u6570\u636e\u8fdb\u884c\u6761\u4ef6\u67e5\u8be2\u3001\u6570\u636e\u805a\u5408\uff08Data Aggregate\uff09\u7b49\u64cd\u4f5c\u3002 2.Pipeline \u00b6 \u5728Ceilometer\u6c47\u603b\uff0c\u9002\u7528\u4e8e\u4e0d\u540c\u5e94\u7528\u573a\u666f\u4e0b\u7684\u6d4b\u91cf\u6570\u636e\uff0c\u91c7\u6837\u9891\u7387\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u8981\u6c42\u3002\u4f8b\u5982\u5bf9\u4e8e\u8ba1\u8d39\u7684\u6570\u636e\uff0c\u91c7\u6837\u7684\u9891\u7387\u6bd4\u8f83\u4f4e\uff0c\u5178\u578b\u503c\u4e3a5 30min\uff1b\u5bf9\u4e8e\u7528\u6765\u76d1\u63a7\u7684\u6570\u636e\uff0c\u8fd9\u91c7\u6837\u7684pinljiuhui\u5c31\u4f1a\u9ad8\u5f88\u591a\uff0c\u4e00\u822c\u4f1a\u8fbe\u52301 10S\u3002 \u200b \u53e6\u5916\uff0c\u5bf9\u4e8e\u6d4b\u91cf\u6570\u636e\u7684\u53d1\u5e03\u65b9\u5f0f\uff0c\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u4e5f\u4f1a\u63d0\u51fa\u4e0d\u540c\u7684\u8981\u6c42\u3002\u5bf9\u4e8e\u8ba1\u8d39\u7684\u6570\u636e\uff0c\u5c31\u8981\u6c42\u91c7\u7528\u503c\u4e0d\u80fd\u4e22\u5931\uff0c\u5e76\u4e14\u8981\u4fdd\u8bc1\u6570\u636e\u7684\u4e0d\u53ef\u5426\u8ba4\u6027\uff08non-repudiation\uff09\uff1b\u800c\u5bf9\u4e8e\u76d1\u63a7\u7684\u6570\u636e\uff0c\u8fd9\u65b9\u9762\u5c31\u6ca1\u6709\u8fd9\u4e48\u4e25\u683c\u7684\u8981\u6c42\u3002 \u200b \u5728Ceilometer\u4e2d\u5f15\u5165\u7684Pipeline\u7684\u6982\u5ff5\u6765\u89e3\u51b3\u91c7\u6837\u9891\u7387\u548c\u53d1\u5e03\u65b9\u5f0f\u7684\u95ee\u9898\u3002Pipeline\u7684\u5f15\u5165\u4f7f\u5f97\u7ba1\u7406\u5458\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9a\u4e49\u67d0\u4e00\u4e2a\u6d4b\u91cf\u6570\u636e\u7684\u91c7\u6837\u9891\u7387\u548c\u53d1\u5e03\u65b9\u5f0f\u3002 \u200b Ceilometer\u4e2d\uff0c\u540c\u65f6\u5141\u8bb8\u591a\u4e2aPipeline\uff0c\u6bcf\u4e2aPipeline\u90fd\u662f\u7531\u6e90\uff08Source\uff09\u548c\u76ee\u6807\uff08sink\uff09\u7ec4\u6210\u7684\u3002\u6e90\u4e2d\u5b9a\u4e49\u4e86\u9700\u8981\u6d4b\u91cf\u54ea\u4e9b\u6570\u636e\uff0c\u6570\u636e\u7684\u91c7\u6837\u9891\u7387\uff0c\u5728\u54ea\u4e9bendpoint\u4e0a\u8fdb\u884c\u6570\u636e\u91c7\u6837\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u6570\u636e\u7684\u76ee\u6807\uff08sink\uff09\u3002\u76ee\u6807\u4e2d\u5b9a\u4e49\u4e86\u83b7\u5f97\u7684\u6570\u636e\u8981\u7ecf\u8fc7\u54ea\u4e9bTransformer\u8fdb\u884c\u6570\u636e\u8f6c\u6362\uff0c\u5e76\u6700\u7ec8\u4ea4\u7531\u54ea\u4e9bPublisher\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u3002 \u8f6c\u6362\u5668\uff08Transformer\uff09\u53ef\u4ee5\u9488\u5bf9\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u540c\u4e00\u79cd\u7c7b\u7684\u6570\u636e\u91c7\u6837\u503c\u8fdb\u884c\u5404\u79cd\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u6539\u53d8\u5355\u4f4d\u3001\u805a\u5408\u8ba1\u7b97\u7b49\uff0c\u6700\u7ec8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5176\u4ed6\u4e0d\u540c\u79cd\u7c7b\u7684\u6d4b\u91cf\u6570\u636e\u3002\u4f8b\u5982\u5c06\u591a\u4e2aCPU\u4f7f\u7528\u65f6\u95f4\u7684\u6d4b\u91cf\u6570\u636e\u91c7\u6837\u7ecf\u8fc7Transformer\u8fdb\u884c\u6570\u636e\u8f6c\u5316\u540e\u5f97\u51faCPU\u7684\u4f7f\u7528\u9891\u7387\u3002 \u200b \u901a\u8fc7\u8f6c\u6362\u5668\uff08Transformer\uff09\u8fdb\u884c\u6570\u636e\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u6700\u7ec8\u4f1a\u4ea4\u7531Pipeline\u5b9a\u4e49\u4e2d\u7684Publisher\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u3002Pipeline\u4e2d\u5b9a\u4e49\u4e863\u4e2a\u4e0d\u540c\u7684Publisher\uff0c\u5206\u522b\u91c7\u7528message Bus\u4e0a\u7684notification\u3001kafka\u6d88\u606f\u548cudp\u6570\u636e\u53053\u4e2d\u4e0d\u540c\u7684\u65b9\u5f0f\u540c\u65f6\u5c06\u4e00\u4e2a\u6570\u636e\u91c7\u6837\u503c\u53d1\u5e03\u7ed9\u4e0d\u540c\u7684\u6570\u636e\u63a5\u6536\u8005\u3002 \u76ee\u524d\u5df2\u77e5\u591a\u79cdPublisher\uff0c\u5177\u4f53\u5982\u4e0b\uff1a notifier\uff1a\u5411\u901a\u77e5\u603b\u7ebf\u4e0a\u53d1\u9001info\u7ea7\u522b\u7684\u901a\u77e5\u6d88\u606f\uff0c\u91c7\u6837\u6570\u636e\uff08Sample\uff09\u5185\u5bb9\u4f5c\u4e3a\u901a\u77e5\u6d88\u606f\u7684\u6570\u636e\u8f7d\u8377\uff08payload\uff09\u3002 kafka\uff1a\u5411kafka\u6d88\u606f\u961f\u5217\u53d1\u9001 direct\uff1a\u76f4\u63a5\u8c03\u7528collector dispatcher\u4fdd\u5b58\u5230\u6570\u636e\u540e\u53f0\uff0c\u7ed5\u5f00collector udp\uff1a\u5c06\u91c7\u6837\u6570\u636e\u5c01\u88c5\u5728udp\u5305\u5185\uff0c\u7136\u540e\u5411\u67d0\u4e2a\u7ba1\u7406\u5458\u53ef\u914d\u7f6e\u7684udp\u5730\u5740\u548c\u7aef\u53e3\u8fdb\u884c\u53d1\u9001\u3002 file\uff1a\u628a\u91c7\u6837\u6570\u636e\u5185\u5bb9\u4ee5log\u5f62\u5f0f\u4fdd\u5b58\u5728\u67d0\u4e2a\u7ba1\u7406\u5458\u53ef\u914d\u7f6e\u7684http endpoint http\uff1a\u628a\u91c7\u6837\u7684\u6570\u636e\u4ee5http\u534f\u8bae\u53d1\u9001\u7ed9\u67d0\u4e00\u4e2ahttp endpoint\u3002 3.Polling Agen \u4e0ePollster\u63d2\u4ef6 \u00b6 \u200b polling agent\u7684\u4f5c\u7528\u662f\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u5b9a\u671f\u8c03\u7528\u4e0d\u540c\u7684Pollster\u63d2\u4ef6\u53bb\u8f6e\u8be2\u83b7\u5f97Pipeline\u4e2d\u5b9a\u4e49\u7684\u6d4b\u91cf\u503c\uff0c\u518d\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u5bf9\u8fd9\u4e9b\u91c7\u7528\u503c\u8fdb\u884c\u8f6c\u6362\u548c\u53d1\u5e03\u3002 \u200b Pollster\u63d2\u4ef6\u662f\u7b26\u5408\u7279\u5b9a\u63a5\u53e3\u6807\u51c6\u7684Python\u7c7b\uff0cAgent\u4f1a\u8c03\u7528\u8fd9\u4e9bPollster\u63d2\u4ef6\u6765\u83b7\u5f97\u4e0d\u540c\u7684\u6d4b\u91cf\u6570\u636e\u3002Pollster\u63d2\u4ef6\u53ef\u4ee5\u81ea\u884c\u5f00\u53d1\u6765\u83b7\u53d6\u65b0\u7684\u6d4b\u91cf\u503c\u3002 \u76ee\u524dCeilometer\u4e2d\u6709\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684Polling Agnet\u3002 Commpute Agent\u9700\u8981\u88ab\u90e8\u7f72\u5728\u8fd0\u884cnova-compute\u670d\u52a1\u7684\u8ba1\u7b97\u8282\u70b9\u4e0a\uff0c\u4e3b\u8981\u662f\u7528\u6765\u548cHypervisor\u8fdb\u884c\u901a\u4fe1\u7684\uff0c\u8f6e\u8be2\u83b7\u53d6Hypervisor\u76f8\u5173\u7684\u6d4b\u91cf\u503c\u3002 Central Agent\u53ef\u4ee5\u88ab\u90e8\u7f72\u5728\u4efb\u610f\u8282\u70b9\u4e0a\uff0c\u4ed6\u7528\u6765\u548c\u8fdc\u7a0b\u7684\u5404\u79cd\u4e0d\u540c\u7684\u5b9e\u4f53\u548c\u670d\u52a1\u8fdb\u884c\u901a\u4fe1\uff0c\u83b7\u53d6\u4e0d\u540c\u7684\u6d4b\u91cf\u503c\u3002 \u5728J\u7248\u672c\u4e2d\uff0c\u6dfb\u52a0\u7684IPMI Agnet\u9700\u8981\u90e8\u7f72\u5728\u652f\u6301IPMI\u7684\u8282\u70b9\u4e0a\uff0c\u7528\u6765\u83b7\u53d6\u672c\u673aIPMI\u7684\u76f8\u5173\u6d4b\u91cf\u503c\u3002 4.Notification Agent\u4e0eNotification Listeners\u63d2\u4ef6 \u00b6 \u200b Ceilometer\u9879\u76ee\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f\u9664\u4e86\u7528Polling Agent\u8f6e\u8be2\u4e4b\u5916\u8fd8\u53ef\u4ee5\u901a\u8fc7\u76d1\u542cNotification Bus\u4e0a\u7684\u901a\u77e5\u6d88\u606f\uff08Notification Message\uff09 \u6d88\u606f\u6765\u5b9e\u73b0\u3002\u8fd9\u662f\u7531Notification Agent\u901a\u8fc7Notification Listener\u6765\u5b9e\u73b0\u7684\u3002 5.Collector\u4e0eDispatcher\u63d2\u4ef6 \u00b6 \u5f53Ceilometer\u83b7\u5f97\u7684\u6d4b\u91cf\u6570\u636e\u901a\u8fc7Pipeline\u53d1\u5e03\uff08Publisher\uff09\u51fa\u53bb\u540e\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u6570\u636e\u63a5\u6536\u8005\u83b7\u5f97\u8fd9\u4e9b\u6570\u636e\u5e76\u4fdd\u5b58\u8d77\u6765\uff0c\u4ee5\u4fbf\u5bf9\u6570\u636e\u8fdb\u884c\u540e\u7eed\u7684\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002Collector\u7684\u4f5c\u7528\u5c31\u662f\u628a\u63a5\u6536\u5230\u6570\u636e\u4fdd\u5b58\u5728\u6570\u636e\u540e\u53f0\u4e2d\u3002 \u5bf9\u4e8e\u6bcf\u4e2aCollector\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u4e3a\u5176\u914d\u7f6e\u4e00\u4e2a\u6216\u8005\u591a\u4e2aDispatcher\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6240\u6536\u5230\u7684\u91c7\u6837\u6570\u636e\uff0cCollector\u4f1a\u8c03\u7528\u6240\u6709\u7684Dispatcher\uff0c\u8fd9\u4e9bDispatcher\u6765\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u6570\u636e\u3002\u76ee\u524d\u5df2\u67094\u4e2aDispatcher\u3002 database dispatcher:\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4fdd\u5b58\u5728\u540e\u53f0\u6570\u636e\u5e93\u4e2d\u3002 file dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4ee5log\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d gnocchi dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4fdd\u5b58\u5728Gnocchi\u4e2d http dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4ee5http\u5c01\u88c5\u53d1\u9001\u7ed9\u67d0\u4e2ahttp endpoint\u3002 6.Storage/DB \u00b6 \u4e3a\u4e86\u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u540e\u53f0\u6570\u636e\u5e93\uff0cCeilometer\u5f15\u5165\u4e86\u6570\u636e\u5e93\u62bd\u8c61\u5c42\uff0c\u901a\u8fc7\u6570\u636e\u5e93\u62bd\u8c61\u5c42\uff0c\u4e0a\u5c42\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u5411\u540e\u53f0\u4e0d\u540c\u7684\u6570\u636e\u5e93\u5199\u5165\u8981\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u4ece\u540e\u53f0\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u83b7\u5f97\u4e00\u81f4\u7684\u683c\u5f0f\u6240\u8868\u793a\u7684\u6570\u636e\u3002 \u76ee\u524dCeilometer\u652f\u63014\u4e2d\u4e0d\u540c\u7684\u6570\u636e\u5e93\u540e\u53f0\uff1aMongoDB,MySQL\uff0cPostgreSQL\u548cHbase\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u540c\u7684\u6570\u636e\u5e93\u540e\u53f0\uff0c\u6240\u652f\u6301\u7684\u529f\u80fd\u6027\u548c\u6027\u80fd\u6709\u6240\u4e0d\u540c\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u9009\u62e9\u3002 \u200b \u548cOpenStack\u4e2d\u5176\u4ed6\u7684\u9879\u76ee\u6bd4\u8d77\u6765\uff0cCeilometer\u6240\u4fdd\u5b58\u7684\u6570\u636e\u91cf\u4f1a\u5927\u5f88\u591a\u3002\u6240\u4ee5\u867d\u7136Ceilometer\u7684\u9ed8\u8ba4\u540e\u53f0\u6570\u636e\u5e93\u662fMySQL\uff0c\u4f46\u662f\u5728\u5386\u53f2\u4e0a\u4e00\u822c\u5efa\u8bae\u5728\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u4e2d\u91c7\u7528MongoDB\u4e3a\u540e\u53f0\u6570\u636e\u5e93\u3002MongoDB\u4f5c\u4e3a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6709\u7740\u66f4\u591a\u66f4\u597d\u7684\u7279\u6027\u3002 \u6ce8\uff1aTelemetry\u793e\u533a\u76ee\u524d\u5efa\u8bae\u4f7f\u7528Gnocchi\u4ee3\u66ff\u4e0a\u9762\u6240\u8bf4\u7684\u6570\u636e\u5e93\u6765\u4fdd\u5b58\u91c7\u6837\u6570\u636e\u3002","title":"OpenStack  \u5206\u4eab\u7bc712 Ceilometer"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#ceilometer","text":"","title":"Ceilometer"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#1ceilometer","text":"Ceilometer\u539f\u610f\u4e3a\u6d4b\u4e91\u4eea\uff0c\u7528\u6765\u6d4b\u91cf\u4e91\u5c42\u7684\u5bc6\u5ea6\u539a\u5ea6\u4ee5\u53ca\u9ad8\u5ea6\u7b49\uff0c\u4eba\u4eec\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u6765\u5224\u65ad\u5929\u6c14\u7b49\u3002\u5728\u4e91\u8ba1\u7b97\uff0c\u4f7f\u7528\u8fd9\u4e2a\u6982\u5ff5\u6620\u5c04IaaS\u5c42\u4e2d\u7684\u8ba1\u91cf\u529f\u80fd\u3002 OpenStack\u4e2dCeilometer\u80fd\u628aIaaS\u5c42\u5185\u90e8\u53d1\u751f\u7684\u4e8b\u60c5\u548c\u7cfb\u7edf\u7684\u8fd0\u884c\u60c5\u51b5\u6536\u96c6\u8d77\u6765\uff0c\u4ea7\u751f\u8ba1\u91cf\u6570\u636e\u3002FS OpenStack\u4e2dCeilometer\u4e3b\u8981\u4e3a\u4e0a\u5c42\u8fd0\u7ef4\u7ec4\u4ef6\u63d0\u4f9b\u76d1\u63a7\u548c\u544a\u8b66\u6570\u636e\uff0c\u5171\u6709\u4e91\u4e0b\u53ef\u4ee5\u7528\u4e8e\u8ba1\u8d39\u3002 \u4e0b\u56fe\u4e3a\u4f7f\u7528Ceilometer\u63d0\u4f9b\u7684\u6570\u636e\u5bf9VM\u7684\u4e00\u7cfb\u5217\u6307\u6807\u8fdb\u884c\u76d1\u63a7\uff0c\u5305\u62ecCPU\u4f7f\u7528\u7387\u3001\u5185\u5b58\u4f7f\u7528\u7387\u3001\u7f51\u7edc\u6d41\u5165\u901f\u7387\u3001\u78c1\u76d8IO\u7b49\u3002 \u4e0b\u56fe\u4e3a\u4f7f\u7528Ceilometer\u4e0a\u62a5\u7684\u6570\u636e\u63d0\u4f9b\u544a\u8b66\u6d88\u606f\u3002 Ceilometer\u6574\u4f53\u91c7\u7528\u4e86\u9ad8\u5ea6\u53ef\u6269\u5c55\u6027\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u975e\u5e38\u5229\u4e8e\u5f00\u53d1\u8005\u5f00\u53d1\u63d2\u4ef6\u6269\u5c55\u6216\u8005\u5b9a\u5236\u5176\u529f\u80fd\u3002 Ceilometer\u91c7\u7528\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\u83b7\u53d6\u6d4b\u91cf\u6570\u636e\uff1a \u7b2c\u4e09\u65b9\u7684\u6570\u636e\u53d1\u9001\u8005\u628a\u6570\u636e\u4ee5\u901a\u77e5\u6d88\u606f\uff08Notification Message\uff09\u7684\u5f62\u5f0f\u53d1\u9001\u5230\u6d88\u606f\u603b\u7ebf\uff08Notification Bus\uff09\u4e0a\uff0cNotification Agent\u4f1a\u83b7\u53d6\u8fd9\u4e9b\u901a\u77e5\u4e8b\u4ef6\uff0c\u4ece\u4e2d\u63d0\u53d6\u6d4b\u91cf\u6570\u636e\u3002 Polling Agent\u4f1a\u6839\u636e\u914d\u7f6e\uff0c\u5b9a\u671f\u4e3b\u52a8\u901a\u8fc7\u5404\u79cdAPI\u6216\u8005\u5176\u4ed6\u901a\u4fe1\u534f\u8bae\u53bb\u8fdc\u7aef\u6216\u8005\u672c\u5730\u4e0d\u540c\u7684\u670d\u52a1\u5b9e\u4f53\u4e2d\u83b7\u53d6\u6240\u9700\u8981\u7684\u6d4b\u91cf\u7684\u6570\u636e\u3002 \u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528RESTful API\u76f4\u63a5\u628a\u5229\u7528\u5176\u4ed6\u65b9\u5f0f\u83b7\u53d6\u7684\u4efb\u610f\u6d4b\u91cf\u6570\u636e\u53d1\u9001\u7ed9Ceilometer \u4ee5\u4e0aCeilometer\u901a\u8fc7\u4e09\u79cd\u65b9\u6cd5\u83b7\u53d6\u5230\u6d4b\u91cf\u6570\u636e\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u8f6c\u5316\u4e3a\u7b26\u5408\u67d0\u79cd\u6807\u51c6\u683c\u5f0f\u7684\u6570\u636e\u91c7\u6837\uff08Sample\uff09\u901a\u8fc7\u5185\u90e8\u603b\u7ebf\u53d1\u9001\u7ed9Notification agent\u3002\u7136\u540eNotification Agent\u6839\u636e\u7528\u6237\u5b9a\u4e49\u7684Pipeline\u6765\u5bf9\u91c7\u6837\u8fdb\u884c\u8f6c\u6362\uff08Transform\uff09\u548c\u53d1\u5e03\uff08Publish\uff09\u3002\u5982\u679c\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u8fd9\u4e2a\u6570\u636e\u91c7\u6837\uff08Sample\uff09\u6700\u540e\u88ab\u53d1\u5e03\u7ed9Collector\u7684\u8bdd\uff0cCollector\u4f1a\u628a\u8fd9\u4e2a\u6570\u636e\u91c7\u6837\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u200b \u7528\u6237\u53ef\u4ee5\u901a\u8fc7Ceilometer API\u5bf9\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u7684\u6d4b\u91cf\u6570\u636e\u8fdb\u884c\u6761\u4ef6\u67e5\u8be2\u3001\u6570\u636e\u805a\u5408\uff08Data Aggregate\uff09\u7b49\u64cd\u4f5c\u3002","title":"1.Ceilometer\u7684\u4f53\u7cfb\u7ed3\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#2pipeline","text":"\u5728Ceilometer\u6c47\u603b\uff0c\u9002\u7528\u4e8e\u4e0d\u540c\u5e94\u7528\u573a\u666f\u4e0b\u7684\u6d4b\u91cf\u6570\u636e\uff0c\u91c7\u6837\u9891\u7387\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u8981\u6c42\u3002\u4f8b\u5982\u5bf9\u4e8e\u8ba1\u8d39\u7684\u6570\u636e\uff0c\u91c7\u6837\u7684\u9891\u7387\u6bd4\u8f83\u4f4e\uff0c\u5178\u578b\u503c\u4e3a5 30min\uff1b\u5bf9\u4e8e\u7528\u6765\u76d1\u63a7\u7684\u6570\u636e\uff0c\u8fd9\u91c7\u6837\u7684pinljiuhui\u5c31\u4f1a\u9ad8\u5f88\u591a\uff0c\u4e00\u822c\u4f1a\u8fbe\u52301 10S\u3002 \u200b \u53e6\u5916\uff0c\u5bf9\u4e8e\u6d4b\u91cf\u6570\u636e\u7684\u53d1\u5e03\u65b9\u5f0f\uff0c\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u4e5f\u4f1a\u63d0\u51fa\u4e0d\u540c\u7684\u8981\u6c42\u3002\u5bf9\u4e8e\u8ba1\u8d39\u7684\u6570\u636e\uff0c\u5c31\u8981\u6c42\u91c7\u7528\u503c\u4e0d\u80fd\u4e22\u5931\uff0c\u5e76\u4e14\u8981\u4fdd\u8bc1\u6570\u636e\u7684\u4e0d\u53ef\u5426\u8ba4\u6027\uff08non-repudiation\uff09\uff1b\u800c\u5bf9\u4e8e\u76d1\u63a7\u7684\u6570\u636e\uff0c\u8fd9\u65b9\u9762\u5c31\u6ca1\u6709\u8fd9\u4e48\u4e25\u683c\u7684\u8981\u6c42\u3002 \u200b \u5728Ceilometer\u4e2d\u5f15\u5165\u7684Pipeline\u7684\u6982\u5ff5\u6765\u89e3\u51b3\u91c7\u6837\u9891\u7387\u548c\u53d1\u5e03\u65b9\u5f0f\u7684\u95ee\u9898\u3002Pipeline\u7684\u5f15\u5165\u4f7f\u5f97\u7ba1\u7406\u5458\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9a\u4e49\u67d0\u4e00\u4e2a\u6d4b\u91cf\u6570\u636e\u7684\u91c7\u6837\u9891\u7387\u548c\u53d1\u5e03\u65b9\u5f0f\u3002 \u200b Ceilometer\u4e2d\uff0c\u540c\u65f6\u5141\u8bb8\u591a\u4e2aPipeline\uff0c\u6bcf\u4e2aPipeline\u90fd\u662f\u7531\u6e90\uff08Source\uff09\u548c\u76ee\u6807\uff08sink\uff09\u7ec4\u6210\u7684\u3002\u6e90\u4e2d\u5b9a\u4e49\u4e86\u9700\u8981\u6d4b\u91cf\u54ea\u4e9b\u6570\u636e\uff0c\u6570\u636e\u7684\u91c7\u6837\u9891\u7387\uff0c\u5728\u54ea\u4e9bendpoint\u4e0a\u8fdb\u884c\u6570\u636e\u91c7\u6837\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u6570\u636e\u7684\u76ee\u6807\uff08sink\uff09\u3002\u76ee\u6807\u4e2d\u5b9a\u4e49\u4e86\u83b7\u5f97\u7684\u6570\u636e\u8981\u7ecf\u8fc7\u54ea\u4e9bTransformer\u8fdb\u884c\u6570\u636e\u8f6c\u6362\uff0c\u5e76\u6700\u7ec8\u4ea4\u7531\u54ea\u4e9bPublisher\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u3002 \u8f6c\u6362\u5668\uff08Transformer\uff09\u53ef\u4ee5\u9488\u5bf9\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u540c\u4e00\u79cd\u7c7b\u7684\u6570\u636e\u91c7\u6837\u503c\u8fdb\u884c\u5404\u79cd\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u6539\u53d8\u5355\u4f4d\u3001\u805a\u5408\u8ba1\u7b97\u7b49\uff0c\u6700\u7ec8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5176\u4ed6\u4e0d\u540c\u79cd\u7c7b\u7684\u6d4b\u91cf\u6570\u636e\u3002\u4f8b\u5982\u5c06\u591a\u4e2aCPU\u4f7f\u7528\u65f6\u95f4\u7684\u6d4b\u91cf\u6570\u636e\u91c7\u6837\u7ecf\u8fc7Transformer\u8fdb\u884c\u6570\u636e\u8f6c\u5316\u540e\u5f97\u51faCPU\u7684\u4f7f\u7528\u9891\u7387\u3002 \u200b \u901a\u8fc7\u8f6c\u6362\u5668\uff08Transformer\uff09\u8fdb\u884c\u6570\u636e\u8f6c\u6362\u540e\u7684\u6570\u636e\uff0c\u6700\u7ec8\u4f1a\u4ea4\u7531Pipeline\u5b9a\u4e49\u4e2d\u7684Publisher\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u3002Pipeline\u4e2d\u5b9a\u4e49\u4e863\u4e2a\u4e0d\u540c\u7684Publisher\uff0c\u5206\u522b\u91c7\u7528message Bus\u4e0a\u7684notification\u3001kafka\u6d88\u606f\u548cudp\u6570\u636e\u53053\u4e2d\u4e0d\u540c\u7684\u65b9\u5f0f\u540c\u65f6\u5c06\u4e00\u4e2a\u6570\u636e\u91c7\u6837\u503c\u53d1\u5e03\u7ed9\u4e0d\u540c\u7684\u6570\u636e\u63a5\u6536\u8005\u3002 \u76ee\u524d\u5df2\u77e5\u591a\u79cdPublisher\uff0c\u5177\u4f53\u5982\u4e0b\uff1a notifier\uff1a\u5411\u901a\u77e5\u603b\u7ebf\u4e0a\u53d1\u9001info\u7ea7\u522b\u7684\u901a\u77e5\u6d88\u606f\uff0c\u91c7\u6837\u6570\u636e\uff08Sample\uff09\u5185\u5bb9\u4f5c\u4e3a\u901a\u77e5\u6d88\u606f\u7684\u6570\u636e\u8f7d\u8377\uff08payload\uff09\u3002 kafka\uff1a\u5411kafka\u6d88\u606f\u961f\u5217\u53d1\u9001 direct\uff1a\u76f4\u63a5\u8c03\u7528collector dispatcher\u4fdd\u5b58\u5230\u6570\u636e\u540e\u53f0\uff0c\u7ed5\u5f00collector udp\uff1a\u5c06\u91c7\u6837\u6570\u636e\u5c01\u88c5\u5728udp\u5305\u5185\uff0c\u7136\u540e\u5411\u67d0\u4e2a\u7ba1\u7406\u5458\u53ef\u914d\u7f6e\u7684udp\u5730\u5740\u548c\u7aef\u53e3\u8fdb\u884c\u53d1\u9001\u3002 file\uff1a\u628a\u91c7\u6837\u6570\u636e\u5185\u5bb9\u4ee5log\u5f62\u5f0f\u4fdd\u5b58\u5728\u67d0\u4e2a\u7ba1\u7406\u5458\u53ef\u914d\u7f6e\u7684http endpoint http\uff1a\u628a\u91c7\u6837\u7684\u6570\u636e\u4ee5http\u534f\u8bae\u53d1\u9001\u7ed9\u67d0\u4e00\u4e2ahttp endpoint\u3002","title":"2.Pipeline"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#3polling-agen-pollster","text":"\u200b polling agent\u7684\u4f5c\u7528\u662f\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u5b9a\u671f\u8c03\u7528\u4e0d\u540c\u7684Pollster\u63d2\u4ef6\u53bb\u8f6e\u8be2\u83b7\u5f97Pipeline\u4e2d\u5b9a\u4e49\u7684\u6d4b\u91cf\u503c\uff0c\u518d\u6839\u636ePipeline\u7684\u5b9a\u4e49\uff0c\u5bf9\u8fd9\u4e9b\u91c7\u7528\u503c\u8fdb\u884c\u8f6c\u6362\u548c\u53d1\u5e03\u3002 \u200b Pollster\u63d2\u4ef6\u662f\u7b26\u5408\u7279\u5b9a\u63a5\u53e3\u6807\u51c6\u7684Python\u7c7b\uff0cAgent\u4f1a\u8c03\u7528\u8fd9\u4e9bPollster\u63d2\u4ef6\u6765\u83b7\u5f97\u4e0d\u540c\u7684\u6d4b\u91cf\u6570\u636e\u3002Pollster\u63d2\u4ef6\u53ef\u4ee5\u81ea\u884c\u5f00\u53d1\u6765\u83b7\u53d6\u65b0\u7684\u6d4b\u91cf\u503c\u3002 \u76ee\u524dCeilometer\u4e2d\u6709\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684Polling Agnet\u3002 Commpute Agent\u9700\u8981\u88ab\u90e8\u7f72\u5728\u8fd0\u884cnova-compute\u670d\u52a1\u7684\u8ba1\u7b97\u8282\u70b9\u4e0a\uff0c\u4e3b\u8981\u662f\u7528\u6765\u548cHypervisor\u8fdb\u884c\u901a\u4fe1\u7684\uff0c\u8f6e\u8be2\u83b7\u53d6Hypervisor\u76f8\u5173\u7684\u6d4b\u91cf\u503c\u3002 Central Agent\u53ef\u4ee5\u88ab\u90e8\u7f72\u5728\u4efb\u610f\u8282\u70b9\u4e0a\uff0c\u4ed6\u7528\u6765\u548c\u8fdc\u7a0b\u7684\u5404\u79cd\u4e0d\u540c\u7684\u5b9e\u4f53\u548c\u670d\u52a1\u8fdb\u884c\u901a\u4fe1\uff0c\u83b7\u53d6\u4e0d\u540c\u7684\u6d4b\u91cf\u503c\u3002 \u5728J\u7248\u672c\u4e2d\uff0c\u6dfb\u52a0\u7684IPMI Agnet\u9700\u8981\u90e8\u7f72\u5728\u652f\u6301IPMI\u7684\u8282\u70b9\u4e0a\uff0c\u7528\u6765\u83b7\u53d6\u672c\u673aIPMI\u7684\u76f8\u5173\u6d4b\u91cf\u503c\u3002","title":"3.Polling Agen \u4e0ePollster\u63d2\u4ef6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#4notification-agentnotification-listeners","text":"\u200b Ceilometer\u9879\u76ee\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u65b9\u5f0f\u9664\u4e86\u7528Polling Agent\u8f6e\u8be2\u4e4b\u5916\u8fd8\u53ef\u4ee5\u901a\u8fc7\u76d1\u542cNotification Bus\u4e0a\u7684\u901a\u77e5\u6d88\u606f\uff08Notification Message\uff09 \u6d88\u606f\u6765\u5b9e\u73b0\u3002\u8fd9\u662f\u7531Notification Agent\u901a\u8fc7Notification Listener\u6765\u5b9e\u73b0\u7684\u3002","title":"4.Notification Agent\u4e0eNotification Listeners\u63d2\u4ef6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#5collectordispatcher","text":"\u5f53Ceilometer\u83b7\u5f97\u7684\u6d4b\u91cf\u6570\u636e\u901a\u8fc7Pipeline\u53d1\u5e03\uff08Publisher\uff09\u51fa\u53bb\u540e\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u6570\u636e\u63a5\u6536\u8005\u83b7\u5f97\u8fd9\u4e9b\u6570\u636e\u5e76\u4fdd\u5b58\u8d77\u6765\uff0c\u4ee5\u4fbf\u5bf9\u6570\u636e\u8fdb\u884c\u540e\u7eed\u7684\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002Collector\u7684\u4f5c\u7528\u5c31\u662f\u628a\u63a5\u6536\u5230\u6570\u636e\u4fdd\u5b58\u5728\u6570\u636e\u540e\u53f0\u4e2d\u3002 \u5bf9\u4e8e\u6bcf\u4e2aCollector\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u4e3a\u5176\u914d\u7f6e\u4e00\u4e2a\u6216\u8005\u591a\u4e2aDispatcher\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6240\u6536\u5230\u7684\u91c7\u6837\u6570\u636e\uff0cCollector\u4f1a\u8c03\u7528\u6240\u6709\u7684Dispatcher\uff0c\u8fd9\u4e9bDispatcher\u6765\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u6570\u636e\u3002\u76ee\u524d\u5df2\u67094\u4e2aDispatcher\u3002 database dispatcher:\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4fdd\u5b58\u5728\u540e\u53f0\u6570\u636e\u5e93\u4e2d\u3002 file dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4ee5log\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d gnocchi dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4fdd\u5b58\u5728Gnocchi\u4e2d http dispatcher\uff1a\u628a\u91c7\u6837\u6570\u636e\u6216\u8005Event\u4e8b\u4ef6\u4ee5http\u5c01\u88c5\u53d1\u9001\u7ed9\u67d0\u4e2ahttp endpoint\u3002","title":"5.Collector\u4e0eDispatcher\u63d2\u4ef6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/#6storagedb","text":"\u4e3a\u4e86\u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u540e\u53f0\u6570\u636e\u5e93\uff0cCeilometer\u5f15\u5165\u4e86\u6570\u636e\u5e93\u62bd\u8c61\u5c42\uff0c\u901a\u8fc7\u6570\u636e\u5e93\u62bd\u8c61\u5c42\uff0c\u4e0a\u5c42\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u5411\u540e\u53f0\u4e0d\u540c\u7684\u6570\u636e\u5e93\u5199\u5165\u8981\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u4ece\u540e\u53f0\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u83b7\u5f97\u4e00\u81f4\u7684\u683c\u5f0f\u6240\u8868\u793a\u7684\u6570\u636e\u3002 \u76ee\u524dCeilometer\u652f\u63014\u4e2d\u4e0d\u540c\u7684\u6570\u636e\u5e93\u540e\u53f0\uff1aMongoDB,MySQL\uff0cPostgreSQL\u548cHbase\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u540c\u7684\u6570\u636e\u5e93\u540e\u53f0\uff0c\u6240\u652f\u6301\u7684\u529f\u80fd\u6027\u548c\u6027\u80fd\u6709\u6240\u4e0d\u540c\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u9009\u62e9\u3002 \u200b \u548cOpenStack\u4e2d\u5176\u4ed6\u7684\u9879\u76ee\u6bd4\u8d77\u6765\uff0cCeilometer\u6240\u4fdd\u5b58\u7684\u6570\u636e\u91cf\u4f1a\u5927\u5f88\u591a\u3002\u6240\u4ee5\u867d\u7136Ceilometer\u7684\u9ed8\u8ba4\u540e\u53f0\u6570\u636e\u5e93\u662fMySQL\uff0c\u4f46\u662f\u5728\u5386\u53f2\u4e0a\u4e00\u822c\u5efa\u8bae\u5728\u5b9e\u9645\u7684\u751f\u4ea7\u73af\u5883\u4e2d\u91c7\u7528MongoDB\u4e3a\u540e\u53f0\u6570\u636e\u5e93\u3002MongoDB\u4f5c\u4e3a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6709\u7740\u66f4\u591a\u66f4\u597d\u7684\u7279\u6027\u3002 \u6ce8\uff1aTelemetry\u793e\u533a\u76ee\u524d\u5efa\u8bae\u4f7f\u7528Gnocchi\u4ee3\u66ff\u4e0a\u9762\u6240\u8bf4\u7684\u6570\u636e\u5e93\u6765\u4fdd\u5b58\u91c7\u6837\u6570\u636e\u3002","title":"6.Storage/DB"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/","text":"OpenStack\u5206\u4eab\u7bc702 \u00b6 \u865a\u62df\u5316\u539f\u7406 \u00b6 \u865a\u62df\u5316\u7684\u76ee\u7684\u662f\u903b\u8f91\u8868\u793a\u81ea\u613f\uff0c\u6446\u8131\u7269\u7406\u9650\u5236\u7684\u675f\u7f1a\u3002\uff08\u7528\u8f6f\u4ef6\u5b9a\u4e49\u6216\u8005\u7528\u8f6f\u4ef6\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u8ba1\u7b97\u673a\u79f0\u4e4b\u4e3a\u865a\u62df\u5316\uff1b\u540c\u6837\u7684\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5b58\u50a8\uff0c\u865a\u62df\u5316\u7684\u7f51\u7edc\u7b49\uff09 \u5b9e\u73b0\u7684\u65b9\u5f0f\uff1a\u5728\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u865a\u62df\u5316\u5c42\uff0c\u865a\u62df\u5316\u5c42\u5c06\u4e0b\u5c42\u8d44\u6e90\u8fdb\u884c\u5c01\u88c5\uff0c\u62bd\u8c61\u6210\u53e6\u4e00\u79cd\u5f62\u5f0f\u7684\u8d44\u6e90\uff0c\u63d0\u4f9b\u7ed9\u4e0a\u5c42\u4f7f\u7528\u3002\u5982\u4f55\u5b9e\u73b0 CPU\u7684\u865a\u62df\u5316 \uff0c\u6362\u8a00\u4e4b\uff0c\u5982\u4f55\u5c06\u4e00\u4e2a CPU\u865a\u62df\u6210\u591a\u4e2avirtual CPU\u63d0\u4f9b\u7ed9\u6211\u4eec\u521b\u5efa\u7684\u865a\u62df\u673a\u4f7f\u7528\u5462 \uff1f\u4f60\u5728\u4f7f\u7528 vCPU\u7684\u65f6\u5019\u5230\u5e95\u4f7f\u7528\u7684\u662f\u4ec0\u4e48 \uff1f\u5176\u5b9e\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u90fd\u80fd\u5b8c\u6210 CPU\u7684\u865a\u62df\u5316 \uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u5206\u65f6\uff08 Time shareing \uff09\u7684\u65b9\u5f0f\uff0c\u5c06 CPU\u7684\u4f9b\u652f\u914d\u7684\u65f6\u95f4\u5206\u7ed9\u4e0d\u540c\u7684VM\u8fdb\u884c\u4f7f\u7528 \u3002\u5177\u4f53\u6765\u8bf4\u5c31\u662f\u8bb2\u65f6\u95f4\u8fdb\u884c\u5207\u7247\uff0c\u4f8b\u5982\u5c06\u65f6\u95f4\u7247\u5206\u4e3a 1 ms \uff0c\u90a3\u4e48\u6bcf\u4e2a\u7a0b\u5e8f\u6216\u8005\u4e1a\u52a1\u90fd\u72ec\u4eab 1 ms\u7684CPU\u4f7f\u7528\u65f6\u95f4 \uff0c\u5982\u679c\u6b64\u65f6\u6709\u4e24\u4e2a\u7a0b\u5e8f\u6216\u8005\u8bf4\u662f\u6211\u4eec\u8fd9\u91cc\u7684\u865a\u62df\u673a\uff0c\u90a3\u4e48\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u8f6e\u6d41\u7684\u4f7f\u7528 1 ms\u7684CPU \uff0c\u5728\u5fae\u89c2\u4e0a\u7a0b\u5e8f\u7684\u8fd0\u884c\u662f\u8d70\u8d70\u505c\u505c\uff0c\u5728\u5b8f\u89c2\u4e0a\u7a0b\u52cb\u7684\u8fd0\u884c\u662f\u8fde\u8d2f\u7684\u3002\u5728\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u5f0f\u4e0a\u53c8\u6709\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5\uff0c\u5148\u6765\u5148\u670d\u52a1\u7b97\u6cd5\u7b49\uff0c\u5728\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002 \u865a\u62df\u673a\uff08Virtual Machine\uff09 \u00b6 \u7531\u865a\u62df\u5316\u5c42\u63d0\u4f9b\u9ad8\u6548\uff0c\u72ec\u7acb\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf \u62e5\u6709\u81ea\u5df1\u7684\u865a\u62df\u786c\u4ef6\uff08CPU \u5185\u5b58 \u7f51\u7edc\u8bbe\u5907 \u5b58\u50a8\u8bbe\u5907\uff09 \u5bf9\u4e8e\u4e0a\u5c42\u8f6f\u4ef6\uff0c\u865a\u62df\u673a\u5c31\u662f\u771f\u5b9e\u7684\u673a\u5668\uff08\u8fd0\u884c\u5728VM\u4e0a\u5e94\u7528\u548c\u670d\u52a1\u662f\u65e0\u611f\u77e5\u7684\uff09 VMM\uff08Virtual Machine Monitor\uff09\uff1a\u865a\u62df\u76d1\u89c6\u5668 \u4ee5\u865a\u62df\u76d1\u89c6\u5668VMM\u6216\u8005hypervison\u4f5c\u4e3a\u5206\u754c\u7ebf\uff1b\u6211\u4eec\u7b3c\u7edf\u7684\u5c06\u865a\u62df\u5316\u5206\u4e3a\u4e0a\u4e0b\u4e24\u5c42\u3002\u4e0a\u5c42\u662fGuest\uff0c\u4f7f\u7528\u7684\u662fVMM\u63d0\u4f9b\u7684\u5404\u79cd\u865a\u62df\u5316\u7684\u8d44\u6e90\u6784\u5efa\u7684\u865a\u62df\u673a\u3002\u4e0b\u5c42\u5219\u662fHost\uff0cHost\u63d0\u4f9bVMM\u6240\u9700\u7684\u5404\u79cd\u7269\u7406\u8d44\u6e90\u4ee5\u4fbfVMM\u5c06\u5176\u865a\u62df\u5316\uff0c\u5e76\u4e14\u63d0\u4f9b\u7ed9\u4e0a\u5c42\u7684Guest\u4f7f\u7528\u3002 VM\u7684\u7279\u5f81 \u00b6 \u540c\u8d28\uff1a\u91cf\u53ef\u4ee5\u4e0d\u540c\uff0c\u8d28\u4e0e\u7269\u7406\u673a\u672c\u8d28\u76f8\u540c\uff0c\u4f8b\u5982 CPU\u7684ISA \uff08\u6307\u4ee4\u96c6\u67b6\u6784 Instruction Set Architecture \uff09 \u9ad8\u6548\uff1a\u6027\u80fd\u4e0e\u7269\u7406\u673a\u5927\u81f4\u76f8\u5f53\uff0c\u5927\u591a\u6570\u6307\u4ee4\u5728\u786c\u4ef6\u76f4\u63a5\u6267\u884c\uff0c\u53ea\u6709\u5c11\u91cf\u7531 VMM\u6a21\u62df\u5904\u7406 \u8d44\u6e90\u53ef\u63a7\uff0c VMM\u5bf9\u7269\u7406\u673a \uff0c\u865a\u62df\u673a\u7684\u8d44\u6e90\u7edd\u5bf9\u53ef\u63a7 \u865a\u62df\u5316\u7684\u539f\u7406 \u00b6 \u5168\u865a\u62df\u5316\uff08Full Virtualization\uff09 \u00b6 \u62bd\u8c61\u7684VM\u5177\u6709\u5b8c\u5168\u7684\u7269\u7406\u673a\u7684\u7279\u8d28\uff0cOS\u5728\u5176\u4e0a\u8fd0\u884c\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u4fee\u6539\u3002\u5178\u578b\u7684\u6709VMware\uff0cVirtualBox\uff0cKVM-x86 \u534a\u865a\u62df\u5316\uff08Paravirtualization\uff09 \u00b6 \u9700\u8981OS\u534f\u52a9\u7684\u865a\u62df\u5316\uff0c\u5728\u9a91\u4e0a\u8fd0\u884cOS\u9700\u8981\u4fee\u6539\u3002\u8d77\u521d\u91c7\u7528\u662f\u4e3a\u4e86\u89e3\u51b3x86\u4f53\u7cfb\u7ed3\u6784\u4e0a\u5b8c\u5168\u865a\u62df\u5316\u7684\u56f0\u96be\uff08\u6ca1\u6709Intel VT&AMD-V\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u7684\u652f\u6301\uff1b\u4e14\u4e0d\u5c51\u4e8e\u52a8\u6001\u626b\u63cf\u6307\u4ee4\u4fee\u8865\u7684\u65b9\u6cd5\u6027\u80fd\u3002\uff09\u540e\u6765\u5219\u662f\u4e3b\u8981\u4e3a\u4e86\u63d0\u9ad8\u865a\u62df\u5316\u7684\u6548\u7387\u3002\u5178\u578b\u7684\u6709Xen\uff0cKVM-PowerPC\u7b49\u3002 CPU\u67b6\u6784\uff08x86\uff09 \u00b6 image-20200430002433824.png CPU\u4e00\u822c\u4f1a\u5206\u4e3a\u7528\u6237\u6001\u548c\u6838\u5fc3\u6001\u3002\uff08\u4e0d\u540c\u67b6\u6784\u7684CPU\u7684\u6307\u4ee4\u7b49\u7ea7\u662f\u4e0d\u540c\u7684\uff09 X86\u7684\u72b6\u6001\u66f4\u591a\u5206\u4e3aRing 0 Ring1 Ring2 Ring3 CPU\u4e3a\u5565\u8981\u5206\u4e3a\u8fd9\u4e48\u591a\u72b6\u6001\u5462\uff1f \u4e00\u822c\u6765\u8bf4\u662f\u4e3a\u4e86\u4ee3\u7801\u6267\u884c\u7684\u5b89\u5168\uff0c\u5728\u65e9\u671f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u7531\u4e8e\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u7684\u6c34\u5e73\u53c2\u5dee\u4e0d\u9f50\uff0c\u53ef\u80fd\u4e00\u4e2a\u8f6f\u4ef6\u80fd\u591f\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u7684\u5d29\u6e83\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u4ee3\u7801\u4e4b\u95f4\u7684\u9694\u79bb\u4e0d\u591f\u597d\uff0c\u4e00\u4e2a\u4eba\u5199\u7684\u7a0b\u5e8f\u4ee3\u7801\u53ef\u80fd\u4f1a\u5f71\u54cd\u53e6\u4e00\u4e2a\u4eba\u3002\u751a\u81f3\u5f71\u54cd\u6838\u5fc3\u4ee3\u7801\u5bfc\u81f4\u7cfb\u7edf\u5954\u6e83\u3002 \u5236\u9020CPU\u7684\u786c\u4ef6\u5382\u5546\u5c06\u6307\u4ee4\u5206\u4e3a\u7528\u6237\u6001\u548c\u6838\u5fc3\u6001\u3002\u4e00\u4e9b\u786c\u4ef6\u9700\u8981\u5728\u5904\u5728\u6838\u5fc3\u6001\u7684\u64cd\u4f5c\u7cfb\u7edf\u624d\u80fd\u591f\u6267\u884c\uff0c\u800c\u666e\u901a\u7684\u8f6f\u4ef6\u5904\u5728\u7528\u6237\u6001\u3002\u5e94\u7528\u8f6f\u4ef6\u5982\u679c\u60f3\u8981\u901a\u8fc7API\u8c03\u7528\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u4f1a\u88ab\u5904\u4e8e\u6838\u5fc3\u6001\u7684\u64cd\u4f5c\u7cfb\u7edf\u6355\u83b7\uff0c\u4ece\u800c\u4ea7\u751f\u5f02\u5e38\u51fa\u9519\u3002 \u7279\u6743\u89e3\u9664\u4e0e\u9677\u5165\u6a21\u62df\uff1a\u865a\u62df\u5316\u7684\u5173\u952e \u00b6 \u5c06GuestOS\u8fd0\u884c\u5728\u975e\u7279\u6743\u7ea7\u522b\uff08\u7279\u6743\u89e3\u9664\uff09\uff0c\u800c\u5c06VMM\u8fd0\u884c\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u522b\uff08\u5b8c\u5168\u63a7\u5236\uff09\u3002 \u89e3\u9664\u4e86Guest OS\u7684\u7279\u6743\u540e\uff0cGuest OS\u7684\u5927\u90e8\u5206\u6307\u4ee4\u4ecd\u53ef\u4ee5\u5728\u786c\u4ef6\u4e0a\u76f4\u63a5\u8fd0\u884c\uff0c\u53ea\u6709\u5f53\u6267\u884c\u5230\u7279\u6743\u6307\u4ee4\u65f6\uff0c\u624d\u4f1a\u9677\u5165\u5230VMM\u6a21\u62df\u6267\u884c\uff08\u9677\u5165-\u6a21\u62df\uff09\u3002 \u5728\u4e0a\u56fe\u4e2dHost OS\u8fd0\u884c\u5728Ring0\u5f53\u4e2d\uff0c\u80fd\u591f\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u3002VMM\u8fd0\u884c\u5728Ring3\u7ea7\u522b\uff0c\u65e0\u6cd5\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u3002Guest OS\u4f5c\u4e3aVM\u4e0a\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u663e\u7136\u662f\u9700\u8981\u9a71\u52a8\u786c\u4ef6\u7684\uff0cVM\u6a21\u62df\u51fa\u6765\u7684\u786c\u4ef6\u4e5f\u662f\u786c\u4ef6\u3002\u4f46\u662f\u73b0\u5b9eGuestOS\u5e76\u4e0d\u5728Ring0\u7ea7\u522b\uff0c\u53ef\u80fd\u5904\u4e8eRing1-Ring3\u4e4b\u95f4\u3002\u90a3\u4e48Guest OS\u5e94\u8be5\u5982\u4f55\u9a71\u52a8\u786c\u4ef6\u5462\uff1f \u5728\u8fd9\u91cc\u6211\u4e48\u8ba8\u8bba\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u5168\u865a\u62df\u5316\uff0c\u4e00\u79cd\u662f\u534a\u865a\u62df\u5316\u3002 \u5168\u865a\u62df\u5316\u7684\u60c5\u51b5\uff1a \u7531\u4e8eGuest OS\u5904\u5728\u975e\u6838\u5fc3\u6001\uff0c\u4e0d\u80fd\u4f7f\u7528Ring0\u6307\u4ee4\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u53bb\u6a21\u62df\u6838\u5fc3\u7684\u6307\u4ee4\uff08\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u53bb\u4ee3\u66ff\u6838\u5fc3\u6001\u7684\u6307\u4ee4\uff09\u5f53GuestOS\u53d1\u51faRing0\u7ea7\u522b\u7684\u6307\u4ee4\u65f6\uff0cVMM\u6355\u83b7\u8fd9\u4e9b\u6307\u4ee4\u6267\u884c\u7ffb\u8bd1\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u975e\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u6267\u884c\u3002\u6b64\u65f6VMM\u9700\u8981\u5b9e\u65f6\u76d1\u63a7GuestOS\u5e76\u4e14\u8fdb\u884c\u5b9e\u65f6\u7684\u6307\u4ee4\u7ffb\u8bd1\uff0c\u4f1a\u5bf9VMM\u5e26\u6765\u8f83\u5927\u7684\u5f00\u9500\u3002VMM\u8fdb\u884cRing0\u6307\u4ee4\u7684\u52a8\u6001\u7ffb\u8bd1\uff0c\u7531\u4e8e\u6709\u4e86\u8fd9\u4e2a\u7ffb\u8bd1\u7684\u8fc7\u7a0b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6267\u884c\u8d77\u6765\u4f1a\u6bd4\u8f83\u6162\u3002\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e4b\u4e3a\uff08\u9677\u5165\u6a21\u62df\uff09 \u534a\u865a\u62df\u5316\u7684\u60c5\u51b5\uff1a\u57fa \u4fee\u6539GusetSO\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ee3\u7801\uff0c\u5c06\u6838\u5fc3\u6001\u6307\u4ee4\u4f7f\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u8fdb\u884c\u6539\u5199\u6216\u8005\u66ff\u6362\u3002\u8fd9\u79cd\u9700\u8981\u4fee\u6539\u64cd\u4f5c\u7cfb\u7edf\u3002\u79f0\u4e4b\u4e3a\u7279\u6743\u89e3\u9664\u3002 \u4e3b\u8981\u7684\u865a\u62df\u5316\u6d41\u6d3e \u00b6 \u57fa\u4e8e\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7684\u5168\u865a\u62df\u5316 \u00b6 \u5176\u4e3b\u8981\u601d\u60f3\u662f\u5728\u6267\u884cVM\u4e0a\u6267\u884cGuestOS\u6307\u4ee4\u65f6\uff0c\u7ffb\u8bd1\u6210X86ISA\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u5176\u4e2d\u7684\u654f\u611f\u6307\u4ee4\u88ab\u66ff\u6362\u6210\u9677\u5165\u6307\u4ee4\u3002\uff08\u654f\u611f\u6307\u4ee4\u7531VMM\u6355\u83b7\u7ffb\u8bd1\u6210\u975e\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u6267\u884c\uff09 \u7ffb\u8bd1\u8fc7\u7a0b\u548c\u6307\u4ee4\u6267\u884c\u4ea4\u53c9\u8fdb\u884c \u4e0d\u542b\u654f\u611f\u6307\u4ee4\u7684\u7528\u6237\u6001\u7a0b\u5e8f\u53ef\u4ee5\u4e0d\u7ecf\u7ffb\u8bd1\u76f4\u63a5\u6267\u884c \u8be5\u6280\u672f\u4e3aVMware WorkStation,VMware ESX Server\u65e9\u671f\u7248\u672c\uff0cVirtual PC\u4ee5\u53caQEMU\uff08\u5feb\u901f\u6a21\u62df\u5668\uff09\u91c7\u7528\u3002 \u57fa\u4e8e\u626b\u63cf\u4fee\u8865\u7684\u5168\u865a\u62df\u5316 \u00b6 VMM\u4f1a\u5728VM\u8fd0\u884c\u6bcf\u5757\u6307\u4ee4\u4e4b\u524d\u5bf9\u9f50\u8fdb\u884c\u626b\u63cf\uff0c\u67e5\u627e\u654f\u611f\u6307\u4ee4 \u8865\u4e01\u6307\u4ee4\u5757\u4f1a\u5728VMM\u4e2d\u52a8\u6001\u751f\u6210\uff0c\u901a\u5e38\u6bcf\u4e00\u4e2a\u9700\u8981\u4fee\u8865\u7684\u626b\u63cf\u6307\u4ee4\u4f1a\u5bf9\u5e94\u4e00\u5757\u8865\u4e01\u6307\u4ee4 \u654f\u611f\u6307\u4ee4\u88ab\u66ff\u6362\u6210\u4e00\u4e2a\u5916\u8df3\u5757\uff0c\u4eceVM\u8df3\u8f6c\u5230VMM\uff0c\u5728VMM\u4e2d\u6267\u884c\u52a8\u6001\u751f\u6210\u7684\u8865\u4e01\u6307\u4ee4\u5757 \u5f53\u8865\u4e01\u6307\u4ee4\u5feb\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6267\u884c\u6d41\u518d\u8df3\u8f6c\u56deVM\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u5904\u7ee7\u7eed\u6267\u884c SUN\u7684VirtualBox\u91c7\u7528\u8be5\u6280\u672f OS\u534f\u52a9\u7684\u865a\u62df\u5316 \u00b6 \u901a\u8fc7\u4fee\u6539Guest OS\u7684\u4ee3\u7801\uff0c\u5c06\u5e26\u6709\u654f\u611f\u6307\u4ee4\u7684\u64cd\u4f5c\uff0c\u66ff\u6362\u4e3a\u5bf9VMM\u7684\u8d85\u8c03\u7528\uff08Hypercall\uff0c\u7c7b\u4f3c\u4e8eOS\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u53ef\u5c06\u63a7\u5236\u6743\u8f6c\u79fb\u5230VMM\uff09 \u8be5\u6280\u672f\u7684\u4f18\u52bf\u5728\u4e8eVM\u7684\u6027\u80fd\u63a5\u8fd1\u4e8e\u7269\u7406\u673a\uff0c\u7f3a\u70b9\u5728\u4e8e\u9700\u8981\u4fee\u6539Guest OS \u8be5\u6280\u672f\u56e0Xen\u5e7f\u4e3a\u4eba\u77e5 \u786c\u4ef6\u534f\u52a9\u7684\u865a\u62df\u5316 \u00b6 \u5f15\u5165\u65b0\u7684\u5904\u7406\u5668\u8fd0\u884c\u6a21\u5f0f\u548c\u65b0\u7684\u6307\u4ee4\u96c6\uff0c\u4f7f\u5f97VMM\u548cGuestOS\u8fd0\u884c\u4e8e\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b\uff0cGuest OS\u8fd0\u884c\u4e8e\u53d7\u63a7\u6a21\u5f0f\uff0c\u539f\u6765\u7684\u4e00\u4e9b\u654f\u611f\u6307\u4ee4\u5728\u53d7\u63a7\u6a21\u5f0f\u4e0b\u5168\u90e8\u4f1a\u9677\u5165VMM\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u90e8\u5206\u975e\u7279\u6743\u654f\u611f\u7d2b\u83f1\u7684\u9677\u5165--\u6a21\u62df\u96be\u9898\uff0c\u800c\u4e14\u5207\u6362\u65f6\u4e0a\u4e0b\u6587\u7684\u4fdd\u5b58\u6062\u590d\u5168\u7531\u786c\u4ef6\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u63d0\u9ad8\u4e86\u9677\u5165-\u6a21\u62df\u65f6\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u6548\u7387\u3002 \u8be5\u6280\u672f\u7684\u5f15\u5165\u4f7f\u5f97X86\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9e\u73b0\u5b8c\u5168\u865a\u62df\u5316\u3002\u76ee\u524d\u5df2\u88ab\u5e7f\u6cdb\u91c7\u7eb3\u3002 \u5907\u6ce8\uff1aOpenStack cloud computing cookbook \u00b6","title":"OpenStack  \u5206\u4eab\u7bc72"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#openstack02","text":"","title":"OpenStack\u5206\u4eab\u7bc702"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_1","text":"\u865a\u62df\u5316\u7684\u76ee\u7684\u662f\u903b\u8f91\u8868\u793a\u81ea\u613f\uff0c\u6446\u8131\u7269\u7406\u9650\u5236\u7684\u675f\u7f1a\u3002\uff08\u7528\u8f6f\u4ef6\u5b9a\u4e49\u6216\u8005\u7528\u8f6f\u4ef6\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u8ba1\u7b97\u673a\u79f0\u4e4b\u4e3a\u865a\u62df\u5316\uff1b\u540c\u6837\u7684\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\u7684\u5b58\u50a8\uff0c\u865a\u62df\u5316\u7684\u7f51\u7edc\u7b49\uff09 \u5b9e\u73b0\u7684\u65b9\u5f0f\uff1a\u5728\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u865a\u62df\u5316\u5c42\uff0c\u865a\u62df\u5316\u5c42\u5c06\u4e0b\u5c42\u8d44\u6e90\u8fdb\u884c\u5c01\u88c5\uff0c\u62bd\u8c61\u6210\u53e6\u4e00\u79cd\u5f62\u5f0f\u7684\u8d44\u6e90\uff0c\u63d0\u4f9b\u7ed9\u4e0a\u5c42\u4f7f\u7528\u3002\u5982\u4f55\u5b9e\u73b0 CPU\u7684\u865a\u62df\u5316 \uff0c\u6362\u8a00\u4e4b\uff0c\u5982\u4f55\u5c06\u4e00\u4e2a CPU\u865a\u62df\u6210\u591a\u4e2avirtual CPU\u63d0\u4f9b\u7ed9\u6211\u4eec\u521b\u5efa\u7684\u865a\u62df\u673a\u4f7f\u7528\u5462 \uff1f\u4f60\u5728\u4f7f\u7528 vCPU\u7684\u65f6\u5019\u5230\u5e95\u4f7f\u7528\u7684\u662f\u4ec0\u4e48 \uff1f\u5176\u5b9e\u6709\u5f88\u591a\u7684\u65b9\u5f0f\u90fd\u80fd\u5b8c\u6210 CPU\u7684\u865a\u62df\u5316 \uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u5206\u65f6\uff08 Time shareing \uff09\u7684\u65b9\u5f0f\uff0c\u5c06 CPU\u7684\u4f9b\u652f\u914d\u7684\u65f6\u95f4\u5206\u7ed9\u4e0d\u540c\u7684VM\u8fdb\u884c\u4f7f\u7528 \u3002\u5177\u4f53\u6765\u8bf4\u5c31\u662f\u8bb2\u65f6\u95f4\u8fdb\u884c\u5207\u7247\uff0c\u4f8b\u5982\u5c06\u65f6\u95f4\u7247\u5206\u4e3a 1 ms \uff0c\u90a3\u4e48\u6bcf\u4e2a\u7a0b\u5e8f\u6216\u8005\u4e1a\u52a1\u90fd\u72ec\u4eab 1 ms\u7684CPU\u4f7f\u7528\u65f6\u95f4 \uff0c\u5982\u679c\u6b64\u65f6\u6709\u4e24\u4e2a\u7a0b\u5e8f\u6216\u8005\u8bf4\u662f\u6211\u4eec\u8fd9\u91cc\u7684\u865a\u62df\u673a\uff0c\u90a3\u4e48\u6bcf\u4e2a\u865a\u62df\u673a\u90fd\u8f6e\u6d41\u7684\u4f7f\u7528 1 ms\u7684CPU \uff0c\u5728\u5fae\u89c2\u4e0a\u7a0b\u5e8f\u7684\u8fd0\u884c\u662f\u8d70\u8d70\u505c\u505c\uff0c\u5728\u5b8f\u89c2\u4e0a\u7a0b\u52cb\u7684\u8fd0\u884c\u662f\u8fde\u8d2f\u7684\u3002\u5728\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u5f0f\u4e0a\u53c8\u6709\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5\uff0c\u5148\u6765\u5148\u670d\u52a1\u7b97\u6cd5\u7b49\uff0c\u5728\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002","title":"\u865a\u62df\u5316\u539f\u7406"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#virtual-machine","text":"\u7531\u865a\u62df\u5316\u5c42\u63d0\u4f9b\u9ad8\u6548\uff0c\u72ec\u7acb\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf \u62e5\u6709\u81ea\u5df1\u7684\u865a\u62df\u786c\u4ef6\uff08CPU \u5185\u5b58 \u7f51\u7edc\u8bbe\u5907 \u5b58\u50a8\u8bbe\u5907\uff09 \u5bf9\u4e8e\u4e0a\u5c42\u8f6f\u4ef6\uff0c\u865a\u62df\u673a\u5c31\u662f\u771f\u5b9e\u7684\u673a\u5668\uff08\u8fd0\u884c\u5728VM\u4e0a\u5e94\u7528\u548c\u670d\u52a1\u662f\u65e0\u611f\u77e5\u7684\uff09 VMM\uff08Virtual Machine Monitor\uff09\uff1a\u865a\u62df\u76d1\u89c6\u5668 \u4ee5\u865a\u62df\u76d1\u89c6\u5668VMM\u6216\u8005hypervison\u4f5c\u4e3a\u5206\u754c\u7ebf\uff1b\u6211\u4eec\u7b3c\u7edf\u7684\u5c06\u865a\u62df\u5316\u5206\u4e3a\u4e0a\u4e0b\u4e24\u5c42\u3002\u4e0a\u5c42\u662fGuest\uff0c\u4f7f\u7528\u7684\u662fVMM\u63d0\u4f9b\u7684\u5404\u79cd\u865a\u62df\u5316\u7684\u8d44\u6e90\u6784\u5efa\u7684\u865a\u62df\u673a\u3002\u4e0b\u5c42\u5219\u662fHost\uff0cHost\u63d0\u4f9bVMM\u6240\u9700\u7684\u5404\u79cd\u7269\u7406\u8d44\u6e90\u4ee5\u4fbfVMM\u5c06\u5176\u865a\u62df\u5316\uff0c\u5e76\u4e14\u63d0\u4f9b\u7ed9\u4e0a\u5c42\u7684Guest\u4f7f\u7528\u3002","title":"\u865a\u62df\u673a\uff08Virtual Machine\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#vm","text":"\u540c\u8d28\uff1a\u91cf\u53ef\u4ee5\u4e0d\u540c\uff0c\u8d28\u4e0e\u7269\u7406\u673a\u672c\u8d28\u76f8\u540c\uff0c\u4f8b\u5982 CPU\u7684ISA \uff08\u6307\u4ee4\u96c6\u67b6\u6784 Instruction Set Architecture \uff09 \u9ad8\u6548\uff1a\u6027\u80fd\u4e0e\u7269\u7406\u673a\u5927\u81f4\u76f8\u5f53\uff0c\u5927\u591a\u6570\u6307\u4ee4\u5728\u786c\u4ef6\u76f4\u63a5\u6267\u884c\uff0c\u53ea\u6709\u5c11\u91cf\u7531 VMM\u6a21\u62df\u5904\u7406 \u8d44\u6e90\u53ef\u63a7\uff0c VMM\u5bf9\u7269\u7406\u673a \uff0c\u865a\u62df\u673a\u7684\u8d44\u6e90\u7edd\u5bf9\u53ef\u63a7","title":"VM\u7684\u7279\u5f81"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_2","text":"","title":"\u865a\u62df\u5316\u7684\u539f\u7406"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#full-virtualization","text":"\u62bd\u8c61\u7684VM\u5177\u6709\u5b8c\u5168\u7684\u7269\u7406\u673a\u7684\u7279\u8d28\uff0cOS\u5728\u5176\u4e0a\u8fd0\u884c\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u4fee\u6539\u3002\u5178\u578b\u7684\u6709VMware\uff0cVirtualBox\uff0cKVM-x86","title":"\u5168\u865a\u62df\u5316\uff08Full Virtualization\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#paravirtualization","text":"\u9700\u8981OS\u534f\u52a9\u7684\u865a\u62df\u5316\uff0c\u5728\u9a91\u4e0a\u8fd0\u884cOS\u9700\u8981\u4fee\u6539\u3002\u8d77\u521d\u91c7\u7528\u662f\u4e3a\u4e86\u89e3\u51b3x86\u4f53\u7cfb\u7ed3\u6784\u4e0a\u5b8c\u5168\u865a\u62df\u5316\u7684\u56f0\u96be\uff08\u6ca1\u6709Intel VT&AMD-V\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u7684\u652f\u6301\uff1b\u4e14\u4e0d\u5c51\u4e8e\u52a8\u6001\u626b\u63cf\u6307\u4ee4\u4fee\u8865\u7684\u65b9\u6cd5\u6027\u80fd\u3002\uff09\u540e\u6765\u5219\u662f\u4e3b\u8981\u4e3a\u4e86\u63d0\u9ad8\u865a\u62df\u5316\u7684\u6548\u7387\u3002\u5178\u578b\u7684\u6709Xen\uff0cKVM-PowerPC\u7b49\u3002","title":"\u534a\u865a\u62df\u5316\uff08Paravirtualization\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#cpux86","text":"image-20200430002433824.png CPU\u4e00\u822c\u4f1a\u5206\u4e3a\u7528\u6237\u6001\u548c\u6838\u5fc3\u6001\u3002\uff08\u4e0d\u540c\u67b6\u6784\u7684CPU\u7684\u6307\u4ee4\u7b49\u7ea7\u662f\u4e0d\u540c\u7684\uff09 X86\u7684\u72b6\u6001\u66f4\u591a\u5206\u4e3aRing 0 Ring1 Ring2 Ring3 CPU\u4e3a\u5565\u8981\u5206\u4e3a\u8fd9\u4e48\u591a\u72b6\u6001\u5462\uff1f \u4e00\u822c\u6765\u8bf4\u662f\u4e3a\u4e86\u4ee3\u7801\u6267\u884c\u7684\u5b89\u5168\uff0c\u5728\u65e9\u671f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u7531\u4e8e\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u7684\u6c34\u5e73\u53c2\u5dee\u4e0d\u9f50\uff0c\u53ef\u80fd\u4e00\u4e2a\u8f6f\u4ef6\u80fd\u591f\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u7684\u5d29\u6e83\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u4ee3\u7801\u4e4b\u95f4\u7684\u9694\u79bb\u4e0d\u591f\u597d\uff0c\u4e00\u4e2a\u4eba\u5199\u7684\u7a0b\u5e8f\u4ee3\u7801\u53ef\u80fd\u4f1a\u5f71\u54cd\u53e6\u4e00\u4e2a\u4eba\u3002\u751a\u81f3\u5f71\u54cd\u6838\u5fc3\u4ee3\u7801\u5bfc\u81f4\u7cfb\u7edf\u5954\u6e83\u3002 \u5236\u9020CPU\u7684\u786c\u4ef6\u5382\u5546\u5c06\u6307\u4ee4\u5206\u4e3a\u7528\u6237\u6001\u548c\u6838\u5fc3\u6001\u3002\u4e00\u4e9b\u786c\u4ef6\u9700\u8981\u5728\u5904\u5728\u6838\u5fc3\u6001\u7684\u64cd\u4f5c\u7cfb\u7edf\u624d\u80fd\u591f\u6267\u884c\uff0c\u800c\u666e\u901a\u7684\u8f6f\u4ef6\u5904\u5728\u7528\u6237\u6001\u3002\u5e94\u7528\u8f6f\u4ef6\u5982\u679c\u60f3\u8981\u901a\u8fc7API\u8c03\u7528\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u4f1a\u88ab\u5904\u4e8e\u6838\u5fc3\u6001\u7684\u64cd\u4f5c\u7cfb\u7edf\u6355\u83b7\uff0c\u4ece\u800c\u4ea7\u751f\u5f02\u5e38\u51fa\u9519\u3002","title":"CPU\u67b6\u6784\uff08x86\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_3","text":"\u5c06GuestOS\u8fd0\u884c\u5728\u975e\u7279\u6743\u7ea7\u522b\uff08\u7279\u6743\u89e3\u9664\uff09\uff0c\u800c\u5c06VMM\u8fd0\u884c\u5728\u6700\u9ad8\u7279\u6743\u7ea7\u522b\uff08\u5b8c\u5168\u63a7\u5236\uff09\u3002 \u89e3\u9664\u4e86Guest OS\u7684\u7279\u6743\u540e\uff0cGuest OS\u7684\u5927\u90e8\u5206\u6307\u4ee4\u4ecd\u53ef\u4ee5\u5728\u786c\u4ef6\u4e0a\u76f4\u63a5\u8fd0\u884c\uff0c\u53ea\u6709\u5f53\u6267\u884c\u5230\u7279\u6743\u6307\u4ee4\u65f6\uff0c\u624d\u4f1a\u9677\u5165\u5230VMM\u6a21\u62df\u6267\u884c\uff08\u9677\u5165-\u6a21\u62df\uff09\u3002 \u5728\u4e0a\u56fe\u4e2dHost OS\u8fd0\u884c\u5728Ring0\u5f53\u4e2d\uff0c\u80fd\u591f\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u3002VMM\u8fd0\u884c\u5728Ring3\u7ea7\u522b\uff0c\u65e0\u6cd5\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u3002Guest OS\u4f5c\u4e3aVM\u4e0a\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u663e\u7136\u662f\u9700\u8981\u9a71\u52a8\u786c\u4ef6\u7684\uff0cVM\u6a21\u62df\u51fa\u6765\u7684\u786c\u4ef6\u4e5f\u662f\u786c\u4ef6\u3002\u4f46\u662f\u73b0\u5b9eGuestOS\u5e76\u4e0d\u5728Ring0\u7ea7\u522b\uff0c\u53ef\u80fd\u5904\u4e8eRing1-Ring3\u4e4b\u95f4\u3002\u90a3\u4e48Guest OS\u5e94\u8be5\u5982\u4f55\u9a71\u52a8\u786c\u4ef6\u5462\uff1f \u5728\u8fd9\u91cc\u6211\u4e48\u8ba8\u8bba\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u5168\u865a\u62df\u5316\uff0c\u4e00\u79cd\u662f\u534a\u865a\u62df\u5316\u3002 \u5168\u865a\u62df\u5316\u7684\u60c5\u51b5\uff1a \u7531\u4e8eGuest OS\u5904\u5728\u975e\u6838\u5fc3\u6001\uff0c\u4e0d\u80fd\u4f7f\u7528Ring0\u6307\u4ee4\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u53bb\u6a21\u62df\u6838\u5fc3\u7684\u6307\u4ee4\uff08\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u53bb\u4ee3\u66ff\u6838\u5fc3\u6001\u7684\u6307\u4ee4\uff09\u5f53GuestOS\u53d1\u51faRing0\u7ea7\u522b\u7684\u6307\u4ee4\u65f6\uff0cVMM\u6355\u83b7\u8fd9\u4e9b\u6307\u4ee4\u6267\u884c\u7ffb\u8bd1\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a\u975e\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u6267\u884c\u3002\u6b64\u65f6VMM\u9700\u8981\u5b9e\u65f6\u76d1\u63a7GuestOS\u5e76\u4e14\u8fdb\u884c\u5b9e\u65f6\u7684\u6307\u4ee4\u7ffb\u8bd1\uff0c\u4f1a\u5bf9VMM\u5e26\u6765\u8f83\u5927\u7684\u5f00\u9500\u3002VMM\u8fdb\u884cRing0\u6307\u4ee4\u7684\u52a8\u6001\u7ffb\u8bd1\uff0c\u7531\u4e8e\u6709\u4e86\u8fd9\u4e2a\u7ffb\u8bd1\u7684\u8fc7\u7a0b\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6267\u884c\u8d77\u6765\u4f1a\u6bd4\u8f83\u6162\u3002\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e4b\u4e3a\uff08\u9677\u5165\u6a21\u62df\uff09 \u534a\u865a\u62df\u5316\u7684\u60c5\u51b5\uff1a\u57fa \u4fee\u6539GusetSO\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ee3\u7801\uff0c\u5c06\u6838\u5fc3\u6001\u6307\u4ee4\u4f7f\u7528\u975e\u6838\u5fc3\u6001\u7684\u6307\u4ee4\u8fdb\u884c\u6539\u5199\u6216\u8005\u66ff\u6362\u3002\u8fd9\u79cd\u9700\u8981\u4fee\u6539\u64cd\u4f5c\u7cfb\u7edf\u3002\u79f0\u4e4b\u4e3a\u7279\u6743\u89e3\u9664\u3002","title":"\u7279\u6743\u89e3\u9664\u4e0e\u9677\u5165\u6a21\u62df\uff1a\u865a\u62df\u5316\u7684\u5173\u952e"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_4","text":"","title":"\u4e3b\u8981\u7684\u865a\u62df\u5316\u6d41\u6d3e"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_5","text":"\u5176\u4e3b\u8981\u601d\u60f3\u662f\u5728\u6267\u884cVM\u4e0a\u6267\u884cGuestOS\u6307\u4ee4\u65f6\uff0c\u7ffb\u8bd1\u6210X86ISA\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u5176\u4e2d\u7684\u654f\u611f\u6307\u4ee4\u88ab\u66ff\u6362\u6210\u9677\u5165\u6307\u4ee4\u3002\uff08\u654f\u611f\u6307\u4ee4\u7531VMM\u6355\u83b7\u7ffb\u8bd1\u6210\u975e\u7279\u6743\u6307\u4ee4\u8fdb\u884c\u6267\u884c\uff09 \u7ffb\u8bd1\u8fc7\u7a0b\u548c\u6307\u4ee4\u6267\u884c\u4ea4\u53c9\u8fdb\u884c \u4e0d\u542b\u654f\u611f\u6307\u4ee4\u7684\u7528\u6237\u6001\u7a0b\u5e8f\u53ef\u4ee5\u4e0d\u7ecf\u7ffb\u8bd1\u76f4\u63a5\u6267\u884c \u8be5\u6280\u672f\u4e3aVMware WorkStation,VMware ESX Server\u65e9\u671f\u7248\u672c\uff0cVirtual PC\u4ee5\u53caQEMU\uff08\u5feb\u901f\u6a21\u62df\u5668\uff09\u91c7\u7528\u3002","title":"\u57fa\u4e8e\u4e8c\u8fdb\u5236\u7ffb\u8bd1\u7684\u5168\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_6","text":"VMM\u4f1a\u5728VM\u8fd0\u884c\u6bcf\u5757\u6307\u4ee4\u4e4b\u524d\u5bf9\u9f50\u8fdb\u884c\u626b\u63cf\uff0c\u67e5\u627e\u654f\u611f\u6307\u4ee4 \u8865\u4e01\u6307\u4ee4\u5757\u4f1a\u5728VMM\u4e2d\u52a8\u6001\u751f\u6210\uff0c\u901a\u5e38\u6bcf\u4e00\u4e2a\u9700\u8981\u4fee\u8865\u7684\u626b\u63cf\u6307\u4ee4\u4f1a\u5bf9\u5e94\u4e00\u5757\u8865\u4e01\u6307\u4ee4 \u654f\u611f\u6307\u4ee4\u88ab\u66ff\u6362\u6210\u4e00\u4e2a\u5916\u8df3\u5757\uff0c\u4eceVM\u8df3\u8f6c\u5230VMM\uff0c\u5728VMM\u4e2d\u6267\u884c\u52a8\u6001\u751f\u6210\u7684\u8865\u4e01\u6307\u4ee4\u5757 \u5f53\u8865\u4e01\u6307\u4ee4\u5feb\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6267\u884c\u6d41\u518d\u8df3\u8f6c\u56deVM\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u5904\u7ee7\u7eed\u6267\u884c SUN\u7684VirtualBox\u91c7\u7528\u8be5\u6280\u672f","title":"\u57fa\u4e8e\u626b\u63cf\u4fee\u8865\u7684\u5168\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#os","text":"\u901a\u8fc7\u4fee\u6539Guest OS\u7684\u4ee3\u7801\uff0c\u5c06\u5e26\u6709\u654f\u611f\u6307\u4ee4\u7684\u64cd\u4f5c\uff0c\u66ff\u6362\u4e3a\u5bf9VMM\u7684\u8d85\u8c03\u7528\uff08Hypercall\uff0c\u7c7b\u4f3c\u4e8eOS\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u53ef\u5c06\u63a7\u5236\u6743\u8f6c\u79fb\u5230VMM\uff09 \u8be5\u6280\u672f\u7684\u4f18\u52bf\u5728\u4e8eVM\u7684\u6027\u80fd\u63a5\u8fd1\u4e8e\u7269\u7406\u673a\uff0c\u7f3a\u70b9\u5728\u4e8e\u9700\u8981\u4fee\u6539Guest OS \u8be5\u6280\u672f\u56e0Xen\u5e7f\u4e3a\u4eba\u77e5","title":"OS\u534f\u52a9\u7684\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#_7","text":"\u5f15\u5165\u65b0\u7684\u5904\u7406\u5668\u8fd0\u884c\u6a21\u5f0f\u548c\u65b0\u7684\u6307\u4ee4\u96c6\uff0c\u4f7f\u5f97VMM\u548cGuestOS\u8fd0\u884c\u4e8e\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b\uff0cGuest OS\u8fd0\u884c\u4e8e\u53d7\u63a7\u6a21\u5f0f\uff0c\u539f\u6765\u7684\u4e00\u4e9b\u654f\u611f\u6307\u4ee4\u5728\u53d7\u63a7\u6a21\u5f0f\u4e0b\u5168\u90e8\u4f1a\u9677\u5165VMM\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u90e8\u5206\u975e\u7279\u6743\u654f\u611f\u7d2b\u83f1\u7684\u9677\u5165--\u6a21\u62df\u96be\u9898\uff0c\u800c\u4e14\u5207\u6362\u65f6\u4e0a\u4e0b\u6587\u7684\u4fdd\u5b58\u6062\u590d\u5168\u7531\u786c\u4ef6\u6765\u5b8c\u6210\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u63d0\u9ad8\u4e86\u9677\u5165-\u6a21\u62df\u65f6\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u6548\u7387\u3002 \u8be5\u6280\u672f\u7684\u5f15\u5165\u4f7f\u5f97X86\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9e\u73b0\u5b8c\u5168\u865a\u62df\u5316\u3002\u76ee\u524d\u5df2\u88ab\u5e7f\u6cdb\u91c7\u7eb3\u3002","title":"\u786c\u4ef6\u534f\u52a9\u7684\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%872/#openstack-cloud-computing-cookbook","text":"","title":"\u5907\u6ce8\uff1aOpenStack cloud computing cookbook"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/","text":"KVM \u00b6 \u7f51\u7ad9\uff1a https://www.redhat.com/en/topics/virtualization/what-is-KVM KVM\u7684\u5386\u53f2 \u00b6 \u4ee5\u8272\u5217\u7684\u521b\u4e1a\u516c\u53f8Qumranet\u521b\u5efa\u4e86KVM \u00b6 \u200b \u65e9\u671f\u7684\u5f00\u53d1\u8005Avi Kivity \u200b 2006\u5e7410\u6708\uff0c\u5728\u5b8c\u6210\u57fa\u672c\u529f\u80fd\uff0c\u52a8\u6001\u8fc1\u79fb\uff0c\u4e3b\u8981\u7684\u6027\u80fd\u4f18\u5316\u540e\uff0c\u6b63\u5f0f\u5ba3\u5e03\u4e86KVM\u7684\u8bde\u751f\u3002 \u200b 2007\u5e742\u6708\u53d1\u5e03\u7684linux\u5185\u68382.6.20\u4e2d\uff0c\u6b63\u5f0f\u5305\u62ec\u4e86KVM \u200b 2008\u5e749\u6708Redhat\u516c\u53f8\u4ee51.7\u4ebf\u7f8e\u5143\u6536\u8d2d \u200b RHEL5.4\uff0c\u5728\u96c6\u62105.4\u7684\u57fa\u7840\u4e0a\uff0c\u53c8\u5c06KVM\u6dfb\u52a0\u8fdb\u6765 \u200b 2011\u5e7411\u6708\uff0cRHEL6\u4f7f\u7528KVM\u5f7b\u5e95\u66ff\u6362\u4e86Xen QEMU \u00b6 \u200b QEMU\u662f\u4e00\u4e2a\u901a\u7528\u7684\u5f00\u6e90\u7684\u786c\u4ef6\u6a21\u62df\u5668\u80fd\u591f\u6a21\u62df\u591a\u79cd\u786c\u4ef6 \u200b QEMU-KVM\u4ece\u5206\u652f\u5230\u4e3b\u5e72\u5408\u5e76\uff0cQEMU\u6210\u4e3aKVM\u5728\u7528\u6237\u63a7\u4ef6\u7684\u7ba1\u7406\u5de5\u5177 KVM\u67b6\u6784 \u00b6 KVM\u662f\u5185\u6838\u7684\u4e00\u4e2a\u6a21\u5757kvm.ko\uff0c\u7528\u6237\u901a\u8fc7QEMU\u6a21\u62df\u5668\u6a21\u62df\u786c\u4ef6\u63d0\u4f9b\u7ed9\u865a\u62df\u673a\u4f7f\u7528\uff0c\u4e00\u53f0\u865a\u62df\u673a\u8868\u73b0\u4e3a\u4e00\u4e2a\u666e\u901a\u7684linux\u8fdb\u7a0b\uff0c\u901a\u8fc7\u5bf9\u8fd9\u4e2a\u8fdb\u7a0b\u7684\u7ba1\u7406\uff0c\u5b9e\u73b0\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\u3002 \u56e0\u4e3a\u5bf9\u865a\u62df\u673a\u7684\u8fdb\u7a0b\u7ba1\u7406\u8f83\u4e3a\u9ebb\u70e6\uff0cRedHat\u53d1\u5e03\u4e86\u4e00\u4e2a\u5f00\u6e90\u9879\u76eeLibvirt\u3002Libvirt\u6709API\uff0c\u4e5f\u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u6210\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\uff0c\u5927\u591a\u6570\u7684\u7ba1\u7406\u5e73\u53f0\u90fd\u662f\u901a\u8fc7Libvirt\u6765\u5b8c\u6210\u5bf9KVM\u865a\u62df\u673a\u7684\u7ba1\u7406\uff0c\u6bd4\u5982openstack\uff0ccloudstack\uff0copennebula\u7b49\u3002 QEMU\u4e0eKVM \u00b6 QEMU\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5b9e\u9645\u4e0a\u662f\u4e00\u53f0\u786c\u4ef6\u6a21\u62df\u5668\uff0c\u53ef\u4ee5\u6a21\u62df\u8bb8\u591a\u786c\u4ef6\uff0c\u5305\u62ecX86\u67b6\u6784\u7684\u5904\u7406\u5668,AMD64\u67b6\u6784\u7684\u5904\u7406\u5668\uff0cMIPS R4000\uff0cARMv6/v7\uff0cSPARC sun3\u4e0ePowerPC\u67b6\u6784\uff0c\u8fd8\u652f\u6301\u5176\u4ed6\u67b6\u6784\u3002 QEMU\u662f\u7eaf\u8f6f\u4ef6\u6a21\u62df\uff0c\u901f\u5ea6\u76f8\u8f83\u4e8e\u5176\u4ed6\u7684\u6a21\u62df\u5668\u6162\u3002QEMU\u548cKVM\u4e00\u822c\u914d\u5408\u4f7f\u7528\u3002KVM\u662f\u4e00\u4e2a\u52a0\u8f7d\u5728\u5185\u6838\u4e2d\u7684\u8f6f\u4ef6\uff0c\u672c\u8eab\u4f53\u91cf\u8f83\u5c0f\uff0c\u5927\u6982\u53ea\u67092\u4e07\u884c\u4ee3\u7801\uff0c\u6240\u4ee5\u53ea\u80fd\u5b8c\u6210\u5bf9CPU\u548c\u5185\u5b58\u7684\u6a21\u62df\u3002\u5176\u4ed6\u7684\u786c\u4ef6\u4e00\u822c\u662f\u901a\u8fc7QEMU\u6765\u5b8c\u6210\u7684\u3002 Libvirt \u00b6 Vish \u547d\u4ee4\u884c\u7ba1\u7406 Virt-manager \u865a\u62df\u673a\u56fe\u5f62\u7ba1\u7406\u5668 \u200b \u521b\u5efa/\u7ba1\u7406\u865a\u62df\u673a \u200b \u521b\u5efa/\u865a\u62df\u673a\u7f51\u7edc\u7ba1\u7406 \u200b \u521b\u5efa/\u865a\u62df\u673a\u5b58\u50a8\u7ba1\u7406 virt-viewer \u901a\u8fc7VNC\u8fde\u63a5\u5230\u865a\u62df\u673a\u7684\u56fe\u5f62\u663e\u793a virt-install\u901a\u8fc7\u547d\u4ee4\u884c\u521b\u5efa\u65b0\u7684\u865a\u62df\u673a \u5f15\u7528-- https://wiki.debian.org/libvirt \u865a\u62df\u5316\u7684\u672c\u8d28 \u00b6 \u5206\u533a \u00b6 \u200b \u5728\u5355\u4e00\u7269\u7406\u670d\u52a1\u5668\u4e0a\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a \u9694\u79bb \u00b6 \u200b \u5728\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\u591a\u4e2a\u865a\u62df\u673a\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4e92\u4e0d\u5f71\u54cd \u5c01\u88c5 \u00b6 \u200b \u200b \u6574\u4e2a\u865a\u62df\u673a\u90fd\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d\uff0c\u800c\u4e14\u53ef\u4ee5\u901a\u8fc7\u79fb\u52a8\u548c\u590d\u5236\u8fd9\u4e9b\u6587\u4ef6\u7684\u65b9\u5f0f\u6765\u79fb\u52a8\u548c\u590d\u5236\u8be5\u865a\u62df\u673a\u3002 \u76f8\u5bf9\u4e8e\u786c\u4ef6\u72ec\u7acb \u00b6 \u200b \u65e0\u9700\u4fee\u6539\u5373\u53ef\u5728\u4efb\u4f55\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u865a\u62df\u673a UVP\u865a\u62df\u5316 \u00b6 \u6700\u5e95\u5c42\u7684CPU \u5185\u5b58 \u7f51\u5361 \u5b58\u50a8\u7b49\u786c\u4ef6\u8bbe\u5907\uff1b\u901a\u8fc7\u81ea\u8eab\u5b9e\u73b0\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u3002\u4e0a\u56fe\u4e2d\u7684intel\u7684VT-x\u662fCPU\u865a\u62df\u5316\u7684\u4e00\u79cd\u65b9\u5f0f\u3002Memory\u662f\u901a\u8fc7EMT\u6280\u672f\u5b9e\u73b0\u5185\u5b58\u7684\u865a\u62df\u5316\uff0c\u5305\u62ec\u7f51\u5361\u4e0a\u7684SR-IOV\u3002 \u5728\u865a\u62df\u76d1\u63a7\u5c42hypervison\u6216\u8005VMM\u7684\u8fd9\u4e00\u5c42\uff0c\u5728\u8fd9\u4e00\u5c42\u4e2d\u3002CPU\u7684\u865a\u62df\u5316\u4e5f\u5c31\u662fCPU\u2192vCPU \u7684\u8fc7\u7a0b\u4ee5\u53caMemory\u2192vMemory\u7684\u8fc7\u7a0b\u90fd\u662f\u7531KVM\u5185\u6838\u6765\u5b9e\u73b0\u7684\u3002KVM\u662f\u4e00\u4e2a\u8f6f\u4ef6\uff0c\u4f46\u662f\u5f53\u5b83\u5b89\u88c5\u5b8c\u6210\u540e\u662f\u5728\u5185\u6838\u4e2d\u7684\uff0c\u6b64\u65f6KVM\u548c\u5b89\u88c5KVM\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e00\u8d77\u6784\u6210\u4e86hypersion\u5c42\u3002\u6267\u884c\u865a\u62df\u5316\u7684\u529f\u80fd\u3002\u4f46\u662f\u7531\u4e8eKVM\u7684\u67b6\u6784\u8f83\u4e3a\u7b80\u5355\uff0c\u4ee3\u7801\u91cf\u5c0f\u3002\u5bfc\u81f4KVM\u865a\u62df\u5316\u4e0d\u80fd\u5b8c\u6210\u6240\u6709\u7684\u865a\u62df\u5316\u5de5\u4f5c\uff0c\u53ea\u80fd\u5c06\u5b8c\u6210\u4e0a\u56fe\u6240\u793a\u7684cpu\uff0c\u5185\u5b58\u7684\u865a\u62df\u5316\u5305\u62ec\u4e00\u4e9b\u8c03\u5ea6\uff0c\u4e2d\u65ad\u8c03\u4f18\u7b49\u7684\u5de5\u4f5c\u3002 \u7531\u4e8e\u4e0a\u9762\u6211\u4eec\u8bf4\u5230\uff0cKVM\u865a\u62df\u5316\u4e0d\u80fd\u5b8c\u6210\u6240\u6709\u7684\u865a\u62df\u5316\u529f\u80fd\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u7684\u65b9\u5f0f\u53bb\u5b8c\u6210\u4e00\u4e9b\u8bf8\u5982\u786c\u4ef6\u8bbe\u5907\u7684\u865a\u62df\u5316\u5de5\u4f5c\u4f8b\u5982\u58f0\u5361\uff0c\u7f51\u5361\uff0c\u663e\u5361\uff0c\u591a\u79cd\u5e76\u53e3\u8bbe\u5907\uff0c\u591a\u79cdUSB\u8bbe\u5907\uff0c\u591a\u79cd\u4e32\u53e3\u8bbe\u5907\uff0cPC\u5587\u53ed\u7b49\u8bbe\u5907\u3002\u5728\u4f17\u591a\u7684\u865a\u62df\u5316\u6280\u672f\u5f53\u4e2d\u7531\u4e8eQEMU\u80fd\u591f\u5b8c\u6210\u76f8\u5f53\u591a\u6570\u91cf\u7684\u786c\u4ef6\u865a\u62df\u5316\u80fd\u529b\u6240\u4ee5\u9002\u5408\u914d\u5408kvm\u5b8c\u6210\u6574\u4e2a\u7684\u865a\u62df\u5316\u529f\u80fd\u3002\u5728\u8fd9\u91cc\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0cQEMU\u4e5f\u662f\u80fd\u591f\u652f\u6301\u5305\u62ecCPU\u5185\u5b58\u7684\u865a\u62df\u5316\u7684\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u5b8c\u5168\u4f7f\u7528QEMU\u6765\u5b8c\u6210\u6574\u4e2a\u865a\u62df\u5316\u529f\u80fd\uff1f\u539f\u56e0\u5728\u4e8eQEMU\u6240\u63d0\u4f9b\u7684\u662f\u5b8c\u5168\u8f6f\u4ef6\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u865a\u62df\u5316\u80fd\u529b\uff0c\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\u4e0d\u80fd\u5229\u7528CPU\u7684\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u56e0\u4e3aQEMU\u662f\u4e00\u4e2a\u8f6f\u4ef6\u5b83\u5904\u5728\u786c\u4ef6\u4e4b\u4e0a\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u4f5c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u8f6f\u4ef6\u3002\u51b3\u5b9a\u4e86\u4ed6\u53ea\u80fd\u5de5\u4f5c\u5728non-root\u6a21\u5f0f\u3002kvm\u53bb\u80fd\u591f\u5b89\u88c5\u5728\u7cfb\u7edf\u5185\u6838\u4e2d\u5de5\u4f5c\u5728root\u6a21\u5f0f\u3002QEMU\u80fd\u591f\u652f\u6301\u591a\u79cd\u786c\u4ef6\u7684\u865a\u62df\u5316\uff0cKVM\u80fd\u591f\u5b9e\u73b0\u9ad8\u6548\u7387\u7684CPU\u548c\u5185\u5b58\u7684\u865a\u62df\u5316\u3002\u4e24\u8005\u76f8\u4e92\u914d\u5408\uff0c\u7531\u5de5\u4f5c\u5728non-root\u6a21\u5f0f\u7684QEMU\u5b9e\u73b0\u4e00\u4e9b\u5916\u56f4\u7684\u786c\u4ef6\u8bbe\u5907\u7684\u865a\u62df\u5316\uff0cKVM\u8d1f\u8d23CPU\u548c\u5185\u5b58\u7684\u865a\u62df\u5316\u3002 Libvirt\u662fRedHat\u53d1\u5e03\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u3002Libvirt\u6709API\u4e5f\u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u6210\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\u3002\u5927\u591a\u6570\u865a\u62df\u7ba1\u7406\u5e73\u53f0\u90fd\u662f\u901a\u8fc7Libvirt\u6765\u5b8c\u6210\u5bf9KVM\u865a\u62df\u673a\u7684\u7ba1\u7406\u7684\uff0c\u6bd4\u5982OpenStack\uff0cCloudStack\u7b49\u3002\u652f\u6301Java\uff0cPython,C\u7b49\u4e3b\u6d41\u7f16\u7a0b\u8bed\u8a00\u3002 https://libvirt.org/ \u5185\u5b58\u865a\u62df\u5316 \u00b6 KSM\uff08kernel SamePage Merging) \u00b6 \u200b \u539f\u7406\u7c7b\u4f3c\u4e8e\u8f6f\u4ef6\u538b\u7f29\uff0c\u5c06\u76f8\u540c\u7684\u5185\u5b58\u5206\u9875\u8fdb\u884c\u5408\u5e76\u3002\u4e00\u822c\u7528\u4e8e\u5185\u5b58\u8d85\u5206\u914d\uff0c\u5b9e\u73b0\u5927\u4e8e\u7269\u7406\u89c4\u683c\u5185\u5b58\u7684\u4f7f\u7528\u3002\u534e\u4e3a\u53eb\u5185\u5b58\u590d\u7528\u6280\u672f\u3002 \u200b \u5185\u5b58\u6c14\u6ce1\u6280\u672f\uff08\u6709\u8d44\u6599\u79f0\u4e4b\u4e3a\u5185\u5b58\u6c14\u7403\u6280\u672f\uff09\uff1a \u200b \u5728\u4f7f\u7528\u65f6\u865a\u62df\u673a\u9700\u8981\u5b89\u88c5virtballoon\u7684\u9a71\u52a8\u3002 \u200b balloon\u6280\u672f\u6709\u4e24\u79cd\u64cd\u4f5c \u200b \u81a8\u80c0\uff1a\u865a\u62df\u673a\u7684\u5185\u5b58\u62ff\u6389\u7ed9\u5bbf\u4e3b\u673a\uff08VMM\uff09 \u200b \u538b\u7f29\uff1a\u5bbf\u4e3b\u673a\uff08VMM\uff09\u7684\u5185\u5b58\u8fd8\u7ed9\u865a\u62df\u673a KVM\u7684\u4f18\u52bf\uff1a \u00b6 1.KVM\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u4e00\u76f4\u4fdd\u6301\u5f00\u653e\u7684\u59ff\u6001\uff0c\u8bb8\u591a\u865a\u62df\u5316\u6280\u672f\u90fd\u662f\u5728KVM\u4e0a\u5e94\u7528\uff0c\u7136\u540e\u5728\u63a8\u5e7f\u5230\u5176\u4ed6\u7684\u865a\u62df\u5316\u5f15\u64ce\u4e0a\u3002 2.\u6027\u80fd\u4e0aKVM\u80fd\u591f\u5728\u786c\u4ef6\u6761\u4ef6\u76f8\u5f53\u7684\u60c5\u51b5\u4e0b\u63d0\u4f9b\u66f4\u5f3a\u7684\u865a\u62df\u5316\u80fd\u529b\uff0c\u56e0\u4e3aKVM\u67b6\u6784\u7b80\u5355\uff0c\u4ee3\u7801\u91cf\u8f83\u5c11\uff0c\u5e76\u4e14\u539f\u751f\u652f\u6301\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u3002 3.KVM\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u7edd\u5927\u591a\u6570\u7684KVM\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u662f\u514d\u8d39\u65b9\u6848\u3002 4.KVM\u62e5\u6709\u5e7f\u6cdb\u7684\u6280\u672f\u652f\u6301\uff0c\u5728KVM\u7684\u5f00\u6e90\u793e\u533a\u4e2d\u4f17\u591a\u7684\u652f\u6301\u8005\u50cfKVM\u63d0\u4f9b\u6280\u672f\u652f\u6301\uff0c\u4e0d\u65ad\u7684\u5b8c\u5584KVM\u3002","title":"OpenStack  \u5206\u4eab\u7bc73 KVM"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#kvm","text":"\u7f51\u7ad9\uff1a https://www.redhat.com/en/topics/virtualization/what-is-KVM","title":"KVM"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#kvm_1","text":"","title":"KVM\u7684\u5386\u53f2"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#qumranetkvm","text":"\u200b \u65e9\u671f\u7684\u5f00\u53d1\u8005Avi Kivity \u200b 2006\u5e7410\u6708\uff0c\u5728\u5b8c\u6210\u57fa\u672c\u529f\u80fd\uff0c\u52a8\u6001\u8fc1\u79fb\uff0c\u4e3b\u8981\u7684\u6027\u80fd\u4f18\u5316\u540e\uff0c\u6b63\u5f0f\u5ba3\u5e03\u4e86KVM\u7684\u8bde\u751f\u3002 \u200b 2007\u5e742\u6708\u53d1\u5e03\u7684linux\u5185\u68382.6.20\u4e2d\uff0c\u6b63\u5f0f\u5305\u62ec\u4e86KVM \u200b 2008\u5e749\u6708Redhat\u516c\u53f8\u4ee51.7\u4ebf\u7f8e\u5143\u6536\u8d2d \u200b RHEL5.4\uff0c\u5728\u96c6\u62105.4\u7684\u57fa\u7840\u4e0a\uff0c\u53c8\u5c06KVM\u6dfb\u52a0\u8fdb\u6765 \u200b 2011\u5e7411\u6708\uff0cRHEL6\u4f7f\u7528KVM\u5f7b\u5e95\u66ff\u6362\u4e86Xen","title":"\u4ee5\u8272\u5217\u7684\u521b\u4e1a\u516c\u53f8Qumranet\u521b\u5efa\u4e86KVM"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#qemu","text":"\u200b QEMU\u662f\u4e00\u4e2a\u901a\u7528\u7684\u5f00\u6e90\u7684\u786c\u4ef6\u6a21\u62df\u5668\u80fd\u591f\u6a21\u62df\u591a\u79cd\u786c\u4ef6 \u200b QEMU-KVM\u4ece\u5206\u652f\u5230\u4e3b\u5e72\u5408\u5e76\uff0cQEMU\u6210\u4e3aKVM\u5728\u7528\u6237\u63a7\u4ef6\u7684\u7ba1\u7406\u5de5\u5177","title":"QEMU"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#kvm_2","text":"KVM\u662f\u5185\u6838\u7684\u4e00\u4e2a\u6a21\u5757kvm.ko\uff0c\u7528\u6237\u901a\u8fc7QEMU\u6a21\u62df\u5668\u6a21\u62df\u786c\u4ef6\u63d0\u4f9b\u7ed9\u865a\u62df\u673a\u4f7f\u7528\uff0c\u4e00\u53f0\u865a\u62df\u673a\u8868\u73b0\u4e3a\u4e00\u4e2a\u666e\u901a\u7684linux\u8fdb\u7a0b\uff0c\u901a\u8fc7\u5bf9\u8fd9\u4e2a\u8fdb\u7a0b\u7684\u7ba1\u7406\uff0c\u5b9e\u73b0\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\u3002 \u56e0\u4e3a\u5bf9\u865a\u62df\u673a\u7684\u8fdb\u7a0b\u7ba1\u7406\u8f83\u4e3a\u9ebb\u70e6\uff0cRedHat\u53d1\u5e03\u4e86\u4e00\u4e2a\u5f00\u6e90\u9879\u76eeLibvirt\u3002Libvirt\u6709API\uff0c\u4e5f\u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u6210\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\uff0c\u5927\u591a\u6570\u7684\u7ba1\u7406\u5e73\u53f0\u90fd\u662f\u901a\u8fc7Libvirt\u6765\u5b8c\u6210\u5bf9KVM\u865a\u62df\u673a\u7684\u7ba1\u7406\uff0c\u6bd4\u5982openstack\uff0ccloudstack\uff0copennebula\u7b49\u3002","title":"KVM\u67b6\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#qemukvm","text":"QEMU\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5b9e\u9645\u4e0a\u662f\u4e00\u53f0\u786c\u4ef6\u6a21\u62df\u5668\uff0c\u53ef\u4ee5\u6a21\u62df\u8bb8\u591a\u786c\u4ef6\uff0c\u5305\u62ecX86\u67b6\u6784\u7684\u5904\u7406\u5668,AMD64\u67b6\u6784\u7684\u5904\u7406\u5668\uff0cMIPS R4000\uff0cARMv6/v7\uff0cSPARC sun3\u4e0ePowerPC\u67b6\u6784\uff0c\u8fd8\u652f\u6301\u5176\u4ed6\u67b6\u6784\u3002 QEMU\u662f\u7eaf\u8f6f\u4ef6\u6a21\u62df\uff0c\u901f\u5ea6\u76f8\u8f83\u4e8e\u5176\u4ed6\u7684\u6a21\u62df\u5668\u6162\u3002QEMU\u548cKVM\u4e00\u822c\u914d\u5408\u4f7f\u7528\u3002KVM\u662f\u4e00\u4e2a\u52a0\u8f7d\u5728\u5185\u6838\u4e2d\u7684\u8f6f\u4ef6\uff0c\u672c\u8eab\u4f53\u91cf\u8f83\u5c0f\uff0c\u5927\u6982\u53ea\u67092\u4e07\u884c\u4ee3\u7801\uff0c\u6240\u4ee5\u53ea\u80fd\u5b8c\u6210\u5bf9CPU\u548c\u5185\u5b58\u7684\u6a21\u62df\u3002\u5176\u4ed6\u7684\u786c\u4ef6\u4e00\u822c\u662f\u901a\u8fc7QEMU\u6765\u5b8c\u6210\u7684\u3002","title":"QEMU\u4e0eKVM"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#libvirt","text":"Vish \u547d\u4ee4\u884c\u7ba1\u7406 Virt-manager \u865a\u62df\u673a\u56fe\u5f62\u7ba1\u7406\u5668 \u200b \u521b\u5efa/\u7ba1\u7406\u865a\u62df\u673a \u200b \u521b\u5efa/\u865a\u62df\u673a\u7f51\u7edc\u7ba1\u7406 \u200b \u521b\u5efa/\u865a\u62df\u673a\u5b58\u50a8\u7ba1\u7406 virt-viewer \u901a\u8fc7VNC\u8fde\u63a5\u5230\u865a\u62df\u673a\u7684\u56fe\u5f62\u663e\u793a virt-install\u901a\u8fc7\u547d\u4ee4\u884c\u521b\u5efa\u65b0\u7684\u865a\u62df\u673a \u5f15\u7528-- https://wiki.debian.org/libvirt","title":"Libvirt"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_1","text":"","title":"\u865a\u62df\u5316\u7684\u672c\u8d28"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_2","text":"\u200b \u5728\u5355\u4e00\u7269\u7406\u670d\u52a1\u5668\u4e0a\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u673a","title":"\u5206\u533a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_3","text":"\u200b \u5728\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\u591a\u4e2a\u865a\u62df\u673a\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4e92\u4e0d\u5f71\u54cd","title":"\u9694\u79bb"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_4","text":"\u200b \u200b \u6574\u4e2a\u865a\u62df\u673a\u90fd\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d\uff0c\u800c\u4e14\u53ef\u4ee5\u901a\u8fc7\u79fb\u52a8\u548c\u590d\u5236\u8fd9\u4e9b\u6587\u4ef6\u7684\u65b9\u5f0f\u6765\u79fb\u52a8\u548c\u590d\u5236\u8be5\u865a\u62df\u673a\u3002","title":"\u5c01\u88c5"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_5","text":"\u200b \u65e0\u9700\u4fee\u6539\u5373\u53ef\u5728\u4efb\u4f55\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u865a\u62df\u673a","title":"\u76f8\u5bf9\u4e8e\u786c\u4ef6\u72ec\u7acb"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#uvp","text":"\u6700\u5e95\u5c42\u7684CPU \u5185\u5b58 \u7f51\u5361 \u5b58\u50a8\u7b49\u786c\u4ef6\u8bbe\u5907\uff1b\u901a\u8fc7\u81ea\u8eab\u5b9e\u73b0\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u3002\u4e0a\u56fe\u4e2d\u7684intel\u7684VT-x\u662fCPU\u865a\u62df\u5316\u7684\u4e00\u79cd\u65b9\u5f0f\u3002Memory\u662f\u901a\u8fc7EMT\u6280\u672f\u5b9e\u73b0\u5185\u5b58\u7684\u865a\u62df\u5316\uff0c\u5305\u62ec\u7f51\u5361\u4e0a\u7684SR-IOV\u3002 \u5728\u865a\u62df\u76d1\u63a7\u5c42hypervison\u6216\u8005VMM\u7684\u8fd9\u4e00\u5c42\uff0c\u5728\u8fd9\u4e00\u5c42\u4e2d\u3002CPU\u7684\u865a\u62df\u5316\u4e5f\u5c31\u662fCPU\u2192vCPU \u7684\u8fc7\u7a0b\u4ee5\u53caMemory\u2192vMemory\u7684\u8fc7\u7a0b\u90fd\u662f\u7531KVM\u5185\u6838\u6765\u5b9e\u73b0\u7684\u3002KVM\u662f\u4e00\u4e2a\u8f6f\u4ef6\uff0c\u4f46\u662f\u5f53\u5b83\u5b89\u88c5\u5b8c\u6210\u540e\u662f\u5728\u5185\u6838\u4e2d\u7684\uff0c\u6b64\u65f6KVM\u548c\u5b89\u88c5KVM\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e00\u8d77\u6784\u6210\u4e86hypersion\u5c42\u3002\u6267\u884c\u865a\u62df\u5316\u7684\u529f\u80fd\u3002\u4f46\u662f\u7531\u4e8eKVM\u7684\u67b6\u6784\u8f83\u4e3a\u7b80\u5355\uff0c\u4ee3\u7801\u91cf\u5c0f\u3002\u5bfc\u81f4KVM\u865a\u62df\u5316\u4e0d\u80fd\u5b8c\u6210\u6240\u6709\u7684\u865a\u62df\u5316\u5de5\u4f5c\uff0c\u53ea\u80fd\u5c06\u5b8c\u6210\u4e0a\u56fe\u6240\u793a\u7684cpu\uff0c\u5185\u5b58\u7684\u865a\u62df\u5316\u5305\u62ec\u4e00\u4e9b\u8c03\u5ea6\uff0c\u4e2d\u65ad\u8c03\u4f18\u7b49\u7684\u5de5\u4f5c\u3002 \u7531\u4e8e\u4e0a\u9762\u6211\u4eec\u8bf4\u5230\uff0cKVM\u865a\u62df\u5316\u4e0d\u80fd\u5b8c\u6210\u6240\u6709\u7684\u865a\u62df\u5316\u529f\u80fd\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u7684\u65b9\u5f0f\u53bb\u5b8c\u6210\u4e00\u4e9b\u8bf8\u5982\u786c\u4ef6\u8bbe\u5907\u7684\u865a\u62df\u5316\u5de5\u4f5c\u4f8b\u5982\u58f0\u5361\uff0c\u7f51\u5361\uff0c\u663e\u5361\uff0c\u591a\u79cd\u5e76\u53e3\u8bbe\u5907\uff0c\u591a\u79cdUSB\u8bbe\u5907\uff0c\u591a\u79cd\u4e32\u53e3\u8bbe\u5907\uff0cPC\u5587\u53ed\u7b49\u8bbe\u5907\u3002\u5728\u4f17\u591a\u7684\u865a\u62df\u5316\u6280\u672f\u5f53\u4e2d\u7531\u4e8eQEMU\u80fd\u591f\u5b8c\u6210\u76f8\u5f53\u591a\u6570\u91cf\u7684\u786c\u4ef6\u865a\u62df\u5316\u80fd\u529b\u6240\u4ee5\u9002\u5408\u914d\u5408kvm\u5b8c\u6210\u6574\u4e2a\u7684\u865a\u62df\u5316\u529f\u80fd\u3002\u5728\u8fd9\u91cc\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0cQEMU\u4e5f\u662f\u80fd\u591f\u652f\u6301\u5305\u62ecCPU\u5185\u5b58\u7684\u865a\u62df\u5316\u7684\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u5b8c\u5168\u4f7f\u7528QEMU\u6765\u5b8c\u6210\u6574\u4e2a\u865a\u62df\u5316\u529f\u80fd\uff1f\u539f\u56e0\u5728\u4e8eQEMU\u6240\u63d0\u4f9b\u7684\u662f\u5b8c\u5168\u8f6f\u4ef6\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u865a\u62df\u5316\u80fd\u529b\uff0c\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\u4e0d\u80fd\u5229\u7528CPU\u7684\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\uff0c\u56e0\u4e3aQEMU\u662f\u4e00\u4e2a\u8f6f\u4ef6\u5b83\u5904\u5728\u786c\u4ef6\u4e4b\u4e0a\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u4f5c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u8f6f\u4ef6\u3002\u51b3\u5b9a\u4e86\u4ed6\u53ea\u80fd\u5de5\u4f5c\u5728non-root\u6a21\u5f0f\u3002kvm\u53bb\u80fd\u591f\u5b89\u88c5\u5728\u7cfb\u7edf\u5185\u6838\u4e2d\u5de5\u4f5c\u5728root\u6a21\u5f0f\u3002QEMU\u80fd\u591f\u652f\u6301\u591a\u79cd\u786c\u4ef6\u7684\u865a\u62df\u5316\uff0cKVM\u80fd\u591f\u5b9e\u73b0\u9ad8\u6548\u7387\u7684CPU\u548c\u5185\u5b58\u7684\u865a\u62df\u5316\u3002\u4e24\u8005\u76f8\u4e92\u914d\u5408\uff0c\u7531\u5de5\u4f5c\u5728non-root\u6a21\u5f0f\u7684QEMU\u5b9e\u73b0\u4e00\u4e9b\u5916\u56f4\u7684\u786c\u4ef6\u8bbe\u5907\u7684\u865a\u62df\u5316\uff0cKVM\u8d1f\u8d23CPU\u548c\u5185\u5b58\u7684\u865a\u62df\u5316\u3002 Libvirt\u662fRedHat\u53d1\u5e03\u7684\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u3002Libvirt\u6709API\u4e5f\u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u5b8c\u6210\u5bf9\u865a\u62df\u673a\u7684\u7ba1\u7406\u3002\u5927\u591a\u6570\u865a\u62df\u7ba1\u7406\u5e73\u53f0\u90fd\u662f\u901a\u8fc7Libvirt\u6765\u5b8c\u6210\u5bf9KVM\u865a\u62df\u673a\u7684\u7ba1\u7406\u7684\uff0c\u6bd4\u5982OpenStack\uff0cCloudStack\u7b49\u3002\u652f\u6301Java\uff0cPython,C\u7b49\u4e3b\u6d41\u7f16\u7a0b\u8bed\u8a00\u3002 https://libvirt.org/","title":"UVP\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#_6","text":"","title":"\u5185\u5b58\u865a\u62df\u5316"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#ksmkernel-samepage-merging","text":"\u200b \u539f\u7406\u7c7b\u4f3c\u4e8e\u8f6f\u4ef6\u538b\u7f29\uff0c\u5c06\u76f8\u540c\u7684\u5185\u5b58\u5206\u9875\u8fdb\u884c\u5408\u5e76\u3002\u4e00\u822c\u7528\u4e8e\u5185\u5b58\u8d85\u5206\u914d\uff0c\u5b9e\u73b0\u5927\u4e8e\u7269\u7406\u89c4\u683c\u5185\u5b58\u7684\u4f7f\u7528\u3002\u534e\u4e3a\u53eb\u5185\u5b58\u590d\u7528\u6280\u672f\u3002 \u200b \u5185\u5b58\u6c14\u6ce1\u6280\u672f\uff08\u6709\u8d44\u6599\u79f0\u4e4b\u4e3a\u5185\u5b58\u6c14\u7403\u6280\u672f\uff09\uff1a \u200b \u5728\u4f7f\u7528\u65f6\u865a\u62df\u673a\u9700\u8981\u5b89\u88c5virtballoon\u7684\u9a71\u52a8\u3002 \u200b balloon\u6280\u672f\u6709\u4e24\u79cd\u64cd\u4f5c \u200b \u81a8\u80c0\uff1a\u865a\u62df\u673a\u7684\u5185\u5b58\u62ff\u6389\u7ed9\u5bbf\u4e3b\u673a\uff08VMM\uff09 \u200b \u538b\u7f29\uff1a\u5bbf\u4e3b\u673a\uff08VMM\uff09\u7684\u5185\u5b58\u8fd8\u7ed9\u865a\u62df\u673a","title":"KSM\uff08kernel SamePage Merging)"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/#kvm_3","text":"1.KVM\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u4e00\u76f4\u4fdd\u6301\u5f00\u653e\u7684\u59ff\u6001\uff0c\u8bb8\u591a\u865a\u62df\u5316\u6280\u672f\u90fd\u662f\u5728KVM\u4e0a\u5e94\u7528\uff0c\u7136\u540e\u5728\u63a8\u5e7f\u5230\u5176\u4ed6\u7684\u865a\u62df\u5316\u5f15\u64ce\u4e0a\u3002 2.\u6027\u80fd\u4e0aKVM\u80fd\u591f\u5728\u786c\u4ef6\u6761\u4ef6\u76f8\u5f53\u7684\u60c5\u51b5\u4e0b\u63d0\u4f9b\u66f4\u5f3a\u7684\u865a\u62df\u5316\u80fd\u529b\uff0c\u56e0\u4e3aKVM\u67b6\u6784\u7b80\u5355\uff0c\u4ee3\u7801\u91cf\u8f83\u5c11\uff0c\u5e76\u4e14\u539f\u751f\u652f\u6301\u786c\u4ef6\u8f85\u52a9\u865a\u62df\u5316\u6280\u672f\u3002 3.KVM\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u7edd\u5927\u591a\u6570\u7684KVM\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u662f\u514d\u8d39\u65b9\u6848\u3002 4.KVM\u62e5\u6709\u5e7f\u6cdb\u7684\u6280\u672f\u652f\u6301\uff0c\u5728KVM\u7684\u5f00\u6e90\u793e\u533a\u4e2d\u4f17\u591a\u7684\u652f\u6301\u8005\u50cfKVM\u63d0\u4f9b\u6280\u672f\u652f\u6301\uff0c\u4e0d\u65ad\u7684\u5b8c\u5584KVM\u3002","title":"KVM\u7684\u4f18\u52bf\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/","text":"OpenStack\u5206\u4eab\u7bc74-Nova \u00b6 Nova\u7531\u591a\u4e2a\u63d0\u4f9b\u4e0d\u540c\u529f\u80fd\u7684\u72ec\u7acb\u7ec4\u4ef6\u6784\u6210\uff0c\u5916\u90e8\u901a\u8fc7 REST API\u8fdb\u884c\u901a\u4fe1\uff0c\u5bf9\u5185\u4f7f\u7528RPC\u8fdb\u884c\u901a\u4fe1\uff0c\u4f7f\u7528\u4e00\u4e2a\u4e2d\u5fc3DB\u6765\u5b58\u50a8\u6570\u636e\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u90e8\u7f72\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6765\u5b9e\u73b0\u6a2a\u5411\u6269\u5c55\u3002\u8fd9\u6837\u7684\u67b6\u6784\u662f\u88ab\u5927\u90e8\u5206OpenStack\u9879\u76ee\u6240\u91c7\u7528\u7684\u3002 \u5728\u8be6\u7ec6\u7684\u4ecb\u7ecdNova\u7ec4\u4ef6\u4e4b\u524d\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u4e0eNova\u76f8\u5173\u7684REST API RPC REST API \u00b6 https://www.mulesoft.com/resources/api/what-is-an-api \u4ec0\u4e48\u662fAPI \u00b6 API \u662fApplication Programming Interface\uff08\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff09\u7684\u7f29\u5199\u3002\u57fa\u672c\u4e0aAPI\u6307\u5b9a\u4e86\u8f6f\u4ef6\u7ec4\u4ef6\u4e4b\u95f4\u5e94\u8be5\u5982\u4f55\u8fdb\u884c\u4ea4\u4e92\u3002\u6b64\u5916\u5728\u56fe\u5f62\u7528\u6237\u754c\u9762\uff08GUI\uff09\u7ec4\u4ef6\u4e0a\u8fdb\u884c\u7f16\u7a0b\u65f6\u4f1a\u4f7f\u7528API\uff0c\u597d\u7684APi\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u6240\u6709\u6784\u4ef6\u6765\u7b80\u5316\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002 API\u793a\u4f8b \u00b6 \u5f53\u60a8\u5728\u4f7f\u7528\u5e94\u7528\u7a0b\u5e8f\u662f\uff0c\u8be5\u5e94\u7528\u7a0b\u5e8f\u4f1a\u94fe\u63a5\u5230Internet\u7f51\u7edc\u4e0a\u5e76\u5c06\u6570\u636e\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u7136\u540e\u670d\u52a1\u5668\u68c0\u7d22\u6570\u636e\uff0c\u5bf9\u5176\u8fdb\u884c\u89e3\u91ca\uff0c\u6267\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u8fd4\u56de\u5230\u5e94\u7528\uff0c\u7531\u5e94\u7528\u5bf9\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u89e3\u91ca\uff0c\u5e76\u4ee5\u523b\u5ea6\u7684\u65b9\u5f0f\u4e3a\u7528\u6237\u63d0\u4f9b\u6240\u9700\u7684\u4fe1\u606f\u3002 \u4e3e\u4e2a\u73b0\u5b9e\u4e2d\u7684\u4f8b\u5b50\uff0c\u5f53\u60a8\u4f7f\u7528\u624b\u673a\u4e0a\u7684\u5730\u56fe\u5e94\u7528\u67e5\u8be2\u4ea4\u901a\u4fe1\u606f\u65f6\uff0c\u7531\u5730\u56fe\u5e94\u7528\u5c06\u60a8\u6240\u67e5\u8be2\u7684\u4fe1\u606f\u901a\u8fc7Internet\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u518d\u7531InterNet\u4e0a\u7684\u670d\u52a1\u5668\u5bf9\u5bf9\u60a8\u67e5\u8be2\u7684\u4ea4\u901a\u4fe1\u606f\u8fdb\u884c\u68c0\u7d22\u548c\u5904\u7406\uff0c\u8fd4\u56de\u5230\u60a8\u7684\u5e94\u7528\u4e0a\u3002\u60a8\u7684\u5730\u56fe\u5e94\u7528\u5bf9\u8fd9\u4e9b\u8fd4\u56de\u7684\u4fe1\u606f\u8fdb\u884c\u5904\u7406\u7ec4\u7ec7\u6210\u7528\u6237\u53ef\u8bfb\u7684\u5f62\u5f0f\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u8bb2\u8ba1\u7b97\u673a\u8bed\u8a00\u7ec4\u7ec7\u6210\u4eba\u7c7b\u8bed\u8a00\u7684\u5f62\u5f0f\u8fdb\u884c\u5c55\u793a\u3002\u6b64\u65f6\u60a8\u5c31\u53ef\u4ee5\u770b\u5230\u60a8\u67e5\u8be2\u7684\u4ea4\u901a\u4fe1\u606f\u7684\u7ed3\u679c\u4e86\u3002 \u73b0\u4ee3API \u00b6 \u73b0\u4ee3API\u9075\u5faa\u7684\u6807\u51c6\uff08\u901a\u5e38\u662fHTTP\u548cREST\uff09\uff0c\u8fd9\u4e9b\u6807\u51c6\u5bf9\u5f00\u53d1\u4eba\u5458\u53cb\u597d\uff0c\u6613\u4e8e\u8bbf\u95ee\u4e14\u5e7f\u6cdb\u7406\u89e3\u3002 REST \u00b6 https://www.sitepoint.com/developers-rest-api/ REST\u662f ***Representational State Transfer*** \u7684\u7f29\u5199\uff1b\u5b83\u662f\u7531\u7f57\u4f0a~\u83f2\u5c14\u4e01\uff08Roy Fielding\uff09\u63d0\u51fa\u7684\uff0c\u7528\u6765\u63cf\u8ff0\u521b\u5efaHTTP API\u7684\u6807\u51c6\u65b9\u6cd5\u7684\uff0c\u4ed6\u53d1\u73b0\u56db\u79cd\u5e38\u7528\u7684\u884c\u4e3a\uff0cview \u67e5\u770bcreate\u521b\u5efa delete\u5220\u9664 edit\u4fbf\u7f16\u8f91\u90fd\u53ef\u4ee5\u76f4\u63a5\u6620\u5c04\u5230HTTP \u4e2d\u5df2\u5b9e\u73b0\u7684GET,POST,PUT\u548cDELETE\u65b9\u6cd5\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u4f60\u5728\u4f7f\u7528\u4f60\u7684\u6d4f\u89c8\u5668\u7684\u70b9\u70b9\u770b\u770b\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u53ea\u7528\u5230HTTP\u7684GET\u65b9\u6cd5\u3002GET\u65b9\u6cd5\u662f\u5728\u4f60\u5411\u56e0\u7279\u7f51\u8bf7\u6c42\u8d44\u6e90\u7684\u65f6\u5019\u624d\u4f1a\u7528\u5230\u7684\u3002\u5f53\u4f60\u63d0\u4ea4\u4e00\u4e2a\u8868\u5355\u65f6\uff0c\u4f60\u5c31\u4f1a\u7ecf\u5e38\u7528\u5230POST\u65b9\u6cd5\u6765\u56de\u4f20\u6570\u636e\u5230\u7f51\u7ad9\u4e0a\u3002\u81f3\u4e8e\u5176\u4ed6\u7684\u51e0\u79cd\u65b9\u6cd5\uff0c\u67d0\u4e9b\u6d4f\u89c8\u5668\u53ef\u80fd\u6839\u672c\u5c31\u6ca1\u6709\u53bb\u5b8c\u5168\u5b9e\u73b0\u5b83\u4eec\u3002\u4f46\u662f\uff0c\u5982\u679c\u662f\u4f9b\u6211\u4eec\u4f7f\u7528\u7684\u8bdd\uff0c\u5c31\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u95ee\u9898\u662f\u6211\u4eec\u6709\u5f88\u591a\u8981\u9009\u62e9\u53bb\u5e2e\u52a9\u63cf\u8ff0\u8fd9\u56db\u5927\u884c\u4e3a\u7684HTTP\u65b9\u6cd5\uff0c\u6211\u4eec\u5c06\u4f1a\u7528\u5230\u90a3\u4e9b\u5df2\u7ecf\u77e5\u9053\u5982\u4f55\u53bb\u4f7f\u7528\u8fd9\u4e9b\u4e0d\u540c\u7684HTTP\u65b9\u6cd5\u7684\u5ba2\u6237\u7aef\u7c7b\u5e93\u3002 REST\u662f\u4e24\u4e2a\u8ba1\u7b97\u7cfb\u7edf\u4e4b\u95f4\u901a\u8fc7HTTP\u8fdb\u884c\u901a\u4fe1\u7684\u4e00\u79cd\u65b9\u5f0f\uff1b\u7c7b\u4f3c\u4e8eWEB\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u3002\u6d4f\u89c8\u5668\u4f7f\u7528\u7684REST\u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e92\u8054\u7f51\u7684\u8bed\u8a00\uff0c\u968f\u7740\u4e91\u8ba1\u7b97\u7684\u4f7f\u7528\u4e0d\u65ad\u589e\u52a0\uff0c\u4e91\u8ba1\u7b97\u6d88\u8d39\u8005\u6b63\u5728\u4f7f\u7528\u516c\u6709API\u548c\u7ec4\u7ec7\u5bf9Web\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\uff0cREST\u662f\u6784\u5efaAPI\u7684\u5408\u7406\u9009\u62e9\uff0c\u6539API\u5141\u8bb8\u7528\u6237\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u7075\u6d3b\u7684\u94fe\u63a5\u5230\u4e91\u670d\u52a1\uff0c\u5e76\u4e0e\u4e4b\u5efa\u7acb\u7ba1\u7406\u548c\u4ea4\u4e92\u3002RESTful API\u88abAmazon\uff0cGoogle\uff0cTwitter\u7b49\u7f51\u7ad9\u4f7f\u7528\u3002 REST API\u5982\u4f55\u5de5\u4f5c \u00b6 RESTful API\u5206\u89e3\u4e8b\u7269\u4ee5\u521b\u5efa\u4e00\u7cfb\u5217\u5c0f\u6a21\u5757\u3002\u6bcf\u4e2a\u6a21\u5757\u90fd\u5904\u7406\u4e8b\u52a1\u7684\u7279\u5b9a\u57fa\u7840\u90e8\u5206\u3002\u8fd9\u79cd\u6a21\u5757\u5316\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u662f\u5bf9\u4e8e\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\uff0c\u4ece\u5934\u5f00\u59cb\u8bbe\u8ba1REST API\u53ef\u80fd\u4f1a\u9762\u4e34\u6311\u6218OpenStack\uff0cAmazon\u7b49\u63d0\u4f9b\u4e86\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u7684\u6a21\u578b\u3002 MQ\uff08Message Queue \uff09\uff1a\u6d88\u606f\u961f\u5217 \u00b6 https://aws.amazon.com/cn/message-queue/ \u6d88\u606f\u961f\u5217\u57fa\u672c\u77e5\u8bc6 \u00b6 \u5728\u73b0\u4ee3\u4e91\u67b6\u6784\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u88ab\u5206\u89e3\u4e3a\u591a\u4e2a\u89c4\u6a21\u8f83\u5c0f\u4e14\u66f4\u6613\u4e8e\u5f00\u53d1\u3001\u90e8\u7f72\u548c\u7ef4\u62a4\u7684\u72ec\u7acb\u6784\u5efa\u5757\u3002\u6d88\u606f\u961f\u5217\u53ef\u4e3a\u8fd9\u4e9b\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u901a\u4fe1\u548c\u534f\u8c03\u3002\u6d88\u606f\u961f\u5217\u53ef\u4ee5\u663e\u8457\u7b80\u5316\u5206\u79bb\u5e94\u7528\u7a0b\u5e8f\u7684\u7f16\u7801\uff0c\u540c\u65f6\u63d0\u9ad8\u6027\u80fd\u3001\u53ef\u9760\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002 \u501f\u52a9\u6d88\u606f\u961f\u5217\uff0c\u7cfb\u7edf\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u76f8\u4e92\u901a\u4fe1\u5e76\u5f02\u6b65\u6267\u884c\u5904\u7406\u64cd\u4f5c\u3002\u6d88\u606f\u961f\u5217\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u5b58\u50a8\u6d88\u606f\u7684\u8f7b\u91cf\u7ea7\u7f13\u51b2\u533a\uff0c\u4ee5\u53ca\u5141\u8bb8\u8f6f\u4ef6\u7ec4\u4ef6\u8fde\u63a5\u5230\u961f\u5217\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u7684\u7ec8\u7aef\u8282\u70b9\u3002\u8fd9\u4e9b\u6d88\u606f\u901a\u5e38\u8f83\u5c0f\uff0c\u53ef\u4ee5\u662f\u8bf7\u6c42\u3001\u6062\u590d\u3001\u9519\u8bef\u6d88\u606f\u6216\u660e\u6587\u4fe1\u606f\u7b49\u3002\u8981\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u4e00\u4e2a\u540d\u4e3a\u201c\u521b\u5efa\u5668\u201d\u7684\u7ec4\u4ef6\u4f1a\u5c06\u6d88\u606f\u6dfb\u52a0\u5230\u961f\u5217\u3002\u6d88\u606f\u5c06\u5b58\u50a8\u5728\u961f\u5217\u4e2d\uff0c\u76f4\u81f3\u540d\u4e3a\u201c\u5904\u7406\u5668\u201d\u7684\u53e6\u4e00\u7ec4\u4ef6\u68c0\u7d22\u8be5\u6d88\u606f\u5e76\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u3002 \u4e3a\u4ec0\u4e48\u8981\u7528\u6d88\u606f\u961f\u5217 \u00b6 1.\u80fd\u591f\u901a\u8fc7\u5f02\u6b65\u5904\u7406\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\uff08\u524a\u5cf0\u586b\u8c37\uff0c\u51cf\u5c11\u76f8\u5e94\u6240\u9700\u7684\u65f6\u95f4\uff09 \u200b \u5728\u4e0d\u9002\u7528\u6d88\u606f\u961f\u5217\u7684\u60c5\u51b5\u7cfb\uff0c\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u6570\u636e\u8bf7\u6c42\u76f4\u63a5\u5199\u5165\u6570\u636e\u5e93\uff0c\u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u56de\u4f7f\u5f97\u6570\u636e\u5e93\u538b\u529b\u5267\u589e\uff0c\u662f\u5f97\u76f8\u5e94\u901f\u5ea6\u53d8\u6162\u3002\u5f15\u5165\u6d88\u606f\u961f\u5217\u4e4b\u540e\uff0c\u7528\u6237\u8bf7\u6c42\u7684\u6570\u636e\u53d1\u9001\u7ed9\u6d88\u606f\u961f\u5217\u540e\u7acb\u5373\u8fd4\u56de\uff0c\u518d\u7531\u6d88\u606f\u961f\u5217\u7684\u6d88\u8d39\u8005\u8fdb\u7a0b\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u5f02\u6b65\u5199\u5165\u6570\u636e\u5e93\u3002\u7531\u4e8e\u6d88\u606f\u961f\u5217\u670d\u52a1\u5668\u7684\u5904\u7406\u901f\u5ea6\u5feb\u4e8e\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u80fd\u591f\u63d0\u5347\u6027\u80fd\u3002 2.\u964d\u4f4e\u7cfb\u7edf\u8026\u5408\u6027 \u6d88\u606f\u961f\u5217\u4f7f\u7528\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u5de5\u4f5c\uff0c\u6d88\u606f\u53d1\u9001\u8005\uff08\u751f\u4ea7\u8005\uff09\u53d1\u5e03\u6d88\u606f\uff0c\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6d88\u606f\u63a5\u53d7\u8005\uff08\u6d88\u8d39\u8005\uff09\u8ba2\u9605\u6d88\u606f\u3002 \u5728\u4e0a\u56fe\u6240\u793a\u7684\u903b\u8f91\u56fe\u4e2d\uff0c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u4e4b\u95f4\u4e0d\u662f\u8026\u5408\u5173\u7cfb\uff0c\u6d88\u606f\u961f\u5217MQ\u5728\u5176\u4e2d\u5145\u5f53\u4e2d\u95f4\u4ef6\u7684\u4f5c\u7528\u3002\u6d88\u606f\u7684\u53d1\u9001\u8005\u53d1\u9001\u6d88\u606f\u5230\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\u4fbf\u7ed3\u675f\u5bf9\u6d88\u606f\u7684\u5904\u7406\uff0c\u6d88\u606f\u63a5\u53d7\u8005\u4ece\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\u540e\u8fdb\u884c\u540e\u7eed\u7684\u5904\u7406\u52a8\u4f5c\uff0c\u800c\u5e76\u9700\u8981\u5173\u5fc3\u6d88\u606f\u7684\u6765\u6e90\u3002\u5bf9\u4e8e\u65b0\u589e\u7684\u4e1a\u52a1\u5982\u679c\u5bf9\u8be5\u7c7b\u6d88\u606f\u611f\u5174\u8da3\uff0c\u5373\u53ef\u4ee5\u901a\u8fc7\u8ba2\u9605\u7684\u65b9\u5f0f\u8ba2\u9605\u8be5\u6d88\u606f\uff0c\u5bf9\u539f\u6709\u7684\u7cfb\u7edf\u548c\u4e1a\u52a1\u5e76\u4e0d\u4ea7\u751f\u5f71\u54cd\u3002\u4ece\u800c\u5b9e\u73b0\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u5206\u5e03\u5f0f\u3002 \u6d88\u606f\u961f\u5217\u4e0d\u4ec5\u6709\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\uff0c\u8fd8\u6709\u70b9\u5bf9\u70b9\u8ba2\u9605\u6a21\u5f0f\uff08\u4e00\u4e2a\u6d88\u606f\u53ea\u6709\u4e00\u4e2a\u6d88\u8d39\u8005\uff09\u3002 \u96c6\u4e2d\u6d88\u606f\u961f\u5217 \u00b6 --\u53c2\u8003java\u5de5\u7a0b\u5e08\u9762\u8bd5\u7a81\u51fb\u7b2c\u4e00\u5b63 ActiveMQ \u7684\u793e\u533a\u7b97\u662f\u6bd4\u8f83\u6210\u719f\uff0c\u4f46\u662f\u8f83\u76ee\u524d\u6765\u8bf4\uff0cActiveMQ \u7684\u6027\u80fd\u6bd4\u8f83\u5dee\uff0c\u800c\u4e14\u7248\u672c\u8fed\u4ee3\u5f88\u6162\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 RabbitMQ \u5728\u541e\u5410\u91cf\u65b9\u9762\u867d\u7136\u7a0d\u900a\u4e8e Kafka \u548c RocketMQ \uff0c\u4f46\u662f\u7531\u4e8e\u5b83\u57fa\u4e8e erlang \u5f00\u53d1\uff0c\u6240\u4ee5\u5e76\u53d1\u80fd\u529b\u5f88\u5f3a\uff0c\u6027\u80fd\u6781\u5176\u597d\uff0c\u5ef6\u65f6\u5f88\u4f4e\uff0c\u8fbe\u5230\u5fae\u79d2\u7ea7\u3002\u4f46\u662f\u4e5f\u56e0\u4e3a RabbitMQ \u57fa\u4e8e erlang \u5f00\u53d1\uff0c\u6240\u4ee5\u56fd\u5185\u5f88\u5c11\u6709\u516c\u53f8\u6709\u5b9e\u529b\u505aerlang\u6e90\u7801\u7ea7\u522b\u7684\u7814\u7a76\u548c\u5b9a\u5236\u3002\u5982\u679c\u4e1a\u52a1\u573a\u666f\u5bf9\u5e76\u53d1\u91cf\u8981\u6c42\u4e0d\u662f\u592a\u9ad8\uff08\u5341\u4e07\u7ea7\u3001\u767e\u4e07\u7ea7\uff09\uff0c\u90a3\u8fd9\u56db\u79cd\u6d88\u606f\u961f\u5217\u4e2d\uff0cRabbitMQ \u4e00\u5b9a\u662f\u4f60\u7684\u9996\u9009\u3002\u5982\u679c\u662f\u5927\u6570\u636e\u9886\u57df\u7684\u5b9e\u65f6\u8ba1\u7b97\u3001\u65e5\u5fd7\u91c7\u96c6\u7b49\u573a\u666f\uff0c\u7528 Kafka \u662f\u4e1a\u5185\u6807\u51c6\u7684\uff0c\u7edd\u5bf9\u6ca1\u95ee\u9898\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u5f88\u9ad8\uff0c\u7edd\u5bf9\u4e0d\u4f1a\u9ec4\uff0c\u4f55\u51b5\u51e0\u4e4e\u662f\u5168\u4e16\u754c\u8fd9\u4e2a\u9886\u57df\u7684\u4e8b\u5b9e\u6027\u89c4\u8303\u3002 RocketMQ \u963f\u91cc\u51fa\u54c1\uff0cJava \u7cfb\u5f00\u6e90\u9879\u76ee\uff0c\u6e90\u4ee3\u7801\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u9605\u8bfb\uff0c\u7136\u540e\u53ef\u4ee5\u5b9a\u5236\u81ea\u5df1\u516c\u53f8\u7684MQ\uff0c\u5e76\u4e14 RocketMQ \u6709\u963f\u91cc\u5df4\u5df4\u7684\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u7684\u5b9e\u6218\u8003\u9a8c\u3002RocketMQ \u793e\u533a\u6d3b\u8dc3\u5ea6\u76f8\u5bf9\u8f83\u4e3a\u4e00\u822c\uff0c\u4e0d\u8fc7\u4e5f\u8fd8\u53ef\u4ee5\uff0c\u6587\u6863\u76f8\u5bf9\u6765\u8bf4\u7b80\u5355\u4e00\u4e9b\uff0c\u7136\u540e\u63a5\u53e3\u8fd9\u5757\u4e0d\u662f\u6309\u7167\u6807\u51c6 JMS \u89c4\u8303\u8d70\u7684\u6709\u4e9b\u7cfb\u7edf\u8981\u8fc1\u79fb\u9700\u8981\u4fee\u6539\u5927\u91cf\u4ee3\u7801\u3002\u8fd8\u6709\u5c31\u662f\u963f\u91cc\u51fa\u53f0\u7684\u6280\u672f\uff0c\u4f60\u5f97\u505a\u597d\u8fd9\u4e2a\u6280\u672f\u4e07\u4e00\u88ab\u629b\u5f03\uff0c\u793e\u533a\u9ec4\u6389\u7684\u98ce\u9669\uff0c\u90a3\u5982\u679c\u4f60\u4eec\u516c\u53f8\u6709\u6280\u672f\u5b9e\u529b\u6211\u89c9\u5f97\u7528RocketMQ \u633a\u597d\u7684 kafka \u7684\u7279\u70b9\u5176\u5b9e\u5f88\u660e\u663e\uff0c\u5c31\u662f\u4ec5\u4ec5\u63d0\u4f9b\u8f83\u5c11\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u4f46\u662f\u63d0\u4f9b\u8d85\u9ad8\u7684\u541e\u5410\u91cf\uff0cms \u7ea7\u7684\u5ef6\u8fdf\uff0c\u6781\u9ad8\u7684\u53ef\u7528\u6027\u4ee5\u53ca\u53ef\u9760\u6027\uff0c\u800c\u4e14\u5206\u5e03\u5f0f\u53ef\u4ee5\u4efb\u610f\u6269\u5c55\u3002\u540c\u65f6 kafka \u6700\u597d\u662f\u652f\u6491\u8f83\u5c11\u7684 topic \u6570\u91cf\u5373\u53ef\uff0c\u4fdd\u8bc1\u5176\u8d85\u9ad8\u541e\u5410\u91cf\u3002kafka \u552f\u4e00\u7684\u4e00\u70b9\u52a3\u52bf\u662f\u6709\u53ef\u80fd\u6d88\u606f\u91cd\u590d\u6d88\u8d39\uff0c\u90a3\u4e48\u5bf9\u6570\u636e\u51c6\u786e\u6027\u4f1a\u9020\u6210\u6781\u5176\u8f7b\u5fae\u7684\u5f71\u54cd\uff0c\u5728\u5927\u6570\u636e\u9886\u57df\u4e2d\u4ee5\u53ca\u65e5\u5fd7\u91c7\u96c6\u4e2d\uff0c\u8fd9\u70b9\u8f7b\u5fae\u5f71\u54cd\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e2a\u7279\u6027\u5929\u7136\u9002\u5408\u5927\u6570\u636e\u5b9e\u65f6\u8ba1\u7b97\u4ee5\u53ca\u65e5\u5fd7\u6536\u96c6\u3002 Nova\u67b6\u6784 \u00b6 \u76ee\u524d\u7684Nova\u4e3b\u8981\u7531Nova-API\uff0cNova-Conductor\uff0cNova-COmpute\uff0cNova-Scheduler\u56db\u4e2a\u6838\u5fc3\u7ec4\u4ef6\u6240\u7ec4\u6210\uff0c\u7ec4\u4ef6\u4e4b\u95f4\u91c7\u7528RPC\u8fdb\u884c\u901a\u4fe1\u3002 Nova\u2014API \u00b6 Nova-API\u662f\u8fdb\u5165Nova\u7684HTTP\u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u90e8\u7f72\u591a\u4e2a\u6765\u5b9e\u73b0\u6a2a\u5411\u6269\u5c55\u3002Nova-APi\u4f5c\u4e3a\u5ba2\u6237\u7aef\u548cNova \u4e4b\u95f4\u7684\u4e2d\u95f4\u5c42\uff0cNova-API\u626e\u6f14\u4e86\u4e00\u4e2a\u6865\u6881\uff0c\u6216\u8005\u8bf4\u4e2d\u95f4\u4eba\u7684\u89d2\u8272\u3002Nova-API\u628a\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u4f20\u8fbe\u7ed9Nova\uff0c\u5f85\u5230Nova\u5904\u7406\u5b8c\u6210\u4e4b\u540e\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef\u3002 Nova-Conductor \u00b6 nova \u7684\u7248\u672c\uff1a https://docs.openstack.org/train/# Nova-conductor\u670d\u52a1\u6700\u521d\u5728Gizzly\u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u4f5c\u4e3aNova\u9879\u76ee\u7684 \u6838\u5fc3\u6a21\u5757\u4e4b\u4e00\uff0c\u4ed6\u5728\u6574\u4e2aNova\u4e2d\u76f8\u5f53\u4e8e\u7ec4\u7ec7\u8005\u7684\u89d2\u8272\uff0c\u4e3b\u8981\u63d0\u4f9b\u4e863\u9879\u57fa\u672c\u529f\u3002 Nova-Conductor\u7684\u957f\u65f6\u4efb\u52a1\u7f16\u6392\u529f\u80fd \u00b6 Nova-Conductor\u8fde\u63a5\u4e86Nova-API\uff1bNova-compute\uff0cNova-scheduler\u670d\u52a1\uff0c\u6240\u4ee5\u5b83\u9996\u5148\u63d0\u4f9b\u4e86\u957f\u65f6\u4efb\u52a1\u7f16\u6392\uff08task orchestration\uff09\u529f\u80fd\u3002Nova\u5c06\u6240\u6709\u8017\u65f6\u957f\uff0c\u8de8\u8282\u70b9\uff0c\u6613\u9519\u4f46\u76f8\u5bf9\u56fa\u5b9a\u7684\u5904\u7406\u6d41\u7a0b\u62bd\u8c61\u6210\u4efb\u52a1\uff0c\u5305\u62ec\u865a\u62df\u673a\u542f\u52a8\uff0c\u70ed\u8fc1\u79fb\uff08Vmotion\uff09\uff0c\u51b7\u8fc1\u79fb\u7b49\u3002Nova-Conductor\u4f5c\u4e3a\u4efb\u52a1\u7684\u7ec4\u7ec7\u8005\uff0c\u4e0d\u4ec5\u80fd\u540c\u65f6\u8fdb\u884c\u7684\u591a\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u8fdb\u884c\u8ddf\u8e2a\uff0c\u8fd8\u80fd\u5b8c\u6210\u9519\u8bef\u5904\u7406\uff0c\u6062\u590d\u7b49\u4e00\u7cfb\u5217\u7684\u529f\u80fd\u3002 Nova-Conductor\u7684\u6570\u636e\u5e93\u4ee3\u7406\u8bbf\u95ee\u673a\u5236 \u00b6 Nova-Conductor\u4e3aNova-Compute\u63d0\u4f9b\u4e86\u6570\u636e\u4ee3\u7406\u8bbf\u95ee\u673a\u5236\uff0c\u4e0d\u4ec5\u662f\u6570\u636e\u5e93\u8bbf\u95ee\u7684\u4e00\u5c42\u5b89\u5168\u4fdd\u969c\uff0c\u8fd8\u5728\u6570\u636e\u5e93\u5347\u7ea7\u8fc7\u7a0b\u4e2d\u672a\u65e7\u7684Nova-Compute\u8282\u70b9\u63d0\u4f9b\u4e86\u5411\u4e0b\u7684\u517c\u5bb9\u6027\u3002\u5728\u6a21\u5757\u4e4b\u95f4\u7684\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u7531\u4e8e\u4e0d\u540c\u7684\u670d\u52a1\u53ef\u80fd\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u7248\u672c\u4e0a\uff0cNova-Conductor\u4e3a\u4f20\u8f93\u6570\u636e\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e86\u7248\u672c\u517c\u5bb9\u7684\u529f\u80fd\uff0c\u8ba9\u5904\u5728\u4e0d\u540c\u7248\u672c\u7684Nova\u670d\u52a1\u80fd\u591f\u8bc6\u522bRPC\u8bf7\u6c42\u4e2d\u6570\u636e\u7684\u5bf9\u8c61\u7248\u672c\uff0c\u5e76\u4e14\u5b8c\u6210\u7248\u672c\u7684\u81ea\u52a8\u8f6c\u6362\u3002 Nova-Conductor\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u7684\u6a2a\u5411\u6269\u5c55 \u00b6 Nova-Conductor\u670d\u52a1\u672c\u8eab\u662f\u65e0\u72b6\u6001\u7684\uff08 \u5bf9\u670d\u52a1\u5668\u7a0b\u5e8f\u6765\u8bf4\uff0c\u6709\u4e24\u4e2a\u57fa\u672c\u5047\u8bbe\u5341\u5206\u91cd\u8981\uff0c\u7a76\u7adf\u670d\u52a1\u5668\u662f\u57fa\u4e8e\u72b6\u6001\u8bf7\u6c42\u8fd8\u662f\u65e0\u72b6\u6001\u8bf7\u6c42\u3002\u72b6\u6001\u5316\u7684\u5224\u65ad\u662f\u6307\u4e24\u4e2a\u6765\u81ea\u76f8\u540c\u53d1\u8d77\u8005\u7684\u8bf7\u6c42\u5728\u670d\u52a1\u5668\u7aef\u662f\u5426\u5177\u5907\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002\u5982\u679c\u662f\u72b6\u6001\u5316\u8bf7\u6c42\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u7aef\u4e00\u822c\u90fd\u8981\u4fdd\u5b58\u8bf7\u6c42\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u9ed8\u8ba4\u5730\u4f7f\u7528\u4ee5\u524d\u7684\u8bf7\u6c42\u4fe1\u606f\u3002\u800c\u65e0\u72b6\u6001\u8bf7\u6c42\u5219\u4e0d\u884c\uff0c\u670d\u52a1\u5668\u7aef\u6240\u80fd\u591f\u5904\u7406\u7684\u8fc7\u7a0b\uff0c\u4ed6\u7684\u5904\u7406\u4fe1\u606f\u5fc5\u987b\u5168\u90e8\u6765\u81ea\u4e8e\u8bf7\u6c42\u6240\u643a\u5e26\u7684\u4fe1\u606f\u4ee5\u53ca\u5176\u4ed6\u670d\u52a1\u5668\u7aef\u81ea\u8eab\u6240\u4fdd\u5b58\u7684\u3001\u5e76\u4e14\u53ef\u4ee5\u88ab\u6240\u6709\u8bf7\u6c42\u6240\u4f7f\u7528\u7684\u516c\u5171\u4fe1\u606f\u3002 \u65e0\u72b6\u6001\u7684\u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u6700\u8457\u540d\u7684\u5c31\u662fWEB\u670d\u52a1\u5668\u3002\u6bcf\u6b21HTTP\u8bf7\u6c42\u548c\u4ee5\u524d\u90fd\u6ca1\u6709\u5565\u5173\u7cfb\uff0c\u53ea\u662f\u83b7\u53d6\u76ee\u6807URI\u3002\u5f97\u5230\u76ee\u6807\u5185\u5bb9\u4e4b\u540e\uff0c\u8fd9\u6b21\u8fde\u63a5\u5c31\u88ab\u6740\u6b7b\uff0c\u6ca1\u6709\u4efb\u4f55\u75d5\u8ff9\u3002\u5728\u540e\u6765\u7684\u53d1\u5c55\u8fdb\u7a0b\u4e2d\uff0c\u9010\u6e10\u5728\u65e0\u72b6\u6001\u5316\u7684\u8fc7\u7a0b\u4e2d\uff0c\u52a0\u5165\u72b6\u6001\u5316\u7684\u4fe1\u606f\uff0c\u6bd4\u5982COOKIE\u3002\u670d\u52a1\u7aef\u5728\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f1a\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u4e00\u4e2aCOOKIE\uff0c\u8fd9\u4e2aCOOKIE\u8bb0\u5f55\u670d\u52a1\u7aef\u4e0a\u9762\u7684\u4e00\u4e9b\u4fe1\u606f\u3002\u5ba2\u6237\u7aef\u5728\u540e\u7eed\u7684\u8bf7\u6c42\u4e2d\uff0c\u53ef\u4ee5\u643a\u5e26\u8fd9\u4e2aCOOKIE\uff0c\u670d\u52a1\u7aef\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2aCOOKIE\u5224\u65ad\u8fd9\u4e2a\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002COOKIE\u7684\u5b58\u5728\uff0c\u662f\u65e0\u72b6\u6001\u5316\u5411\u72b6\u6001\u5316\u7684\u4e00\u4e2a\u8fc7\u6e21\u624b\u6bb5\uff0c\u4ed6\u901a\u8fc7\u5916\u90e8\u6269\u5c55\u624b\u6bb5\uff0cCOOKIE\u6765\u7ef4\u62a4\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002\uff09\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4efb\u610f\u8c03\u8282Nova-conductor\u7684\u6570\u91cf\u548c\u4f4d\u7f6e\uff0c\u5728\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u8981\u6c42\u9ad8\u7684\u90e8\u7f72\u73af\u5883\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u975e\u5e38\u5bb9\u6613\u7684\u5bf9Nova-conductor\u670d\u52a1\u5b9e\u73b0\u9ad8\u53ef\u7528\u548c\u6027\u80fd\u7684\u6a2a\u5411\u6269\u5c55\u3002Nova-Conductor\u7684\u6a2a\u5411\u6269\u5c55\u80fd\u529b\u5e26\u6765\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u5c31\u662f\uff0cNova-compute\u901a\u8fc7Nova-Conductor\u5bf9\u6570\u636e\u5e93\u8bbf\u95ee\u7684\u6027\u80fd\u4e5f\u6709\u4e86\u76f8\u5e94\u7684\u4fdd\u969c\u3002\u5728\u6ca1\u6709Nova-Conductor\u65f6Nova-Compute\u548c\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4ea4\u4e92\u91c7\u7528\u534f\u7a0b\uff0cNova-Compute\u5728\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\u90fd\u662f\u963b\u585e\u7684\u3002\u5728\u5f15\u5165\u4e86Nova-Conductor\u4e4b\u540e\u80fd\u591f\u901a\u8fc7Nova-compute\u521b\u5efa\u591a\u4e2a\u534f\u7a0b\u901a\u8fc7nova-Conductor\u4f7f\u7528\u975e\u963b\u585e\u7684RPC\u534f\u8bae\u6765\u738b\u6587\u6570\u636e\u5e93\u3002\u5f53\u7136RPC\u4e5f\u6709\u4ed6\u7684\u4e00\u4e9b\u786e\u5b9a\u5982RPC\u662f\u6709\u5ef6\u65f6\u7684\u3002 Nova-Scheduler \u00b6 https://docs.openstack.org/nova/latest/user/filter-scheduler.html \u9009\u62e9\u4e00\u4e2a\u865a\u62df\u673a\u5728\u54ea\u4e2a\u4e3b\u673a\u4e0a\u8fd0\u884c\u8c03\u5ea6\u7684\u65b9\u5f0f\u6709\u5f88\u591a\uff0c\u76ee\u524dNova\u4e2d\u5b9e\u73b0\u7684\u8c03\u5ea6\u5668\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 FileterScheduler\uff1a\u8fc7\u6ee4\u8c03\u5ea6\u5668\uff1b\u9ed8\u8ba4\u8f7d\u5165\u7684\u8c03\u5ea6\u5668\uff0c\u6839\u636e\u6307\u5b9a\u7684\u8fc7\u6ee4\u6761\u4ef6\u548c\u6743\u91cd\u6311\u9009\u6700\u4f73\u8282\u70b9\u3002 CachingScheduler\uff1a\u4e0eFileterScheduler\u529f\u80fd\u76f8\u540c\uff0c\u5728\u5176\u57fa\u7840\u4e0a\u5c06\u4e3b\u673a\u8d44\u6e90\u4fe1\u606f\u7f13\u5b58\u5728\u672c\u5730\u5185\u5b58\u4e2d\u56fd\uff0c\u7136\u540e\u901a\u8fc7\u540e\u53f0\u7684\u5b9a\u65f6\u4efb\u52a1\u5b9a\u65f6\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u6700\u65b0\u7684\u4e3b\u673a\u8d44\u6e90\u4fe1\u606f\u3002 ChanceScheduler\uff1a\u968f\u673a\u8c03\u5ea6\u5668\uff1b\u4ece\u6240\u6709\u7684Nova-compute\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u7684\u8282\u70b9\u968f\u673a\u9009\u62e9\u3002 FackScheduler\uff1a\u4f2a\u8c03\u5ea6\u5668\uff1b\u7528\u4e8e\u5355\u5143\u6d4b\u8bd5\uff0c\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u529f\u80fd\u7684\u8c03\u5ea6\u5668 Nova-Scheduler\u5b9e\u73b0\u8d44\u6e90\u8c03\u5ea6\u7684\u8fc7\u7a0b \u00b6 \u00b6 1.\u8c03\u5ea6\u5668\u7f13\u5b58\u66f4\u65b0 \u00b6 Nova-Scheduler\u5728\u8fdb\u884c\u8c03\u5ea6\u51b3\u7b56\u524d\uff0c\u9700\u8981\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u5230\u5404\u4e2a\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u7684\u6536\u96c6\u4e0e\u5b58\u50a8\u90fd\u7531Nova-compute\u8fdb\u884c\u8d1f\u8d23\u3002nova-Compute\u662f\u5c06\u8fd9\u4e9b\u6570\u636e\u4ee5\u5373\u4f7f\u7684\u65b9\u5f0f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\uff0c\u5e76\u901a\u8fc7\u5468\u671f\u6027\u7684\u4efb\u52a1\u4fdd\u8bc1\u8d44\u6e90\u6570\u636e\u7684\u51c6\u786e\u6027\u3002\u7531\u4e8eNova-Scheduler\u65e0\u6cd5\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u5728\u9009\u62e9\u6700\u4f73\u4e3b\u673a\u65f6\u8981\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u5148\u524d\u51b3\u7b56\u7684\u60c5\u51b5\uff0c\u8fd9\u662f\u7528\u8fc7\u5728\u8c03\u5ea6\u5668\u5185\u5b58\u4e2d\u56fd\u5355\u72ec\u7ef4\u62a4\u4e86\u4e00\u4efd\u7f13\u5b58\u5b9e\u73b0\u7684\uff0c\u7f13\u5b58\u4e2d\u5305\u542b\u4e86\u6700\u8fd1\u4e00\u6b21\u8bfb\u53d6\u6570\u636e\u5e93\u7684\u60c5\u51b5\u4ee5\u53ca\u6700\u8fd1\u8c03\u5ea6\u5668\u51b3\u7b56\u5bfc\u81f4\u8d44\u6e90\u53d8\u534e\u3002\u4e3a\u4e86\u7ef4\u62a4\u8be5\u7f13\u5b58\u7684\u51c6\u786e\u6027\uff0cnova-scheduler\u5728\u4f5c\u4e3a\u4e00\u4e2a\u865a\u62df\u673a\u542f\u52a8\u8bf7\u6c42\u4f5c\u51fa\u51b3\u7b56\u4e4b\u540e\uff0c\u4ed6\u90fd\u8981\u5c06\u5176\u66f4\u65b0\uff0c\u5e76\u4ece\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u4e2d\u53bb\u6389VM\u4f7f\u7528\u7684\u8d44\u6e90\u3002 2.Filtering \u00b6 Filtering\u662f\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u7684\u5404\u79cdFilters\u53bb\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u6839\u636e\u5404\u4e2a\u4e3b\u673a\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u60c5\u51b5\u8fc7\u6ee4\u6389\u90a3\u4e9b\u4e0d\u80fd\u6ee1\u8db3\u865a\u62df\u673a\u8981\u6c42\u7684\u4e3b\u673a\u3002 \u5728Ocata\u7248\u672c\u7684OpenStack Nova \u9879\u76ee\u4e2d\u7684Filtering\u516c\u670927\u4e2aFilter\u80fd\u591f\u5904\u7406\u5404\u79cd\u4fe1\u606f\u3002 \u5206\u7c7b\uff1a \u00b6 \u4e3b\u673a\u53ef\u7528\u8d44\u6e90 \u5185\u5b58\uff0c\u78c1\u76d8\uff0cCPU\uff0cPCI\u8bbe\u5907\u548cNUMA\u62d3\u6251 \u4e3b\u673a\u7c7b\u578b \u865a\u62df\u673a\u7c7b\u578b\u548c\u7248\u672c\uff0cCPU\u7c7b\u578b\u548c\u6307\u4ee4\u96c6\u7c7b\u578b \u4e3b\u673a\u72b6\u6001 \u4e3b\u673a\u662f\u5426\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0cCPU\u7684\u4f7f\u7528\u7387\uff0c\u865a\u62df\u673a\u542f\u52a8\u6570\u91cf\uff0c\u7e41\u5fd9\u7a0b\u5ea6\uff0c\u662f\u5426\u53ef\u4fe1 \u4e3b\u673a\u5206\u7ec4\u60c5\u51b5 Avaible Zone\uff0cHost Aggergaters\u4fe1\u606f \u542f\u52a8\u8bf7\u6c42\u53c2\u6570 \u8bf7\u6c42\u865a\u62df\u673a\u7c7b\u578b\uff08Flavor\uff09\uff0c\u955c\u50cf\u4fe1\u606f\uff08image\uff09,\u8bf7\u6c42\u91cd\u8bd5\u6b21\u6570\uff0c\u542f\u52a8\u63d0\u793a\u4fe1\u606f\uff08hint\uff09\u7b49 \u865a\u62df\u673a\u7684\u4eb2\u548c\u6027\u548c\u53cd\u4eb2\u548c\u6027 \u4e0e\u5176\u4ed6\u865a\u62df\u673a\u662f\u5426\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a \u5143\u6570\u636e\u5904\u7406 \u4e3b\u673a\u5143\u6570\u636e\uff0c\u955c\u50cf\u5143\u6570\u636e\uff0c\u865a\u62df\u673a\u5143\u6570\u636e\uff0c\u4e3b\u673a\u805a\u5408\uff08host Aggergates\uff09\u5143\u6570\u636e Filter\u5217\u8868\uff1a \u00b6 AllHostsFilter \u4e0d\u8fc7\u6ee4\u3002\u5b83\u4f20\u9012\u6240\u6709\u53ef\u7528\u7684\u4e3b\u673a\u3002 ImagePropertiesFilter \u6839\u636e\u5b9e\u4f8b\u955c\u50cf\u4e0a\u5b9a\u4e49\u7684\u5c5e\u6027\u8fc7\u6ee4\u865a\u62df\u673a\u3002 AvailabilityZoneFilter \u6309\u53ef\u7528\u6027\u533a\u57df\u8fc7\u6ee4\u4e3b\u673a\u3002\u5b83\u4f20\u9012\u4e0e\u5b9e\u4f8b\u5c5e\u6027\u4e2d\u6307\u5b9a\u7684\u53ef\u7528\u533a\u57df\u5339\u914d\u7684\u4e3b\u673a\u3002\u4f7f\u7528\u9017\u53f7\u6307\u5b9a\u591a\u4e2a\u533a\u57df\u3002\u7136\u540e\uff0c\u8fc7\u6ee4\u5668\u5c06\u786e\u4fdd\u5176\u4e0e\u6307\u5b9a\u7684\u4efb\u4f55\u533a\u57df\u5339\u914d ComputeCapabilitiesFilter \u68c0\u67e5\u4e3b\u673a\u8ba1\u7b97\u670d\u52a1\u63d0\u4f9b\u7684\u529f\u80fd\u662f\u5426\u6ee1\u8db3\u4e0e\u5b9e\u4f8b\u7c7b\u578b\u76f8\u5173\u7684\u4efb\u4f55\u989d\u5916\u89c4\u8303\u3002\u5b83\u4f20\u9012\u53ef\u4ee5\u521b\u5efa\u6307\u5b9a\u5b9e\u4f8b\u7c7b\u578b\u7684\u4e3b\u673a\u3002 AggregateInstanceExtraSpecsFilter \u68c0\u67e5\u6c47\u603b\u5143\u6570\u636e\u662f\u5426\u6ee1\u8db3\u4e0e\u5b9e\u4f8b\u7c7b\u578b\u76f8\u5173\u8054\u7684\u4efb\u4f55\u989d\u5916\u89c4\u8303\uff08\u6ca1\u6709\u8303\u56f4\u6216\u4ee5\u8303\u56f4aggregate_instance_extra_specs\uff09\u3002\u5b83\u4f20\u9012\u53ef\u4ee5\u521b\u5efa\u6307\u5b9a\u5b9e\u4f8b\u7c7b\u578b\u7684\u4e3b\u673a\u3002\u989d\u5916\u7684\u89c4\u683c\u53ef\u4ee5\u5177\u6709\u4e0e\u76f8\u540c\u7684\u8fd0\u7b97\u7b26 ComputeCapabilitiesFilter\u3002\u8981\u4e3a\u540c\u4e00\u952e\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u8bf7\u4f7f\u7528\u9017\u53f7\u3002\u4f8b\u5982\uff0c\u201c value1\uff0cvalue2\u201d\u3002\u5982\u679c\u672a\u6307\u5b9aextra_specs\uff0c\u5219\u5c06\u4f20\u9012\u6240\u6709\u4e3b\u673a\u3002 ComputeFilt \u6311\u9009\u51fa\u6240\u6709\u5904\u4e8e\u6d3b\u8dc3\uff08Active\uff09\u72b6\u6001\u7684\u4e3b\u673a\u3002 AggregateCoreFilter -\u5df2\u6dd8\u6c70\uff1b \u4f7f\u7528\u6bcf\u4e2a\u805a\u5408cpu_allocation_ratio\u8bbe\u7f6e\u6309CPU\u5185\u6838\u53f7\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c cpu_allocation_ratio\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u4f4d\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u6bd4\u7387\u8bbe\u7f6e\u4e0d\u540c\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 IsolatedHostsFilter \u8fc7\u6ee4\u5668\u57fa\u7840\u4e0a filter_scheduler.isolated_images \uff0c filter_scheduler.isolated_hosts \u548c filter_scheduler.restrict_isolated_hosts_to_isolated_images \u6807\u5fd7\u3002 JsonFilter \u5141\u8bb8\u4f7f\u7528\u7b80\u5355\u7684\u57fa\u4e8eJSON\u7684\u8bed\u6cd5\u6765\u9009\u62e9\u4e3b\u673a AggregateRamFilter -\u5df2\u6dd8\u6c70 \u901a\u8fc7\u6309\u805a\u5408 ram_allocation_ratio \u8bbe\u7f6e\u6309RAM\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c ram_allocation_ratio \u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u4f4d\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u6bd4\u7387\u8bbe\u7f6e\u4e0d\u540c\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 AggregateDiskFilter -\u5df2\u6dd8\u6c70 \u4f7f\u7528\u6bcf\u4e2a\u805a\u5408disk_allocation_ratio\u8bbe\u7f6e\u6309\u78c1\u76d8\u5206\u914d\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c disk_allocation_ratio\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u4e0d\u540c\u6bd4\u7387\u8bbe\u7f6e\u7684\u4e0d\u540c\u805a\u5408\u4e2d\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 NumInstancesFilter \u6309\u5b9e\u4f8b\u6570\u8fc7\u6ee4\u8ba1\u7b97\u8282\u70b9\u3002\u5b9e\u4f8b\u8fc7\u591a\u7684\u8282\u70b9\u5c06\u88ab\u8fc7\u6ee4\u3002\u5982\u679c\u4e3b\u673afilter_scheduler.max_instances_per_host\u4e0a\u5df2\u4e0d\u5b58\u5728\u8be5\u4e3b\u673a\uff0c\u5219\u8c03\u5ea6\u7a0b\u5e8f\u5c06\u5ffd\u7565 \u8be5\u4e3b\u673a\u3002 AggregateNumInstancesFilter \u6309\u6bcf\u4e2a\u805a\u5408filter_scheduler.max_instances_per_host \u8bbe\u7f6e\u6309\u5b9e\u4f8b\u6570\u8fc7\u6ee4\u4e3b\u673a\u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503cfilter_scheduler.max_instances_per_host\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u6bcf\u4e2a\u4e3b\u673a\u8bbe\u7f6e\u5177\u6709\u4e0d\u540c\u7684\u6700\u5927\u5b9e\u4f8b\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 IoOpsFilter \u901a\u8fc7\u5e76\u53d1I / O\u64cd\u4f5c\u8fc7\u6ee4\u4e3b\u673a\u3002\u5e76\u884cI / O\u64cd\u4f5c\u8fc7\u591a\u7684\u4e3b\u673a\u5c06\u88ab\u8fc7\u6ee4\u3002 filter_scheduler.max_io_ops_per_host \u8bbe\u7f6e\u3002\u5141\u8bb8\u5728\u6b64\u4e3b\u673a\u4e0a\u8fd0\u884c\u7684I / O\u5bc6\u96c6\u578b\u5b9e\u4f8b\u7684\u6700\u5927\u6570\u91cf\uff0c\u5982\u679c filter_scheduler.max_io_ops_per_host \u5728\u5176\u4e0a\u8fd0\u884c\u7684\u5b9e\u4f8b\u8d85\u8fc7\u4e86\u8bf8\u5982\u6784\u5efa/\u8c03\u6574\u5927\u5c0f/\u5feb\u7167\u7b49\u5b9e\u4f8b\uff0c\u5219\u8c03\u5ea6\u7a0b\u5e8f\u5c06\u5ffd\u7565\u8be5\u4e3b\u673a \u3002 AggregateIoOpsFilter \u901a\u8fc7\u6bcf\u4e2a\u805a\u5408filter_scheduler.max_io_ops_per_host\u8bbe\u7f6e\u6309I / O\u64cd\u4f5c\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u805a\u5408\u7684\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c oslo.config\uff1aoption\uff1afilter_scheduler.max_io_ops_per_host\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u5177\u6709\u4e0d\u540c\u7684\u6700\u5927io\u64cd\u4f5c\u8bbe\u7f6e\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 PciPassthroughFilter -\u7b5b\u9009\u5668 \u7528\u4e8e\u5728\u4e3b\u673a\u4e0a\u5177\u6709\u53ef\u6ee1\u8db3\u98ce\u5473'extra_specs'\u4e2d\u7684\u8bbe\u5907\u8bf7\u6c42\u7684\u8bbe\u5907\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u4e3b\u673a\u4e0a\u8c03\u5ea6\u5b9e\u4f8b\u3002 SimpleCIDRAffinityFilter \u5141\u8bb8\u5728\u540c\u4e00IP\u5757\u5185\u7684\u4e3b\u673a\u4e0a\u521b\u5efa\u65b0\u5b9e\u4f8b\u3002 DifferentHostFilter \u5141\u8bb8\u5b9e\u4f8b\u4e0e\u4e00\u7ec4\u5b9e\u4f8b\u4f4d\u4e8e\u4e0d\u540c\u7684\u4e3b\u673a\u4e0a\u3002 SameHostFilter -\u5c06\u5b9e\u4f8b\u4e0e\u4e00\u7ec4\u5b9e\u4f8b\u4e2d\u7684\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u653e\u5728\u540c\u4e00\u4e3b\u673a\u4e0a\u3002 RetryFilter -\u5df2\u6dd8\u6c70 \u7b5b\u9009\u5df2\u5c1d\u8bd5\u8fdb\u884c\u8c03\u5ea6\u7684\u4e3b\u673a\u3002\u4ec5\u901a\u8fc7\u4ee5\u524d\u672a\u5c1d\u8bd5\u8fc7\u7684\u4e3b\u673a\u3002 AggregateTypeAffinityFilter \u901a\u8fc7\u805a\u5408\u9650\u5236instance_type\u3002 \u5982\u679c\u672a\u8bbe\u7f6einstance_type\u5bc6\u94a5\u6216instance_type\u805a\u5408\u5143\u6570\u636e\u503c\u5305\u542b\u6240\u8bf7\u6c42\u7684instance_type\u7684\u540d\u79f0\uff0c\u5219\u6b64\u7b5b\u9009\u5668\u5c06\u901a\u8fc7\u4e3b\u673a\u3002instance_type\u5143\u6570\u636e\u6761\u76ee\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5305\u542b\u5355\u4e2ainstance_type\u540d\u79f0\u6216\u9017\u53f7\u5206\u9694\u7684instance_type\u540d\u79f0\u5217\u8868\u3002\u4f8b\u5982\u201c m1.nano\u201d\u6216\u201c m1.nano\uff0cm1.small\u201d ServerGroupAntiAffinityFilter \u6b64\u8fc7\u6ee4\u5668\u4e3a\u670d\u52a1\u5668\u7ec4\u5b9e\u73b0\u4e86\u53cd\u5173\u8054\u6027\u3002\u9996\u5148\uff0c\u60a8\u5fc5\u987b\u901a\u8fc7\u670d\u52a1\u5668\u7ec4API\u521b\u5efa\u4e00\u4e2a\u7b56\u7565\u4e3a\u201c\u53cd\u4eb2\u548c\u529b\u201d\u7684\u670d\u52a1\u5668\u7ec4\u3002\u7136\u540e\uff0c\u5f53\u60a8\u5f15\u5bfc\u65b0\u670d\u52a1\u5668\u65f6\uff0c\u63d0\u4f9b\u8c03\u5ea6\u7a0b\u5e8f\u63d0\u793a\u201c group = \u201d\uff0c\u5176\u4e2d \u662f\u60a8\u521b\u5efa\u7684\u670d\u52a1\u5668\u7ec4\u7684UUID\u3002\u8fd9\u5c06\u5bfc\u81f4\u670d\u52a1\u5668\u88ab\u6dfb\u52a0\u5230\u7ec4\u4e2d\u3002\u8c03\u5ea6\u670d\u52a1\u5668\u540e\uff0c\u5c06\u5728\u8be5\u7ec4\u4e2d\u7684\u6240\u6709\u670d\u52a1\u5668\u4e4b\u95f4\u5f3a\u5236\u6267\u884c\u53cd\u5173\u8054\u6027\u3002 ServerGroupAffinityFilter \u6b64\u8fc7\u6ee4\u5668\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0eServerGroupAntiAffinityFilter\u76f8\u540c\u3002\u533a\u522b\u5728\u4e8e\uff0c\u521b\u5efa\u670d\u52a1\u5668\u7ec4\u65f6\uff0c\u5e94\u6307\u5b9a\u201c\u4eb2\u548c\u529b\u201d\u7b56\u7565\u3002 AggregateMultiTenancyIsolation \u9694\u79bb\u7279\u5b9a\u96c6\u5408\u4f53\u4e2d\u7684\u79df\u6237\u3002\u8981\u6307\u5b9a\u591a\u4e2a\u79df\u6237\uff0c\u8bf7\u4f7f\u7528\u9017\u53f7\u3002\u4f8b\u5982\u3002\u201c tenant1\uff0ctenant2\u201d AggregateImagePropertiesIsolation \u6839\u636e\u56fe\u50cf\u5c5e\u6027\u548c\u805a\u5408\u5143\u6570\u636e\u9694\u79bb\u4e3b\u673a\u3002\u4f7f\u7528\u9017\u53f7\u4e3a\u540c\u4e00\u5c5e\u6027\u6307\u5b9a\u591a\u4e2a\u503c\u3002\u7136\u540e\uff0c\u8fc7\u6ee4\u5668\u5c06\u786e\u4fdd\u81f3\u5c11\u4e00\u4e2a\u503c\u5339\u914d\u3002 MetricsFilter \u6839\u636e\u6307\u6807weight_setting\u8fc7\u6ee4\u4e3b\u673a\u3002\u4ec5\u4f20\u9012\u5177\u6709\u53ef\u7528\u6307\u6807\u7684\u4e3b\u673a NUMATopologyFilter \u6839\u636e\u5b9e\u4f8b\u8bf7\u6c42\u7684NUMA\u62d3\u6251\u8fc7\u6ee4\u4e3b\u673a\uff08\u5982\u679c\u6709\uff09\u3002 3.Weighting\u6743\u91cd \u00b6 Weighting\u662f\u6307\u5bf9\u6240\u6709\u590d\u5408\u6761\u4ef6\u7684\u4e3b\u53e5\u8fdb\u884c\u6743\u91cd\u7684\u8ba1\u7b97\u5e76\u6392\u5e8f\uff0c\u4ece\u800c\u9009\u51fa\u6700\u4f73\u7684\u4e00\u4e2a\u4e3b\u673a\u3002\u7ecf\u8fc7\u5404\u79cd\u8fc7\u6ee4\u5668\u8fc7\u6ee4\u4e4b\u540e\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u6700\u7ec8\u7684\u4e3b\u673a\u5217\u8868\uff0c\u4fdd\u5b58\u4e86\u6240\u6709\u901a\u8fc7\u6307\u5b9a\u8fc7\u6ee4\u5668\u7684\u4e3b\u673a\u3002\u7531\u4e8e\u5217\u8868\u4e2d\u56fd\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u4e3b\u673a\uff0c\u6240\u4ee5\u8c03\u5ea6\u5668\u8fd8\u9700\u8981\u5728\u4ed6\u4eec\u4e4b\u4e2d\u9009\u62e9\u6700\u4f18\u7684\u4e00\u4e2a\uff0c\u7c7b\u4f3c\u4e8eFiltering\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u8c03\u7528\u6307\u5b9a\u7684\u5404\u79cdweigher\u6a21\u5757\uff0c\u5f97\u51fa\u6bcf\u4e2a\u4e3b\u673a\u603b\u7684\u6743\u91cd\u503c\u3002 \u6743\u91cd\u6a21\u5757\u5217\u8868 \u00b6 ServerGroupSoftAffinityWeigher \u57fa\u4e8e\u5728\u540c\u4e00\u670d\u52a1\u5668\u7ec4\u4e0a\u8fd0\u884c\u7684\u5b9e\u4f8b\u6570\u6765\u8ba1\u7b97\u6743\u91cd\u3002 BuildFailureWeigher \u6700\u8fd1\u5931\u8d25\u7684\u5f15\u5bfc\u5c1d\u8bd5\u6b21\u6570\u52a0\u6743\u4e3b\u673a CrossCellWeigher \u6839\u636e\u4e3b\u673a\u6240\u5728\u7684\u5355\u5143\u5bf9\u4e3b\u673a\u8fdb\u884c\u6743\u91cd\u8ba1\u7b97 RAMWeight \u6839\u636e\u4e3b\u673a\u7684\u5185\u5b58\u6765\u8ba1\u7b97\u6743\u91cd Nova-Compute \u00b6 https://docs.openstack.org/nova/latest/ nova-compute\u8d1f\u8d23\u865a\u62df\u673a\u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\u5305\u62ecinstance\u7684launch\uff0cshutdown\uff0creboot\uff0csuspend\uff0crespernd\uff0cresume\uff0cterminate\uff0cresize\uff0cmigration\uff0csnapshot\u7b49\u3002 nova-compute\u4f4d\u4e8e\u5728hypervison\u5c42\u3002Nova-Compute\u8d1f\u8d23\u5728\u6570\u636e\u4e2d\u66f4\u65b0\u4e3b\u673a\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a\u7269\u7406\u4e3b\u673a\u4e0a\u6709\u4e00\u4e2anova-compoute\u8fdb\u7a0b\uff0c\u7531\u5176\u8d1f\u8d23\u8be5\u8fdb\u7a0b\u6240\u5728\u4e3b\u673a\u4e0a\u7684\u8d44\u6e90\u7ba1\u7406\uff0c\u5e76\u901a\u8fc7nova-conductor\u5411DB\u6570\u636e\u5e93\u4e2d\u62a5\u544a\u3002 Nova-Compute\u4f1a\u901a\u8fc7\u4e24\u79cd\u9014\u5f84\u6765\u66f4\u65b0\u5f53\u524d\u4e3b\u673a\u6240\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8bb0\u5f55\u3002\u4e00\u662fResource Tracker\u7684Claim\u673a\u5236\uff0c\u4e8c\u662f\u4f7f\u7528\u5468\u671f\u6027\u4efb\u52a1Periodic Task. Claim\u673a\u5236 \u00b6 \u5f53\u4e00\u53f0\u4e3b\u673a\u88abNova-Scheduler\u7684\u591a\u4e2a\u51b3\u7b56\u540c\u65f6\u9009\u4e2d\u5e76\u53d1\u9001\u521b\u5efa\u865a\u62df\u673a\u7684\u8bf7\u6c42\u65f6\uff0c\u8fd9\u53f0\u88ab\u9009\u4e2d\u7684\u865a\u62df\u673a\u53ef\u80fd\u5e76\u6ca1\u6709\u8db3\u591f\u7684\u8d44\u6e90\u53bb\u6ee1\u8db3\u8fd9\u591a\u4e2a\u51b3\u7b56\u7684\u865a\u62df\u673a\u521b\u5efa\u8bf7\u6c42\u3002Clim\u673a\u5236\u4fbf\u662f\u5728\u521b\u5efa\u4e4b\u524d\u5148\u5bf9\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u8fdb\u884c\u6d4b\u8bd5\uff0c\u67e5\u770b\u80fd\u5426\u6ee1\u8db3\u9700\u6c42\uff0c\u5982\u679c\u6ee1\u8db3\u901a\u8fc7nova-conductor\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u5c06\u865a\u62df\u673a\u521b\u5efa\u6240\u7533\u8bf7\u7684\u8d44\u6e90\u4ece\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u4e2d\u51cf\u53bb\uff0c\u5982\u679c\u521b\u5efa\u5931\u8d25\uff0c\u4f1a\u901a\u8fc7Clim\u6062\u590d\u4e4b\u524d\u51cf\u6389\u7684\u8d44\u6e90\u3002 Period Task \u00b6 \u5b58\u5728\u4e00\u4e2a\u5468\u671f\u6027\u4efb\u52a1\u7528\u4e8e\u66f4\u65b0\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\u3002\u4ed6\u6bcf\u6b21\u901a\u8fc7hypervison\u91cd\u65b0\u83b7\u53d6\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4fe1\u606f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\u3002 claim\u548cPeriod\u8fd9\u4e24\u79cd\u66f4\u65b0\u4e3b\u673a\u6570\u636e\u8d44\u6e90\u7684\u65b9\u5f0f\u5e76\u4e0d\u51b2\u7a81\u3002Clim\u662f\u5728\u6bcf\u6b21\u4e3b\u673a\u53d1\u751f\u6d88\u8017\u65f6\u8fdb\u884c\u66f4\u65b0\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u5e93\u4e2d\u53ef\u7528\u8d44\u6e90\u6570\u636e\u7684\u65f6\u6548\u6027\u3002\u80fd\u591f\u4e3anova-schduler\u63d0\u4f9b\u6700\u65b0\u7684\u6570\u636e\u3002\u5468\u671f\u6027\u7684period\u66f4\u65b0\u662f\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u5e93\u5185\u6570\u636e\u7684\u51c6\u786e\u6027\uff0c\u4ed6\u6bcf\u6b21\u901a\u8fc7hypervison\u91cd\u65b0\u83b7\u53d6\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4fe1\u606f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\u3002 NOVA\u521b\u5efa\u865a\u62df\u673a\u7684\u8fc7\u7a0b \u00b6 1.Nova-API\u901a\u8fc7\u5317\u5411\u63a5\u53e3\u63a5\u6536\u521b\u5efa\u865a\u62df\u673a\u7684\u8bf7\u6c42\uff08RESTful \u8bf7\u6c42\uff09 2.Nova-API\u50cfkeyStone\u8fdb\u884c\u8ba4\u8bc1\u6388\u6743\uff0c\u6388\u6743\u6210\u529f\u4ee5\u540e\uff0cNova-API\u901a\u8fc7RPC\u5411nova-Conductor\u53d1\u9001\u4fe1\u606f 3.Nova-conductor\u751f\u6210\u8be6\u7ec6\u7684\u865a\u62df\u673a\u4fe1\u606f\uff0cNova-Scheduler\u4f9d\u636e\u8fd9\u4e9b\u4fe1\u606f\u4e3a\u865a\u62df\u673a\u9009\u62e9\u4e00\u4e2a\u6700\u4f73\u4e3b\u673a\uff08Fileting\uff0cweighting\uff09 3.Nova-Conductor\u518d\u901a\u8fc7RPC\u8c03\u7528Nova-Compute\u521b\u5efa\u865a\u62df\u673a 4.Nova-Compute\u9996\u5148\u4f7f\u7528Resource Tracker\u4e2d\u7684Clim\u673a\u5236\u68c0\u6d4b\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u80fd\u5426\u6ee1\u8db3\u521b\u5efa\u865a\u62df\u673a\u7684\u9700\u6c42\uff0c\u7136\u540e\u901a\u8fc7\u5177\u4f53\u7684Virt Driver\u521b\u5efa\u865a\u62df\u673a\u3002 --\u672c\u6587\u7531\u5973\u795e\u63d0\u4f9b\u90e8\u5206\u6750\u6599\u7684\u6574\u7406\u7f16\u6392","title":"OpenStack\u5206\u4eab\u7bc74 Nova"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#openstack4-nova","text":"Nova\u7531\u591a\u4e2a\u63d0\u4f9b\u4e0d\u540c\u529f\u80fd\u7684\u72ec\u7acb\u7ec4\u4ef6\u6784\u6210\uff0c\u5916\u90e8\u901a\u8fc7 REST API\u8fdb\u884c\u901a\u4fe1\uff0c\u5bf9\u5185\u4f7f\u7528RPC\u8fdb\u884c\u901a\u4fe1\uff0c\u4f7f\u7528\u4e00\u4e2a\u4e2d\u5fc3DB\u6765\u5b58\u50a8\u6570\u636e\u3002\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u53ef\u4ee5\u90e8\u7f72\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6765\u5b9e\u73b0\u6a2a\u5411\u6269\u5c55\u3002\u8fd9\u6837\u7684\u67b6\u6784\u662f\u88ab\u5927\u90e8\u5206OpenStack\u9879\u76ee\u6240\u91c7\u7528\u7684\u3002 \u5728\u8be6\u7ec6\u7684\u4ecb\u7ecdNova\u7ec4\u4ef6\u4e4b\u524d\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u4e0eNova\u76f8\u5173\u7684REST API RPC","title":"OpenStack\u5206\u4eab\u7bc74-Nova"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#rest-api","text":"https://www.mulesoft.com/resources/api/what-is-an-api","title":"REST API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#api","text":"API \u662fApplication Programming Interface\uff08\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\uff09\u7684\u7f29\u5199\u3002\u57fa\u672c\u4e0aAPI\u6307\u5b9a\u4e86\u8f6f\u4ef6\u7ec4\u4ef6\u4e4b\u95f4\u5e94\u8be5\u5982\u4f55\u8fdb\u884c\u4ea4\u4e92\u3002\u6b64\u5916\u5728\u56fe\u5f62\u7528\u6237\u754c\u9762\uff08GUI\uff09\u7ec4\u4ef6\u4e0a\u8fdb\u884c\u7f16\u7a0b\u65f6\u4f1a\u4f7f\u7528API\uff0c\u597d\u7684APi\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u6240\u6709\u6784\u4ef6\u6765\u7b80\u5316\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002","title":"\u4ec0\u4e48\u662fAPI"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#api_1","text":"\u5f53\u60a8\u5728\u4f7f\u7528\u5e94\u7528\u7a0b\u5e8f\u662f\uff0c\u8be5\u5e94\u7528\u7a0b\u5e8f\u4f1a\u94fe\u63a5\u5230Internet\u7f51\u7edc\u4e0a\u5e76\u5c06\u6570\u636e\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u7136\u540e\u670d\u52a1\u5668\u68c0\u7d22\u6570\u636e\uff0c\u5bf9\u5176\u8fdb\u884c\u89e3\u91ca\uff0c\u6267\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u8fd4\u56de\u5230\u5e94\u7528\uff0c\u7531\u5e94\u7528\u5bf9\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u89e3\u91ca\uff0c\u5e76\u4ee5\u523b\u5ea6\u7684\u65b9\u5f0f\u4e3a\u7528\u6237\u63d0\u4f9b\u6240\u9700\u7684\u4fe1\u606f\u3002 \u4e3e\u4e2a\u73b0\u5b9e\u4e2d\u7684\u4f8b\u5b50\uff0c\u5f53\u60a8\u4f7f\u7528\u624b\u673a\u4e0a\u7684\u5730\u56fe\u5e94\u7528\u67e5\u8be2\u4ea4\u901a\u4fe1\u606f\u65f6\uff0c\u7531\u5730\u56fe\u5e94\u7528\u5c06\u60a8\u6240\u67e5\u8be2\u7684\u4fe1\u606f\u901a\u8fc7Internet\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u518d\u7531InterNet\u4e0a\u7684\u670d\u52a1\u5668\u5bf9\u5bf9\u60a8\u67e5\u8be2\u7684\u4ea4\u901a\u4fe1\u606f\u8fdb\u884c\u68c0\u7d22\u548c\u5904\u7406\uff0c\u8fd4\u56de\u5230\u60a8\u7684\u5e94\u7528\u4e0a\u3002\u60a8\u7684\u5730\u56fe\u5e94\u7528\u5bf9\u8fd9\u4e9b\u8fd4\u56de\u7684\u4fe1\u606f\u8fdb\u884c\u5904\u7406\u7ec4\u7ec7\u6210\u7528\u6237\u53ef\u8bfb\u7684\u5f62\u5f0f\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u8bb2\u8ba1\u7b97\u673a\u8bed\u8a00\u7ec4\u7ec7\u6210\u4eba\u7c7b\u8bed\u8a00\u7684\u5f62\u5f0f\u8fdb\u884c\u5c55\u793a\u3002\u6b64\u65f6\u60a8\u5c31\u53ef\u4ee5\u770b\u5230\u60a8\u67e5\u8be2\u7684\u4ea4\u901a\u4fe1\u606f\u7684\u7ed3\u679c\u4e86\u3002","title":"API\u793a\u4f8b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#api_2","text":"\u73b0\u4ee3API\u9075\u5faa\u7684\u6807\u51c6\uff08\u901a\u5e38\u662fHTTP\u548cREST\uff09\uff0c\u8fd9\u4e9b\u6807\u51c6\u5bf9\u5f00\u53d1\u4eba\u5458\u53cb\u597d\uff0c\u6613\u4e8e\u8bbf\u95ee\u4e14\u5e7f\u6cdb\u7406\u89e3\u3002","title":"\u73b0\u4ee3API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#rest","text":"https://www.sitepoint.com/developers-rest-api/ REST\u662f ***Representational State Transfer*** \u7684\u7f29\u5199\uff1b\u5b83\u662f\u7531\u7f57\u4f0a~\u83f2\u5c14\u4e01\uff08Roy Fielding\uff09\u63d0\u51fa\u7684\uff0c\u7528\u6765\u63cf\u8ff0\u521b\u5efaHTTP API\u7684\u6807\u51c6\u65b9\u6cd5\u7684\uff0c\u4ed6\u53d1\u73b0\u56db\u79cd\u5e38\u7528\u7684\u884c\u4e3a\uff0cview \u67e5\u770bcreate\u521b\u5efa delete\u5220\u9664 edit\u4fbf\u7f16\u8f91\u90fd\u53ef\u4ee5\u76f4\u63a5\u6620\u5c04\u5230HTTP \u4e2d\u5df2\u5b9e\u73b0\u7684GET,POST,PUT\u548cDELETE\u65b9\u6cd5\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u4f60\u5728\u4f7f\u7528\u4f60\u7684\u6d4f\u89c8\u5668\u7684\u70b9\u70b9\u770b\u770b\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u53ea\u7528\u5230HTTP\u7684GET\u65b9\u6cd5\u3002GET\u65b9\u6cd5\u662f\u5728\u4f60\u5411\u56e0\u7279\u7f51\u8bf7\u6c42\u8d44\u6e90\u7684\u65f6\u5019\u624d\u4f1a\u7528\u5230\u7684\u3002\u5f53\u4f60\u63d0\u4ea4\u4e00\u4e2a\u8868\u5355\u65f6\uff0c\u4f60\u5c31\u4f1a\u7ecf\u5e38\u7528\u5230POST\u65b9\u6cd5\u6765\u56de\u4f20\u6570\u636e\u5230\u7f51\u7ad9\u4e0a\u3002\u81f3\u4e8e\u5176\u4ed6\u7684\u51e0\u79cd\u65b9\u6cd5\uff0c\u67d0\u4e9b\u6d4f\u89c8\u5668\u53ef\u80fd\u6839\u672c\u5c31\u6ca1\u6709\u53bb\u5b8c\u5168\u5b9e\u73b0\u5b83\u4eec\u3002\u4f46\u662f\uff0c\u5982\u679c\u662f\u4f9b\u6211\u4eec\u4f7f\u7528\u7684\u8bdd\uff0c\u5c31\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u95ee\u9898\u662f\u6211\u4eec\u6709\u5f88\u591a\u8981\u9009\u62e9\u53bb\u5e2e\u52a9\u63cf\u8ff0\u8fd9\u56db\u5927\u884c\u4e3a\u7684HTTP\u65b9\u6cd5\uff0c\u6211\u4eec\u5c06\u4f1a\u7528\u5230\u90a3\u4e9b\u5df2\u7ecf\u77e5\u9053\u5982\u4f55\u53bb\u4f7f\u7528\u8fd9\u4e9b\u4e0d\u540c\u7684HTTP\u65b9\u6cd5\u7684\u5ba2\u6237\u7aef\u7c7b\u5e93\u3002 REST\u662f\u4e24\u4e2a\u8ba1\u7b97\u7cfb\u7edf\u4e4b\u95f4\u901a\u8fc7HTTP\u8fdb\u884c\u901a\u4fe1\u7684\u4e00\u79cd\u65b9\u5f0f\uff1b\u7c7b\u4f3c\u4e8eWEB\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u3002\u6d4f\u89c8\u5668\u4f7f\u7528\u7684REST\u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e92\u8054\u7f51\u7684\u8bed\u8a00\uff0c\u968f\u7740\u4e91\u8ba1\u7b97\u7684\u4f7f\u7528\u4e0d\u65ad\u589e\u52a0\uff0c\u4e91\u8ba1\u7b97\u6d88\u8d39\u8005\u6b63\u5728\u4f7f\u7528\u516c\u6709API\u548c\u7ec4\u7ec7\u5bf9Web\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\uff0cREST\u662f\u6784\u5efaAPI\u7684\u5408\u7406\u9009\u62e9\uff0c\u6539API\u5141\u8bb8\u7528\u6237\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u7075\u6d3b\u7684\u94fe\u63a5\u5230\u4e91\u670d\u52a1\uff0c\u5e76\u4e0e\u4e4b\u5efa\u7acb\u7ba1\u7406\u548c\u4ea4\u4e92\u3002RESTful API\u88abAmazon\uff0cGoogle\uff0cTwitter\u7b49\u7f51\u7ad9\u4f7f\u7528\u3002","title":"REST"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#rest-api_1","text":"RESTful API\u5206\u89e3\u4e8b\u7269\u4ee5\u521b\u5efa\u4e00\u7cfb\u5217\u5c0f\u6a21\u5757\u3002\u6bcf\u4e2a\u6a21\u5757\u90fd\u5904\u7406\u4e8b\u52a1\u7684\u7279\u5b9a\u57fa\u7840\u90e8\u5206\u3002\u8fd9\u79cd\u6a21\u5757\u5316\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u662f\u5bf9\u4e8e\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\uff0c\u4ece\u5934\u5f00\u59cb\u8bbe\u8ba1REST API\u53ef\u80fd\u4f1a\u9762\u4e34\u6311\u6218OpenStack\uff0cAmazon\u7b49\u63d0\u4f9b\u4e86\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u7684\u6a21\u578b\u3002","title":"REST API\u5982\u4f55\u5de5\u4f5c"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#mqmessage-queue","text":"https://aws.amazon.com/cn/message-queue/","title":"MQ\uff08Message Queue \uff09\uff1a\u6d88\u606f\u961f\u5217"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_1","text":"\u5728\u73b0\u4ee3\u4e91\u67b6\u6784\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u88ab\u5206\u89e3\u4e3a\u591a\u4e2a\u89c4\u6a21\u8f83\u5c0f\u4e14\u66f4\u6613\u4e8e\u5f00\u53d1\u3001\u90e8\u7f72\u548c\u7ef4\u62a4\u7684\u72ec\u7acb\u6784\u5efa\u5757\u3002\u6d88\u606f\u961f\u5217\u53ef\u4e3a\u8fd9\u4e9b\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u901a\u4fe1\u548c\u534f\u8c03\u3002\u6d88\u606f\u961f\u5217\u53ef\u4ee5\u663e\u8457\u7b80\u5316\u5206\u79bb\u5e94\u7528\u7a0b\u5e8f\u7684\u7f16\u7801\uff0c\u540c\u65f6\u63d0\u9ad8\u6027\u80fd\u3001\u53ef\u9760\u6027\u548c\u53ef\u6269\u5c55\u6027\u3002 \u501f\u52a9\u6d88\u606f\u961f\u5217\uff0c\u7cfb\u7edf\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u76f8\u4e92\u901a\u4fe1\u5e76\u5f02\u6b65\u6267\u884c\u5904\u7406\u64cd\u4f5c\u3002\u6d88\u606f\u961f\u5217\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u5b58\u50a8\u6d88\u606f\u7684\u8f7b\u91cf\u7ea7\u7f13\u51b2\u533a\uff0c\u4ee5\u53ca\u5141\u8bb8\u8f6f\u4ef6\u7ec4\u4ef6\u8fde\u63a5\u5230\u961f\u5217\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u7684\u7ec8\u7aef\u8282\u70b9\u3002\u8fd9\u4e9b\u6d88\u606f\u901a\u5e38\u8f83\u5c0f\uff0c\u53ef\u4ee5\u662f\u8bf7\u6c42\u3001\u6062\u590d\u3001\u9519\u8bef\u6d88\u606f\u6216\u660e\u6587\u4fe1\u606f\u7b49\u3002\u8981\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u4e00\u4e2a\u540d\u4e3a\u201c\u521b\u5efa\u5668\u201d\u7684\u7ec4\u4ef6\u4f1a\u5c06\u6d88\u606f\u6dfb\u52a0\u5230\u961f\u5217\u3002\u6d88\u606f\u5c06\u5b58\u50a8\u5728\u961f\u5217\u4e2d\uff0c\u76f4\u81f3\u540d\u4e3a\u201c\u5904\u7406\u5668\u201d\u7684\u53e6\u4e00\u7ec4\u4ef6\u68c0\u7d22\u8be5\u6d88\u606f\u5e76\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u3002","title":"\u6d88\u606f\u961f\u5217\u57fa\u672c\u77e5\u8bc6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_2","text":"1.\u80fd\u591f\u901a\u8fc7\u5f02\u6b65\u5904\u7406\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\uff08\u524a\u5cf0\u586b\u8c37\uff0c\u51cf\u5c11\u76f8\u5e94\u6240\u9700\u7684\u65f6\u95f4\uff09 \u200b \u5728\u4e0d\u9002\u7528\u6d88\u606f\u961f\u5217\u7684\u60c5\u51b5\u7cfb\uff0c\u5ba2\u6237\u7aef\u53d1\u8d77\u7684\u6570\u636e\u8bf7\u6c42\u76f4\u63a5\u5199\u5165\u6570\u636e\u5e93\uff0c\u5728\u9ad8\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u56de\u4f7f\u5f97\u6570\u636e\u5e93\u538b\u529b\u5267\u589e\uff0c\u662f\u5f97\u76f8\u5e94\u901f\u5ea6\u53d8\u6162\u3002\u5f15\u5165\u6d88\u606f\u961f\u5217\u4e4b\u540e\uff0c\u7528\u6237\u8bf7\u6c42\u7684\u6570\u636e\u53d1\u9001\u7ed9\u6d88\u606f\u961f\u5217\u540e\u7acb\u5373\u8fd4\u56de\uff0c\u518d\u7531\u6d88\u606f\u961f\u5217\u7684\u6d88\u8d39\u8005\u8fdb\u7a0b\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u5f02\u6b65\u5199\u5165\u6570\u636e\u5e93\u3002\u7531\u4e8e\u6d88\u606f\u961f\u5217\u670d\u52a1\u5668\u7684\u5904\u7406\u901f\u5ea6\u5feb\u4e8e\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u80fd\u591f\u63d0\u5347\u6027\u80fd\u3002 2.\u964d\u4f4e\u7cfb\u7edf\u8026\u5408\u6027 \u6d88\u606f\u961f\u5217\u4f7f\u7528\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u5de5\u4f5c\uff0c\u6d88\u606f\u53d1\u9001\u8005\uff08\u751f\u4ea7\u8005\uff09\u53d1\u5e03\u6d88\u606f\uff0c\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6d88\u606f\u63a5\u53d7\u8005\uff08\u6d88\u8d39\u8005\uff09\u8ba2\u9605\u6d88\u606f\u3002 \u5728\u4e0a\u56fe\u6240\u793a\u7684\u903b\u8f91\u56fe\u4e2d\uff0c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u4e4b\u95f4\u4e0d\u662f\u8026\u5408\u5173\u7cfb\uff0c\u6d88\u606f\u961f\u5217MQ\u5728\u5176\u4e2d\u5145\u5f53\u4e2d\u95f4\u4ef6\u7684\u4f5c\u7528\u3002\u6d88\u606f\u7684\u53d1\u9001\u8005\u53d1\u9001\u6d88\u606f\u5230\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\u4fbf\u7ed3\u675f\u5bf9\u6d88\u606f\u7684\u5904\u7406\uff0c\u6d88\u606f\u63a5\u53d7\u8005\u4ece\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\u540e\u8fdb\u884c\u540e\u7eed\u7684\u5904\u7406\u52a8\u4f5c\uff0c\u800c\u5e76\u9700\u8981\u5173\u5fc3\u6d88\u606f\u7684\u6765\u6e90\u3002\u5bf9\u4e8e\u65b0\u589e\u7684\u4e1a\u52a1\u5982\u679c\u5bf9\u8be5\u7c7b\u6d88\u606f\u611f\u5174\u8da3\uff0c\u5373\u53ef\u4ee5\u901a\u8fc7\u8ba2\u9605\u7684\u65b9\u5f0f\u8ba2\u9605\u8be5\u6d88\u606f\uff0c\u5bf9\u539f\u6709\u7684\u7cfb\u7edf\u548c\u4e1a\u52a1\u5e76\u4e0d\u4ea7\u751f\u5f71\u54cd\u3002\u4ece\u800c\u5b9e\u73b0\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u5206\u5e03\u5f0f\u3002 \u6d88\u606f\u961f\u5217\u4e0d\u4ec5\u6709\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\uff0c\u8fd8\u6709\u70b9\u5bf9\u70b9\u8ba2\u9605\u6a21\u5f0f\uff08\u4e00\u4e2a\u6d88\u606f\u53ea\u6709\u4e00\u4e2a\u6d88\u8d39\u8005\uff09\u3002","title":"\u4e3a\u4ec0\u4e48\u8981\u7528\u6d88\u606f\u961f\u5217"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_3","text":"--\u53c2\u8003java\u5de5\u7a0b\u5e08\u9762\u8bd5\u7a81\u51fb\u7b2c\u4e00\u5b63 ActiveMQ \u7684\u793e\u533a\u7b97\u662f\u6bd4\u8f83\u6210\u719f\uff0c\u4f46\u662f\u8f83\u76ee\u524d\u6765\u8bf4\uff0cActiveMQ \u7684\u6027\u80fd\u6bd4\u8f83\u5dee\uff0c\u800c\u4e14\u7248\u672c\u8fed\u4ee3\u5f88\u6162\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 RabbitMQ \u5728\u541e\u5410\u91cf\u65b9\u9762\u867d\u7136\u7a0d\u900a\u4e8e Kafka \u548c RocketMQ \uff0c\u4f46\u662f\u7531\u4e8e\u5b83\u57fa\u4e8e erlang \u5f00\u53d1\uff0c\u6240\u4ee5\u5e76\u53d1\u80fd\u529b\u5f88\u5f3a\uff0c\u6027\u80fd\u6781\u5176\u597d\uff0c\u5ef6\u65f6\u5f88\u4f4e\uff0c\u8fbe\u5230\u5fae\u79d2\u7ea7\u3002\u4f46\u662f\u4e5f\u56e0\u4e3a RabbitMQ \u57fa\u4e8e erlang \u5f00\u53d1\uff0c\u6240\u4ee5\u56fd\u5185\u5f88\u5c11\u6709\u516c\u53f8\u6709\u5b9e\u529b\u505aerlang\u6e90\u7801\u7ea7\u522b\u7684\u7814\u7a76\u548c\u5b9a\u5236\u3002\u5982\u679c\u4e1a\u52a1\u573a\u666f\u5bf9\u5e76\u53d1\u91cf\u8981\u6c42\u4e0d\u662f\u592a\u9ad8\uff08\u5341\u4e07\u7ea7\u3001\u767e\u4e07\u7ea7\uff09\uff0c\u90a3\u8fd9\u56db\u79cd\u6d88\u606f\u961f\u5217\u4e2d\uff0cRabbitMQ \u4e00\u5b9a\u662f\u4f60\u7684\u9996\u9009\u3002\u5982\u679c\u662f\u5927\u6570\u636e\u9886\u57df\u7684\u5b9e\u65f6\u8ba1\u7b97\u3001\u65e5\u5fd7\u91c7\u96c6\u7b49\u573a\u666f\uff0c\u7528 Kafka \u662f\u4e1a\u5185\u6807\u51c6\u7684\uff0c\u7edd\u5bf9\u6ca1\u95ee\u9898\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u5f88\u9ad8\uff0c\u7edd\u5bf9\u4e0d\u4f1a\u9ec4\uff0c\u4f55\u51b5\u51e0\u4e4e\u662f\u5168\u4e16\u754c\u8fd9\u4e2a\u9886\u57df\u7684\u4e8b\u5b9e\u6027\u89c4\u8303\u3002 RocketMQ \u963f\u91cc\u51fa\u54c1\uff0cJava \u7cfb\u5f00\u6e90\u9879\u76ee\uff0c\u6e90\u4ee3\u7801\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u9605\u8bfb\uff0c\u7136\u540e\u53ef\u4ee5\u5b9a\u5236\u81ea\u5df1\u516c\u53f8\u7684MQ\uff0c\u5e76\u4e14 RocketMQ \u6709\u963f\u91cc\u5df4\u5df4\u7684\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u7684\u5b9e\u6218\u8003\u9a8c\u3002RocketMQ \u793e\u533a\u6d3b\u8dc3\u5ea6\u76f8\u5bf9\u8f83\u4e3a\u4e00\u822c\uff0c\u4e0d\u8fc7\u4e5f\u8fd8\u53ef\u4ee5\uff0c\u6587\u6863\u76f8\u5bf9\u6765\u8bf4\u7b80\u5355\u4e00\u4e9b\uff0c\u7136\u540e\u63a5\u53e3\u8fd9\u5757\u4e0d\u662f\u6309\u7167\u6807\u51c6 JMS \u89c4\u8303\u8d70\u7684\u6709\u4e9b\u7cfb\u7edf\u8981\u8fc1\u79fb\u9700\u8981\u4fee\u6539\u5927\u91cf\u4ee3\u7801\u3002\u8fd8\u6709\u5c31\u662f\u963f\u91cc\u51fa\u53f0\u7684\u6280\u672f\uff0c\u4f60\u5f97\u505a\u597d\u8fd9\u4e2a\u6280\u672f\u4e07\u4e00\u88ab\u629b\u5f03\uff0c\u793e\u533a\u9ec4\u6389\u7684\u98ce\u9669\uff0c\u90a3\u5982\u679c\u4f60\u4eec\u516c\u53f8\u6709\u6280\u672f\u5b9e\u529b\u6211\u89c9\u5f97\u7528RocketMQ \u633a\u597d\u7684 kafka \u7684\u7279\u70b9\u5176\u5b9e\u5f88\u660e\u663e\uff0c\u5c31\u662f\u4ec5\u4ec5\u63d0\u4f9b\u8f83\u5c11\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u4f46\u662f\u63d0\u4f9b\u8d85\u9ad8\u7684\u541e\u5410\u91cf\uff0cms \u7ea7\u7684\u5ef6\u8fdf\uff0c\u6781\u9ad8\u7684\u53ef\u7528\u6027\u4ee5\u53ca\u53ef\u9760\u6027\uff0c\u800c\u4e14\u5206\u5e03\u5f0f\u53ef\u4ee5\u4efb\u610f\u6269\u5c55\u3002\u540c\u65f6 kafka \u6700\u597d\u662f\u652f\u6491\u8f83\u5c11\u7684 topic \u6570\u91cf\u5373\u53ef\uff0c\u4fdd\u8bc1\u5176\u8d85\u9ad8\u541e\u5410\u91cf\u3002kafka \u552f\u4e00\u7684\u4e00\u70b9\u52a3\u52bf\u662f\u6709\u53ef\u80fd\u6d88\u606f\u91cd\u590d\u6d88\u8d39\uff0c\u90a3\u4e48\u5bf9\u6570\u636e\u51c6\u786e\u6027\u4f1a\u9020\u6210\u6781\u5176\u8f7b\u5fae\u7684\u5f71\u54cd\uff0c\u5728\u5927\u6570\u636e\u9886\u57df\u4e2d\u4ee5\u53ca\u65e5\u5fd7\u91c7\u96c6\u4e2d\uff0c\u8fd9\u70b9\u8f7b\u5fae\u5f71\u54cd\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e2a\u7279\u6027\u5929\u7136\u9002\u5408\u5927\u6570\u636e\u5b9e\u65f6\u8ba1\u7b97\u4ee5\u53ca\u65e5\u5fd7\u6536\u96c6\u3002","title":"\u96c6\u4e2d\u6d88\u606f\u961f\u5217"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova","text":"\u76ee\u524d\u7684Nova\u4e3b\u8981\u7531Nova-API\uff0cNova-Conductor\uff0cNova-COmpute\uff0cNova-Scheduler\u56db\u4e2a\u6838\u5fc3\u7ec4\u4ef6\u6240\u7ec4\u6210\uff0c\u7ec4\u4ef6\u4e4b\u95f4\u91c7\u7528RPC\u8fdb\u884c\u901a\u4fe1\u3002","title":"Nova\u67b6\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#novaapi","text":"Nova-API\u662f\u8fdb\u5165Nova\u7684HTTP\u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u90e8\u7f72\u591a\u4e2a\u6765\u5b9e\u73b0\u6a2a\u5411\u6269\u5c55\u3002Nova-APi\u4f5c\u4e3a\u5ba2\u6237\u7aef\u548cNova \u4e4b\u95f4\u7684\u4e2d\u95f4\u5c42\uff0cNova-API\u626e\u6f14\u4e86\u4e00\u4e2a\u6865\u6881\uff0c\u6216\u8005\u8bf4\u4e2d\u95f4\u4eba\u7684\u89d2\u8272\u3002Nova-API\u628a\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u4f20\u8fbe\u7ed9Nova\uff0c\u5f85\u5230Nova\u5904\u7406\u5b8c\u6210\u4e4b\u540e\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef\u3002","title":"Nova\u2014API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-conductor","text":"nova \u7684\u7248\u672c\uff1a https://docs.openstack.org/train/# Nova-conductor\u670d\u52a1\u6700\u521d\u5728Gizzly\u7248\u672c\u4e2d\u53d1\u5e03\uff0c\u4f5c\u4e3aNova\u9879\u76ee\u7684 \u6838\u5fc3\u6a21\u5757\u4e4b\u4e00\uff0c\u4ed6\u5728\u6574\u4e2aNova\u4e2d\u76f8\u5f53\u4e8e\u7ec4\u7ec7\u8005\u7684\u89d2\u8272\uff0c\u4e3b\u8981\u63d0\u4f9b\u4e863\u9879\u57fa\u672c\u529f\u3002","title":"Nova-Conductor"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-conductor_1","text":"Nova-Conductor\u8fde\u63a5\u4e86Nova-API\uff1bNova-compute\uff0cNova-scheduler\u670d\u52a1\uff0c\u6240\u4ee5\u5b83\u9996\u5148\u63d0\u4f9b\u4e86\u957f\u65f6\u4efb\u52a1\u7f16\u6392\uff08task orchestration\uff09\u529f\u80fd\u3002Nova\u5c06\u6240\u6709\u8017\u65f6\u957f\uff0c\u8de8\u8282\u70b9\uff0c\u6613\u9519\u4f46\u76f8\u5bf9\u56fa\u5b9a\u7684\u5904\u7406\u6d41\u7a0b\u62bd\u8c61\u6210\u4efb\u52a1\uff0c\u5305\u62ec\u865a\u62df\u673a\u542f\u52a8\uff0c\u70ed\u8fc1\u79fb\uff08Vmotion\uff09\uff0c\u51b7\u8fc1\u79fb\u7b49\u3002Nova-Conductor\u4f5c\u4e3a\u4efb\u52a1\u7684\u7ec4\u7ec7\u8005\uff0c\u4e0d\u4ec5\u80fd\u540c\u65f6\u8fdb\u884c\u7684\u591a\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u8fdb\u884c\u8ddf\u8e2a\uff0c\u8fd8\u80fd\u5b8c\u6210\u9519\u8bef\u5904\u7406\uff0c\u6062\u590d\u7b49\u4e00\u7cfb\u5217\u7684\u529f\u80fd\u3002","title":"Nova-Conductor\u7684\u957f\u65f6\u4efb\u52a1\u7f16\u6392\u529f\u80fd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-conductor_2","text":"Nova-Conductor\u4e3aNova-Compute\u63d0\u4f9b\u4e86\u6570\u636e\u4ee3\u7406\u8bbf\u95ee\u673a\u5236\uff0c\u4e0d\u4ec5\u662f\u6570\u636e\u5e93\u8bbf\u95ee\u7684\u4e00\u5c42\u5b89\u5168\u4fdd\u969c\uff0c\u8fd8\u5728\u6570\u636e\u5e93\u5347\u7ea7\u8fc7\u7a0b\u4e2d\u672a\u65e7\u7684Nova-Compute\u8282\u70b9\u63d0\u4f9b\u4e86\u5411\u4e0b\u7684\u517c\u5bb9\u6027\u3002\u5728\u6a21\u5757\u4e4b\u95f4\u7684\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u7531\u4e8e\u4e0d\u540c\u7684\u670d\u52a1\u53ef\u80fd\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u7248\u672c\u4e0a\uff0cNova-Conductor\u4e3a\u4f20\u8f93\u6570\u636e\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e86\u7248\u672c\u517c\u5bb9\u7684\u529f\u80fd\uff0c\u8ba9\u5904\u5728\u4e0d\u540c\u7248\u672c\u7684Nova\u670d\u52a1\u80fd\u591f\u8bc6\u522bRPC\u8bf7\u6c42\u4e2d\u6570\u636e\u7684\u5bf9\u8c61\u7248\u672c\uff0c\u5e76\u4e14\u5b8c\u6210\u7248\u672c\u7684\u81ea\u52a8\u8f6c\u6362\u3002","title":"Nova-Conductor\u7684\u6570\u636e\u5e93\u4ee3\u7406\u8bbf\u95ee\u673a\u5236"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-conductor_3","text":"Nova-Conductor\u670d\u52a1\u672c\u8eab\u662f\u65e0\u72b6\u6001\u7684\uff08 \u5bf9\u670d\u52a1\u5668\u7a0b\u5e8f\u6765\u8bf4\uff0c\u6709\u4e24\u4e2a\u57fa\u672c\u5047\u8bbe\u5341\u5206\u91cd\u8981\uff0c\u7a76\u7adf\u670d\u52a1\u5668\u662f\u57fa\u4e8e\u72b6\u6001\u8bf7\u6c42\u8fd8\u662f\u65e0\u72b6\u6001\u8bf7\u6c42\u3002\u72b6\u6001\u5316\u7684\u5224\u65ad\u662f\u6307\u4e24\u4e2a\u6765\u81ea\u76f8\u540c\u53d1\u8d77\u8005\u7684\u8bf7\u6c42\u5728\u670d\u52a1\u5668\u7aef\u662f\u5426\u5177\u5907\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002\u5982\u679c\u662f\u72b6\u6001\u5316\u8bf7\u6c42\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u7aef\u4e00\u822c\u90fd\u8981\u4fdd\u5b58\u8bf7\u6c42\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u9ed8\u8ba4\u5730\u4f7f\u7528\u4ee5\u524d\u7684\u8bf7\u6c42\u4fe1\u606f\u3002\u800c\u65e0\u72b6\u6001\u8bf7\u6c42\u5219\u4e0d\u884c\uff0c\u670d\u52a1\u5668\u7aef\u6240\u80fd\u591f\u5904\u7406\u7684\u8fc7\u7a0b\uff0c\u4ed6\u7684\u5904\u7406\u4fe1\u606f\u5fc5\u987b\u5168\u90e8\u6765\u81ea\u4e8e\u8bf7\u6c42\u6240\u643a\u5e26\u7684\u4fe1\u606f\u4ee5\u53ca\u5176\u4ed6\u670d\u52a1\u5668\u7aef\u81ea\u8eab\u6240\u4fdd\u5b58\u7684\u3001\u5e76\u4e14\u53ef\u4ee5\u88ab\u6240\u6709\u8bf7\u6c42\u6240\u4f7f\u7528\u7684\u516c\u5171\u4fe1\u606f\u3002 \u65e0\u72b6\u6001\u7684\u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u6700\u8457\u540d\u7684\u5c31\u662fWEB\u670d\u52a1\u5668\u3002\u6bcf\u6b21HTTP\u8bf7\u6c42\u548c\u4ee5\u524d\u90fd\u6ca1\u6709\u5565\u5173\u7cfb\uff0c\u53ea\u662f\u83b7\u53d6\u76ee\u6807URI\u3002\u5f97\u5230\u76ee\u6807\u5185\u5bb9\u4e4b\u540e\uff0c\u8fd9\u6b21\u8fde\u63a5\u5c31\u88ab\u6740\u6b7b\uff0c\u6ca1\u6709\u4efb\u4f55\u75d5\u8ff9\u3002\u5728\u540e\u6765\u7684\u53d1\u5c55\u8fdb\u7a0b\u4e2d\uff0c\u9010\u6e10\u5728\u65e0\u72b6\u6001\u5316\u7684\u8fc7\u7a0b\u4e2d\uff0c\u52a0\u5165\u72b6\u6001\u5316\u7684\u4fe1\u606f\uff0c\u6bd4\u5982COOKIE\u3002\u670d\u52a1\u7aef\u5728\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f1a\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u4e00\u4e2aCOOKIE\uff0c\u8fd9\u4e2aCOOKIE\u8bb0\u5f55\u670d\u52a1\u7aef\u4e0a\u9762\u7684\u4e00\u4e9b\u4fe1\u606f\u3002\u5ba2\u6237\u7aef\u5728\u540e\u7eed\u7684\u8bf7\u6c42\u4e2d\uff0c\u53ef\u4ee5\u643a\u5e26\u8fd9\u4e2aCOOKIE\uff0c\u670d\u52a1\u7aef\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2aCOOKIE\u5224\u65ad\u8fd9\u4e2a\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002COOKIE\u7684\u5b58\u5728\uff0c\u662f\u65e0\u72b6\u6001\u5316\u5411\u72b6\u6001\u5316\u7684\u4e00\u4e2a\u8fc7\u6e21\u624b\u6bb5\uff0c\u4ed6\u901a\u8fc7\u5916\u90e8\u6269\u5c55\u624b\u6bb5\uff0cCOOKIE\u6765\u7ef4\u62a4\u4e0a\u4e0b\u6587\u5173\u7cfb\u3002\uff09\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4efb\u610f\u8c03\u8282Nova-conductor\u7684\u6570\u91cf\u548c\u4f4d\u7f6e\uff0c\u5728\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u8981\u6c42\u9ad8\u7684\u90e8\u7f72\u73af\u5883\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u975e\u5e38\u5bb9\u6613\u7684\u5bf9Nova-conductor\u670d\u52a1\u5b9e\u73b0\u9ad8\u53ef\u7528\u548c\u6027\u80fd\u7684\u6a2a\u5411\u6269\u5c55\u3002Nova-Conductor\u7684\u6a2a\u5411\u6269\u5c55\u80fd\u529b\u5e26\u6765\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u5c31\u662f\uff0cNova-compute\u901a\u8fc7Nova-Conductor\u5bf9\u6570\u636e\u5e93\u8bbf\u95ee\u7684\u6027\u80fd\u4e5f\u6709\u4e86\u76f8\u5e94\u7684\u4fdd\u969c\u3002\u5728\u6ca1\u6709Nova-Conductor\u65f6Nova-Compute\u548c\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4ea4\u4e92\u91c7\u7528\u534f\u7a0b\uff0cNova-Compute\u5728\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\u90fd\u662f\u963b\u585e\u7684\u3002\u5728\u5f15\u5165\u4e86Nova-Conductor\u4e4b\u540e\u80fd\u591f\u901a\u8fc7Nova-compute\u521b\u5efa\u591a\u4e2a\u534f\u7a0b\u901a\u8fc7nova-Conductor\u4f7f\u7528\u975e\u963b\u585e\u7684RPC\u534f\u8bae\u6765\u738b\u6587\u6570\u636e\u5e93\u3002\u5f53\u7136RPC\u4e5f\u6709\u4ed6\u7684\u4e00\u4e9b\u786e\u5b9a\u5982RPC\u662f\u6709\u5ef6\u65f6\u7684\u3002","title":"Nova-Conductor\u5b9e\u73b0\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u7684\u6a2a\u5411\u6269\u5c55"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-scheduler","text":"https://docs.openstack.org/nova/latest/user/filter-scheduler.html \u9009\u62e9\u4e00\u4e2a\u865a\u62df\u673a\u5728\u54ea\u4e2a\u4e3b\u673a\u4e0a\u8fd0\u884c\u8c03\u5ea6\u7684\u65b9\u5f0f\u6709\u5f88\u591a\uff0c\u76ee\u524dNova\u4e2d\u5b9e\u73b0\u7684\u8c03\u5ea6\u5668\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 FileterScheduler\uff1a\u8fc7\u6ee4\u8c03\u5ea6\u5668\uff1b\u9ed8\u8ba4\u8f7d\u5165\u7684\u8c03\u5ea6\u5668\uff0c\u6839\u636e\u6307\u5b9a\u7684\u8fc7\u6ee4\u6761\u4ef6\u548c\u6743\u91cd\u6311\u9009\u6700\u4f73\u8282\u70b9\u3002 CachingScheduler\uff1a\u4e0eFileterScheduler\u529f\u80fd\u76f8\u540c\uff0c\u5728\u5176\u57fa\u7840\u4e0a\u5c06\u4e3b\u673a\u8d44\u6e90\u4fe1\u606f\u7f13\u5b58\u5728\u672c\u5730\u5185\u5b58\u4e2d\u56fd\uff0c\u7136\u540e\u901a\u8fc7\u540e\u53f0\u7684\u5b9a\u65f6\u4efb\u52a1\u5b9a\u65f6\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u6700\u65b0\u7684\u4e3b\u673a\u8d44\u6e90\u4fe1\u606f\u3002 ChanceScheduler\uff1a\u968f\u673a\u8c03\u5ea6\u5668\uff1b\u4ece\u6240\u6709\u7684Nova-compute\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u7684\u8282\u70b9\u968f\u673a\u9009\u62e9\u3002 FackScheduler\uff1a\u4f2a\u8c03\u5ea6\u5668\uff1b\u7528\u4e8e\u5355\u5143\u6d4b\u8bd5\uff0c\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u529f\u80fd\u7684\u8c03\u5ea6\u5668","title":"Nova-Scheduler"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-scheduler_1","text":"","title":"Nova-Scheduler\u5b9e\u73b0\u8d44\u6e90\u8c03\u5ea6\u7684\u8fc7\u7a0b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_4","text":"","title":""},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#1","text":"Nova-Scheduler\u5728\u8fdb\u884c\u8c03\u5ea6\u51b3\u7b56\u524d\uff0c\u9700\u8981\u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u5230\u5404\u4e2a\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u7684\u6536\u96c6\u4e0e\u5b58\u50a8\u90fd\u7531Nova-compute\u8fdb\u884c\u8d1f\u8d23\u3002nova-Compute\u662f\u5c06\u8fd9\u4e9b\u6570\u636e\u4ee5\u5373\u4f7f\u7684\u65b9\u5f0f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\uff0c\u5e76\u901a\u8fc7\u5468\u671f\u6027\u7684\u4efb\u52a1\u4fdd\u8bc1\u8d44\u6e90\u6570\u636e\u7684\u51c6\u786e\u6027\u3002\u7531\u4e8eNova-Scheduler\u65e0\u6cd5\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u5728\u9009\u62e9\u6700\u4f73\u4e3b\u673a\u65f6\u8981\u5728\u5185\u5b58\u4e2d\u4fdd\u5b58\u5148\u524d\u51b3\u7b56\u7684\u60c5\u51b5\uff0c\u8fd9\u662f\u7528\u8fc7\u5728\u8c03\u5ea6\u5668\u5185\u5b58\u4e2d\u56fd\u5355\u72ec\u7ef4\u62a4\u4e86\u4e00\u4efd\u7f13\u5b58\u5b9e\u73b0\u7684\uff0c\u7f13\u5b58\u4e2d\u5305\u542b\u4e86\u6700\u8fd1\u4e00\u6b21\u8bfb\u53d6\u6570\u636e\u5e93\u7684\u60c5\u51b5\u4ee5\u53ca\u6700\u8fd1\u8c03\u5ea6\u5668\u51b3\u7b56\u5bfc\u81f4\u8d44\u6e90\u53d8\u534e\u3002\u4e3a\u4e86\u7ef4\u62a4\u8be5\u7f13\u5b58\u7684\u51c6\u786e\u6027\uff0cnova-scheduler\u5728\u4f5c\u4e3a\u4e00\u4e2a\u865a\u62df\u673a\u542f\u52a8\u8bf7\u6c42\u4f5c\u51fa\u51b3\u7b56\u4e4b\u540e\uff0c\u4ed6\u90fd\u8981\u5c06\u5176\u66f4\u65b0\uff0c\u5e76\u4ece\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u4e2d\u53bb\u6389VM\u4f7f\u7528\u7684\u8d44\u6e90\u3002","title":"1.\u8c03\u5ea6\u5668\u7f13\u5b58\u66f4\u65b0"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#2filtering","text":"Filtering\u662f\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u7684\u5404\u79cdFilters\u53bb\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u6839\u636e\u5404\u4e2a\u4e3b\u673a\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u60c5\u51b5\u8fc7\u6ee4\u6389\u90a3\u4e9b\u4e0d\u80fd\u6ee1\u8db3\u865a\u62df\u673a\u8981\u6c42\u7684\u4e3b\u673a\u3002 \u5728Ocata\u7248\u672c\u7684OpenStack Nova \u9879\u76ee\u4e2d\u7684Filtering\u516c\u670927\u4e2aFilter\u80fd\u591f\u5904\u7406\u5404\u79cd\u4fe1\u606f\u3002","title":"2.Filtering"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_5","text":"\u4e3b\u673a\u53ef\u7528\u8d44\u6e90 \u5185\u5b58\uff0c\u78c1\u76d8\uff0cCPU\uff0cPCI\u8bbe\u5907\u548cNUMA\u62d3\u6251 \u4e3b\u673a\u7c7b\u578b \u865a\u62df\u673a\u7c7b\u578b\u548c\u7248\u672c\uff0cCPU\u7c7b\u578b\u548c\u6307\u4ee4\u96c6\u7c7b\u578b \u4e3b\u673a\u72b6\u6001 \u4e3b\u673a\u662f\u5426\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0cCPU\u7684\u4f7f\u7528\u7387\uff0c\u865a\u62df\u673a\u542f\u52a8\u6570\u91cf\uff0c\u7e41\u5fd9\u7a0b\u5ea6\uff0c\u662f\u5426\u53ef\u4fe1 \u4e3b\u673a\u5206\u7ec4\u60c5\u51b5 Avaible Zone\uff0cHost Aggergaters\u4fe1\u606f \u542f\u52a8\u8bf7\u6c42\u53c2\u6570 \u8bf7\u6c42\u865a\u62df\u673a\u7c7b\u578b\uff08Flavor\uff09\uff0c\u955c\u50cf\u4fe1\u606f\uff08image\uff09,\u8bf7\u6c42\u91cd\u8bd5\u6b21\u6570\uff0c\u542f\u52a8\u63d0\u793a\u4fe1\u606f\uff08hint\uff09\u7b49 \u865a\u62df\u673a\u7684\u4eb2\u548c\u6027\u548c\u53cd\u4eb2\u548c\u6027 \u4e0e\u5176\u4ed6\u865a\u62df\u673a\u662f\u5426\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a \u5143\u6570\u636e\u5904\u7406 \u4e3b\u673a\u5143\u6570\u636e\uff0c\u955c\u50cf\u5143\u6570\u636e\uff0c\u865a\u62df\u673a\u5143\u6570\u636e\uff0c\u4e3b\u673a\u805a\u5408\uff08host Aggergates\uff09\u5143\u6570\u636e","title":"\u5206\u7c7b\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#filter","text":"AllHostsFilter \u4e0d\u8fc7\u6ee4\u3002\u5b83\u4f20\u9012\u6240\u6709\u53ef\u7528\u7684\u4e3b\u673a\u3002 ImagePropertiesFilter \u6839\u636e\u5b9e\u4f8b\u955c\u50cf\u4e0a\u5b9a\u4e49\u7684\u5c5e\u6027\u8fc7\u6ee4\u865a\u62df\u673a\u3002 AvailabilityZoneFilter \u6309\u53ef\u7528\u6027\u533a\u57df\u8fc7\u6ee4\u4e3b\u673a\u3002\u5b83\u4f20\u9012\u4e0e\u5b9e\u4f8b\u5c5e\u6027\u4e2d\u6307\u5b9a\u7684\u53ef\u7528\u533a\u57df\u5339\u914d\u7684\u4e3b\u673a\u3002\u4f7f\u7528\u9017\u53f7\u6307\u5b9a\u591a\u4e2a\u533a\u57df\u3002\u7136\u540e\uff0c\u8fc7\u6ee4\u5668\u5c06\u786e\u4fdd\u5176\u4e0e\u6307\u5b9a\u7684\u4efb\u4f55\u533a\u57df\u5339\u914d ComputeCapabilitiesFilter \u68c0\u67e5\u4e3b\u673a\u8ba1\u7b97\u670d\u52a1\u63d0\u4f9b\u7684\u529f\u80fd\u662f\u5426\u6ee1\u8db3\u4e0e\u5b9e\u4f8b\u7c7b\u578b\u76f8\u5173\u7684\u4efb\u4f55\u989d\u5916\u89c4\u8303\u3002\u5b83\u4f20\u9012\u53ef\u4ee5\u521b\u5efa\u6307\u5b9a\u5b9e\u4f8b\u7c7b\u578b\u7684\u4e3b\u673a\u3002 AggregateInstanceExtraSpecsFilter \u68c0\u67e5\u6c47\u603b\u5143\u6570\u636e\u662f\u5426\u6ee1\u8db3\u4e0e\u5b9e\u4f8b\u7c7b\u578b\u76f8\u5173\u8054\u7684\u4efb\u4f55\u989d\u5916\u89c4\u8303\uff08\u6ca1\u6709\u8303\u56f4\u6216\u4ee5\u8303\u56f4aggregate_instance_extra_specs\uff09\u3002\u5b83\u4f20\u9012\u53ef\u4ee5\u521b\u5efa\u6307\u5b9a\u5b9e\u4f8b\u7c7b\u578b\u7684\u4e3b\u673a\u3002\u989d\u5916\u7684\u89c4\u683c\u53ef\u4ee5\u5177\u6709\u4e0e\u76f8\u540c\u7684\u8fd0\u7b97\u7b26 ComputeCapabilitiesFilter\u3002\u8981\u4e3a\u540c\u4e00\u952e\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u8bf7\u4f7f\u7528\u9017\u53f7\u3002\u4f8b\u5982\uff0c\u201c value1\uff0cvalue2\u201d\u3002\u5982\u679c\u672a\u6307\u5b9aextra_specs\uff0c\u5219\u5c06\u4f20\u9012\u6240\u6709\u4e3b\u673a\u3002 ComputeFilt \u6311\u9009\u51fa\u6240\u6709\u5904\u4e8e\u6d3b\u8dc3\uff08Active\uff09\u72b6\u6001\u7684\u4e3b\u673a\u3002 AggregateCoreFilter -\u5df2\u6dd8\u6c70\uff1b \u4f7f\u7528\u6bcf\u4e2a\u805a\u5408cpu_allocation_ratio\u8bbe\u7f6e\u6309CPU\u5185\u6838\u53f7\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c cpu_allocation_ratio\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u4f4d\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u6bd4\u7387\u8bbe\u7f6e\u4e0d\u540c\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 IsolatedHostsFilter \u8fc7\u6ee4\u5668\u57fa\u7840\u4e0a filter_scheduler.isolated_images \uff0c filter_scheduler.isolated_hosts \u548c filter_scheduler.restrict_isolated_hosts_to_isolated_images \u6807\u5fd7\u3002 JsonFilter \u5141\u8bb8\u4f7f\u7528\u7b80\u5355\u7684\u57fa\u4e8eJSON\u7684\u8bed\u6cd5\u6765\u9009\u62e9\u4e3b\u673a AggregateRamFilter -\u5df2\u6dd8\u6c70 \u901a\u8fc7\u6309\u805a\u5408 ram_allocation_ratio \u8bbe\u7f6e\u6309RAM\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c ram_allocation_ratio \u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u4f4d\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u6bd4\u7387\u8bbe\u7f6e\u4e0d\u540c\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 AggregateDiskFilter -\u5df2\u6dd8\u6c70 \u4f7f\u7528\u6bcf\u4e2a\u805a\u5408disk_allocation_ratio\u8bbe\u7f6e\u6309\u78c1\u76d8\u5206\u914d\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c disk_allocation_ratio\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u5177\u6709\u4e0d\u540c\u6bd4\u7387\u8bbe\u7f6e\u7684\u4e0d\u540c\u805a\u5408\u4e2d\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 NumInstancesFilter \u6309\u5b9e\u4f8b\u6570\u8fc7\u6ee4\u8ba1\u7b97\u8282\u70b9\u3002\u5b9e\u4f8b\u8fc7\u591a\u7684\u8282\u70b9\u5c06\u88ab\u8fc7\u6ee4\u3002\u5982\u679c\u4e3b\u673afilter_scheduler.max_instances_per_host\u4e0a\u5df2\u4e0d\u5b58\u5728\u8be5\u4e3b\u673a\uff0c\u5219\u8c03\u5ea6\u7a0b\u5e8f\u5c06\u5ffd\u7565 \u8be5\u4e3b\u673a\u3002 AggregateNumInstancesFilter \u6309\u6bcf\u4e2a\u805a\u5408filter_scheduler.max_instances_per_host \u8bbe\u7f6e\u6309\u5b9e\u4f8b\u6570\u8fc7\u6ee4\u4e3b\u673a\u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u6c47\u603b\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503cfilter_scheduler.max_instances_per_host\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u6bcf\u4e2a\u4e3b\u673a\u8bbe\u7f6e\u5177\u6709\u4e0d\u540c\u7684\u6700\u5927\u5b9e\u4f8b\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 IoOpsFilter \u901a\u8fc7\u5e76\u53d1I / O\u64cd\u4f5c\u8fc7\u6ee4\u4e3b\u673a\u3002\u5e76\u884cI / O\u64cd\u4f5c\u8fc7\u591a\u7684\u4e3b\u673a\u5c06\u88ab\u8fc7\u6ee4\u3002 filter_scheduler.max_io_ops_per_host \u8bbe\u7f6e\u3002\u5141\u8bb8\u5728\u6b64\u4e3b\u673a\u4e0a\u8fd0\u884c\u7684I / O\u5bc6\u96c6\u578b\u5b9e\u4f8b\u7684\u6700\u5927\u6570\u91cf\uff0c\u5982\u679c filter_scheduler.max_io_ops_per_host \u5728\u5176\u4e0a\u8fd0\u884c\u7684\u5b9e\u4f8b\u8d85\u8fc7\u4e86\u8bf8\u5982\u6784\u5efa/\u8c03\u6574\u5927\u5c0f/\u5feb\u7167\u7b49\u5b9e\u4f8b\uff0c\u5219\u8c03\u5ea6\u7a0b\u5e8f\u5c06\u5ffd\u7565\u8be5\u4e3b\u673a \u3002 AggregateIoOpsFilter \u901a\u8fc7\u6bcf\u4e2a\u805a\u5408filter_scheduler.max_io_ops_per_host\u8bbe\u7f6e\u6309I / O\u64cd\u4f5c\u8fc7\u6ee4\u4e3b\u673a \u3002\u5982\u679c\u672a\u627e\u5230\u6bcf\u4e2a\u805a\u5408\u7684\u503c\uff0c\u5219\u5b83\u5c06\u56de\u843d\u5230\u5168\u5c40\u9ed8\u8ba4\u503c oslo.config\uff1aoption\uff1afilter_scheduler.max_io_ops_per_host\u3002\u5982\u679c\u4e3a\u4e3b\u673a\u627e\u5230\u4e00\u4e2a\u4ee5\u4e0a\u7684\u503c\uff08\u8868\u793a\u8be5\u4e3b\u673a\u5904\u4e8e\u4e24\u4e2a\u6216\u591a\u4e2a\u4e0d\u540c\u7684\u805a\u5408\u4e2d\uff0c\u4e14\u5177\u6709\u4e0d\u540c\u7684\u6700\u5927io\u64cd\u4f5c\u8bbe\u7f6e\uff09\uff0c\u5219\u5c06\u4f7f\u7528\u6700\u5c0f\u503c\u3002 PciPassthroughFilter -\u7b5b\u9009\u5668 \u7528\u4e8e\u5728\u4e3b\u673a\u4e0a\u5177\u6709\u53ef\u6ee1\u8db3\u98ce\u5473'extra_specs'\u4e2d\u7684\u8bbe\u5907\u8bf7\u6c42\u7684\u8bbe\u5907\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u4e3b\u673a\u4e0a\u8c03\u5ea6\u5b9e\u4f8b\u3002 SimpleCIDRAffinityFilter \u5141\u8bb8\u5728\u540c\u4e00IP\u5757\u5185\u7684\u4e3b\u673a\u4e0a\u521b\u5efa\u65b0\u5b9e\u4f8b\u3002 DifferentHostFilter \u5141\u8bb8\u5b9e\u4f8b\u4e0e\u4e00\u7ec4\u5b9e\u4f8b\u4f4d\u4e8e\u4e0d\u540c\u7684\u4e3b\u673a\u4e0a\u3002 SameHostFilter -\u5c06\u5b9e\u4f8b\u4e0e\u4e00\u7ec4\u5b9e\u4f8b\u4e2d\u7684\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u653e\u5728\u540c\u4e00\u4e3b\u673a\u4e0a\u3002 RetryFilter -\u5df2\u6dd8\u6c70 \u7b5b\u9009\u5df2\u5c1d\u8bd5\u8fdb\u884c\u8c03\u5ea6\u7684\u4e3b\u673a\u3002\u4ec5\u901a\u8fc7\u4ee5\u524d\u672a\u5c1d\u8bd5\u8fc7\u7684\u4e3b\u673a\u3002 AggregateTypeAffinityFilter \u901a\u8fc7\u805a\u5408\u9650\u5236instance_type\u3002 \u5982\u679c\u672a\u8bbe\u7f6einstance_type\u5bc6\u94a5\u6216instance_type\u805a\u5408\u5143\u6570\u636e\u503c\u5305\u542b\u6240\u8bf7\u6c42\u7684instance_type\u7684\u540d\u79f0\uff0c\u5219\u6b64\u7b5b\u9009\u5668\u5c06\u901a\u8fc7\u4e3b\u673a\u3002instance_type\u5143\u6570\u636e\u6761\u76ee\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5305\u542b\u5355\u4e2ainstance_type\u540d\u79f0\u6216\u9017\u53f7\u5206\u9694\u7684instance_type\u540d\u79f0\u5217\u8868\u3002\u4f8b\u5982\u201c m1.nano\u201d\u6216\u201c m1.nano\uff0cm1.small\u201d ServerGroupAntiAffinityFilter \u6b64\u8fc7\u6ee4\u5668\u4e3a\u670d\u52a1\u5668\u7ec4\u5b9e\u73b0\u4e86\u53cd\u5173\u8054\u6027\u3002\u9996\u5148\uff0c\u60a8\u5fc5\u987b\u901a\u8fc7\u670d\u52a1\u5668\u7ec4API\u521b\u5efa\u4e00\u4e2a\u7b56\u7565\u4e3a\u201c\u53cd\u4eb2\u548c\u529b\u201d\u7684\u670d\u52a1\u5668\u7ec4\u3002\u7136\u540e\uff0c\u5f53\u60a8\u5f15\u5bfc\u65b0\u670d\u52a1\u5668\u65f6\uff0c\u63d0\u4f9b\u8c03\u5ea6\u7a0b\u5e8f\u63d0\u793a\u201c group = \u201d\uff0c\u5176\u4e2d \u662f\u60a8\u521b\u5efa\u7684\u670d\u52a1\u5668\u7ec4\u7684UUID\u3002\u8fd9\u5c06\u5bfc\u81f4\u670d\u52a1\u5668\u88ab\u6dfb\u52a0\u5230\u7ec4\u4e2d\u3002\u8c03\u5ea6\u670d\u52a1\u5668\u540e\uff0c\u5c06\u5728\u8be5\u7ec4\u4e2d\u7684\u6240\u6709\u670d\u52a1\u5668\u4e4b\u95f4\u5f3a\u5236\u6267\u884c\u53cd\u5173\u8054\u6027\u3002 ServerGroupAffinityFilter \u6b64\u8fc7\u6ee4\u5668\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0eServerGroupAntiAffinityFilter\u76f8\u540c\u3002\u533a\u522b\u5728\u4e8e\uff0c\u521b\u5efa\u670d\u52a1\u5668\u7ec4\u65f6\uff0c\u5e94\u6307\u5b9a\u201c\u4eb2\u548c\u529b\u201d\u7b56\u7565\u3002 AggregateMultiTenancyIsolation \u9694\u79bb\u7279\u5b9a\u96c6\u5408\u4f53\u4e2d\u7684\u79df\u6237\u3002\u8981\u6307\u5b9a\u591a\u4e2a\u79df\u6237\uff0c\u8bf7\u4f7f\u7528\u9017\u53f7\u3002\u4f8b\u5982\u3002\u201c tenant1\uff0ctenant2\u201d AggregateImagePropertiesIsolation \u6839\u636e\u56fe\u50cf\u5c5e\u6027\u548c\u805a\u5408\u5143\u6570\u636e\u9694\u79bb\u4e3b\u673a\u3002\u4f7f\u7528\u9017\u53f7\u4e3a\u540c\u4e00\u5c5e\u6027\u6307\u5b9a\u591a\u4e2a\u503c\u3002\u7136\u540e\uff0c\u8fc7\u6ee4\u5668\u5c06\u786e\u4fdd\u81f3\u5c11\u4e00\u4e2a\u503c\u5339\u914d\u3002 MetricsFilter \u6839\u636e\u6307\u6807weight_setting\u8fc7\u6ee4\u4e3b\u673a\u3002\u4ec5\u4f20\u9012\u5177\u6709\u53ef\u7528\u6307\u6807\u7684\u4e3b\u673a NUMATopologyFilter \u6839\u636e\u5b9e\u4f8b\u8bf7\u6c42\u7684NUMA\u62d3\u6251\u8fc7\u6ee4\u4e3b\u673a\uff08\u5982\u679c\u6709\uff09\u3002","title":"Filter\u5217\u8868\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#3weighting","text":"Weighting\u662f\u6307\u5bf9\u6240\u6709\u590d\u5408\u6761\u4ef6\u7684\u4e3b\u53e5\u8fdb\u884c\u6743\u91cd\u7684\u8ba1\u7b97\u5e76\u6392\u5e8f\uff0c\u4ece\u800c\u9009\u51fa\u6700\u4f73\u7684\u4e00\u4e2a\u4e3b\u673a\u3002\u7ecf\u8fc7\u5404\u79cd\u8fc7\u6ee4\u5668\u8fc7\u6ee4\u4e4b\u540e\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u6700\u7ec8\u7684\u4e3b\u673a\u5217\u8868\uff0c\u4fdd\u5b58\u4e86\u6240\u6709\u901a\u8fc7\u6307\u5b9a\u8fc7\u6ee4\u5668\u7684\u4e3b\u673a\u3002\u7531\u4e8e\u5217\u8868\u4e2d\u56fd\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u4e3b\u673a\uff0c\u6240\u4ee5\u8c03\u5ea6\u5668\u8fd8\u9700\u8981\u5728\u4ed6\u4eec\u4e4b\u4e2d\u9009\u62e9\u6700\u4f18\u7684\u4e00\u4e2a\uff0c\u7c7b\u4f3c\u4e8eFiltering\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u8c03\u7528\u6307\u5b9a\u7684\u5404\u79cdweigher\u6a21\u5757\uff0c\u5f97\u51fa\u6bcf\u4e2a\u4e3b\u673a\u603b\u7684\u6743\u91cd\u503c\u3002","title":"3.Weighting\u6743\u91cd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#_6","text":"ServerGroupSoftAffinityWeigher \u57fa\u4e8e\u5728\u540c\u4e00\u670d\u52a1\u5668\u7ec4\u4e0a\u8fd0\u884c\u7684\u5b9e\u4f8b\u6570\u6765\u8ba1\u7b97\u6743\u91cd\u3002 BuildFailureWeigher \u6700\u8fd1\u5931\u8d25\u7684\u5f15\u5bfc\u5c1d\u8bd5\u6b21\u6570\u52a0\u6743\u4e3b\u673a CrossCellWeigher \u6839\u636e\u4e3b\u673a\u6240\u5728\u7684\u5355\u5143\u5bf9\u4e3b\u673a\u8fdb\u884c\u6743\u91cd\u8ba1\u7b97 RAMWeight \u6839\u636e\u4e3b\u673a\u7684\u5185\u5b58\u6765\u8ba1\u7b97\u6743\u91cd","title":"\u6743\u91cd\u6a21\u5757\u5217\u8868"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova-compute","text":"https://docs.openstack.org/nova/latest/ nova-compute\u8d1f\u8d23\u865a\u62df\u673a\u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\u5305\u62ecinstance\u7684launch\uff0cshutdown\uff0creboot\uff0csuspend\uff0crespernd\uff0cresume\uff0cterminate\uff0cresize\uff0cmigration\uff0csnapshot\u7b49\u3002 nova-compute\u4f4d\u4e8e\u5728hypervison\u5c42\u3002Nova-Compute\u8d1f\u8d23\u5728\u6570\u636e\u4e2d\u66f4\u65b0\u4e3b\u673a\u7684\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\uff0c\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a\u7269\u7406\u4e3b\u673a\u4e0a\u6709\u4e00\u4e2anova-compoute\u8fdb\u7a0b\uff0c\u7531\u5176\u8d1f\u8d23\u8be5\u8fdb\u7a0b\u6240\u5728\u4e3b\u673a\u4e0a\u7684\u8d44\u6e90\u7ba1\u7406\uff0c\u5e76\u901a\u8fc7nova-conductor\u5411DB\u6570\u636e\u5e93\u4e2d\u62a5\u544a\u3002 Nova-Compute\u4f1a\u901a\u8fc7\u4e24\u79cd\u9014\u5f84\u6765\u66f4\u65b0\u5f53\u524d\u4e3b\u673a\u6240\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8bb0\u5f55\u3002\u4e00\u662fResource Tracker\u7684Claim\u673a\u5236\uff0c\u4e8c\u662f\u4f7f\u7528\u5468\u671f\u6027\u4efb\u52a1Periodic Task.","title":"Nova-Compute"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#claim","text":"\u5f53\u4e00\u53f0\u4e3b\u673a\u88abNova-Scheduler\u7684\u591a\u4e2a\u51b3\u7b56\u540c\u65f6\u9009\u4e2d\u5e76\u53d1\u9001\u521b\u5efa\u865a\u62df\u673a\u7684\u8bf7\u6c42\u65f6\uff0c\u8fd9\u53f0\u88ab\u9009\u4e2d\u7684\u865a\u62df\u673a\u53ef\u80fd\u5e76\u6ca1\u6709\u8db3\u591f\u7684\u8d44\u6e90\u53bb\u6ee1\u8db3\u8fd9\u591a\u4e2a\u51b3\u7b56\u7684\u865a\u62df\u673a\u521b\u5efa\u8bf7\u6c42\u3002Clim\u673a\u5236\u4fbf\u662f\u5728\u521b\u5efa\u4e4b\u524d\u5148\u5bf9\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u8fdb\u884c\u6d4b\u8bd5\uff0c\u67e5\u770b\u80fd\u5426\u6ee1\u8db3\u9700\u6c42\uff0c\u5982\u679c\u6ee1\u8db3\u901a\u8fc7nova-conductor\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u5c06\u865a\u62df\u673a\u521b\u5efa\u6240\u7533\u8bf7\u7684\u8d44\u6e90\u4ece\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u4e2d\u51cf\u53bb\uff0c\u5982\u679c\u521b\u5efa\u5931\u8d25\uff0c\u4f1a\u901a\u8fc7Clim\u6062\u590d\u4e4b\u524d\u51cf\u6389\u7684\u8d44\u6e90\u3002","title":"Claim\u673a\u5236"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#period-task","text":"\u5b58\u5728\u4e00\u4e2a\u5468\u671f\u6027\u4efb\u52a1\u7528\u4e8e\u66f4\u65b0\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\u3002\u4ed6\u6bcf\u6b21\u901a\u8fc7hypervison\u91cd\u65b0\u83b7\u53d6\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4fe1\u606f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\u3002 claim\u548cPeriod\u8fd9\u4e24\u79cd\u66f4\u65b0\u4e3b\u673a\u6570\u636e\u8d44\u6e90\u7684\u65b9\u5f0f\u5e76\u4e0d\u51b2\u7a81\u3002Clim\u662f\u5728\u6bcf\u6b21\u4e3b\u673a\u53d1\u751f\u6d88\u8017\u65f6\u8fdb\u884c\u66f4\u65b0\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u5e93\u4e2d\u53ef\u7528\u8d44\u6e90\u6570\u636e\u7684\u65f6\u6548\u6027\u3002\u80fd\u591f\u4e3anova-schduler\u63d0\u4f9b\u6700\u65b0\u7684\u6570\u636e\u3002\u5468\u671f\u6027\u7684period\u66f4\u65b0\u662f\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u5e93\u5185\u6570\u636e\u7684\u51c6\u786e\u6027\uff0c\u4ed6\u6bcf\u6b21\u901a\u8fc7hypervison\u91cd\u65b0\u83b7\u53d6\u4e3b\u673a\u7684\u8d44\u6e90\u6570\u636e\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4fe1\u606f\u66f4\u65b0\u5230\u6570\u636e\u5e93\u4e2d\u3002","title":"Period Task"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/#nova_1","text":"1.Nova-API\u901a\u8fc7\u5317\u5411\u63a5\u53e3\u63a5\u6536\u521b\u5efa\u865a\u62df\u673a\u7684\u8bf7\u6c42\uff08RESTful \u8bf7\u6c42\uff09 2.Nova-API\u50cfkeyStone\u8fdb\u884c\u8ba4\u8bc1\u6388\u6743\uff0c\u6388\u6743\u6210\u529f\u4ee5\u540e\uff0cNova-API\u901a\u8fc7RPC\u5411nova-Conductor\u53d1\u9001\u4fe1\u606f 3.Nova-conductor\u751f\u6210\u8be6\u7ec6\u7684\u865a\u62df\u673a\u4fe1\u606f\uff0cNova-Scheduler\u4f9d\u636e\u8fd9\u4e9b\u4fe1\u606f\u4e3a\u865a\u62df\u673a\u9009\u62e9\u4e00\u4e2a\u6700\u4f73\u4e3b\u673a\uff08Fileting\uff0cweighting\uff09 3.Nova-Conductor\u518d\u901a\u8fc7RPC\u8c03\u7528Nova-Compute\u521b\u5efa\u865a\u62df\u673a 4.Nova-Compute\u9996\u5148\u4f7f\u7528Resource Tracker\u4e2d\u7684Clim\u673a\u5236\u68c0\u6d4b\u4e3b\u673a\u7684\u53ef\u7528\u8d44\u6e90\u80fd\u5426\u6ee1\u8db3\u521b\u5efa\u865a\u62df\u673a\u7684\u9700\u6c42\uff0c\u7136\u540e\u901a\u8fc7\u5177\u4f53\u7684Virt Driver\u521b\u5efa\u865a\u62df\u673a\u3002 --\u672c\u6587\u7531\u5973\u795e\u63d0\u4f9b\u90e8\u5206\u6750\u6599\u7684\u6574\u7406\u7f16\u6392","title":"NOVA\u521b\u5efa\u865a\u62df\u673a\u7684\u8fc7\u7a0b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/","text":"OpenStck\u5206\u4eab\u7bc75-Cinder \u00b6 OpenStack\u7cfb\u7edf\u67b6\u6784 https://docs.openstack.org/ceilometer/latest/contributor/architecture.html https://docs.openstack.org/install-guide/overview.html#block-storage Cinder\u7684\u7b80\u4ecb \u00b6 https://docs.openstack.org/cinder/latest/ Cinder\u524d\u8eab\u662fNova\u4e2d\u7684Nova-Volume\u670d\u52a1\uff0c\u5728Folsom\u7248\u672c\u53d1\u5e03\uff0c\u4eceNova\u4e2d\u5265\u79bb\u6210\u4e3a\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684OpenStack\u9879\u76ee\u3002 Cinder\u80fd\u591f\u4e3aNova\u865a\u62df\u673a\uff0cIronic\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\uff0c\u5bb9\u5668\u7b49\u63d0\u4f9b\u6301\u4e45\u5316\u7684\u5feb\u5b58\u50a8\u80fd\u529b\u3002 Cinder\u662f\u7528\u6765\u5e72\u561b\u7684 \u00b6 Cinder\u4e0eNova\u901a\u8fc7\u672c\u5730\u5b58\u50a8\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u4e34\u65f6\u5feb\u5b58\u50a8\u4e0d\u540c\uff0cCinder\u7c7b\u4f3c\u4e8eAmzon\u7684EBS\uff08Elastic Block Storage\uff09\uff0c\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u6301\u4e45\u5316\u7684\u5757\u5b58\u50a8\u670d\u52a1\u3002Cinder\u865a\u62df\u673a\u5b58\u50a8\u5377\uff08Vomule\uff09\u7684\u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\uff0c\u5305\u62ec\u521b\u5efa\uff0c\u5220\u9664\uff0c\u5378\u8f7d\uff0c\u5feb\u7167\u7b49\u3002 \u5728\u4e0a\u56fe\u4e2d\u5c55\u793a\u4e86Cinder\u7ec4\u4ef6\u4e2d\u7684\u51e0\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5305\u62ecCinder-API;Cinder-Volume;Cinder-Scheduler\uff1bCinder-Backup\u3002\u4ed6\u4eec\u4e4b\u95f4\u901a\u8fc7AMQP\u6d88\u606f\u961f\u5217\u8fdb\u884c\u901a\u4fe1\u3002 -Cinder-API\u662f\u8fdb\u5165Cinder\u7684HTTP\u63a5\u53e3\uff0c\u8d1f\u8d23\u63a5\u6536\u6765\u81ea\u5916\u90e8\u7684RESTful \u7684\u8bf7\u6c42\u3002 -Cinder-volume\u8fd0\u884c\u5728\u5b58\u50a8\u8282\u70b9\u7ba1\u7406\u5177\u4f53\u5b58\u50a8\u8bbe\u5907\u548c\u5b58\u50a8\u8bbe\u5907\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u5b58\u50a8\u8282\u70b9\u4e0a\u90fd\u4f1a\u8fd0\u884c\u4e00\u4e2aCinde-volume\u670d\u52a1\uff0c\u591a\u4e2a\u8fd9\u6837\u7684\u8282\u70b9\u4e00\u8d77\u6784\u6210\u4e86\u4e00\u4e2a\u5b58\u50a8\u8d44\u6e90\u6c60\u3002 -Cinder-Scheduler\u662f\u6839\u636e\u65e2\u5b9a\u7684\u7b56\u7565\uff08\u5982\u4e0d\u540c\u7684\u8c03\u5ea6\u7b97\u6cd5\uff09\u9009\u62e9\u5408\u9002\u7684Cinder-Volume\u8282\u70b9\u6765\u5904\u7406\u7528\u6237\u7684\u8bf7\u6c42\u3002\u5728\u7528\u6237\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u5b58\u50a8\u8282\u70b9\u65f6Cinder-Schedule\u4f1a\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u5b58\u50a8\u8282\u70b9\uff0c\u5e76\u7531\u8be5\u8282\u70b9\u4e0a\u7684Cinder-volume\u54cd\u5e94\u8be5\u8bf7\u6c42\u3002\u5f53\u7528\u6237\u6307\u5b9a\u4e86\u5b58\u50a8\u8282\u70b9\u4e4b\u540e\uff0c\u76f4\u63a5\u7531\u8be5\u8282\u70b9\u4e0a\u7684Cinder-volume\u54cd\u5e94\u8be5\u8bf7\u6c42\uff0c\u4e0d\u7ecf\u8fc7Cinder-volume. \u4e3e\u4e2a\u4f8b\u5b50\u8bf4\u660e\u4e00\u4e0b\uff1a\u5047\u5982\u4f60\u53bb\u8db3\u7597\u5e97\u505a\u8db3\u7597\uff0c\u4f60\u8ddf\u524d\u53f0\u8bf4\u4e00\u4e0b\u4f60\u60f3\u505a\u7684\u9879\u76ee\u3002\u6b64\u65f6\u4f60\u6ca1\u6709\u76f8\u719f\u7684\u8db3\u7597\u6280\u5e08\uff0c\u4f60\u5c31\u4e5f\u4e0d\u77e5\u9053\u90a3\u4e2a\u6280\u5e08\u7684\u624b\u6cd5\u6bd4\u8f83\u597d\uff0c\u6b64\u65f6\u8db3\u7597\u5e97\u7684\u7ecf\u7406\u4f1a\u5e2e\u52a9\u4f60\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8db3\u7597\u6280\u5e08\u7ed9\u4f60\u505a\u8db3\u7597\u3002\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u662f\u4f60\u53bb\u505a\u8db3\u7597\u5e97\u505a\u8db3\u7597\uff0c\u4f60\u77e5\u9053\u54ea\u4e2a\u6280\u5e08\u7684\u624b\u6cd5\u6bd4\u8f83\u597d\uff0c\u4f60\u8fd8\u60f3\u627e\u8fd9\u4e2a\u8db3\u7597\u6280\u5e08\u4e3a\u4eba\u6c11\u670d\u52a1\u3002\u6b64\u65f6\u4f60\u53ea\u9700\u8981\u5411\u524d\u53f0\u62a5\u4e00\u4e0b\u6280\u5e08\u7684\u7f16\u53f7\u6216\u8005\u6280\u5e08\u7559\u7ed9\u4f60\u7684\u5c0f\u5361\u7247\u4ec0\u4e48\u7684\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u9700\u8981\u8ba9\u7ecf\u7406\u5e2e\u4f60\u9009\u62e9\u3002 -Cinder-Backup\u7528\u4e8e\u63d0\u4f9b\u5b58\u50a8\u5377\u5907\u4efd\u529f\u80fd\uff0c\u652f\u6301\u5757\u5b58\u50a8\u5377\u5907\u4efd\u5230OpenStack\u5907\u4efd\u5b58\u50a8\u540e\u7aef\uff0c\u5982Swift\uff0cCeph\uff0cNFS\u7b49\u3002 Cinder\u662f\u4ec0\u4e48 \u00b6 Cinder\u5728\u865a\u62df\u673a\u4e0e\u5177\u4f53\u8bbe\u5907\u4e4b\u95f4\u5f15\u5165\u4e86\u201c\u903b\u8f91\u5b58\u50a8\u5377\u201d\u7684\u62bd\u8c61\u5c42\uff0c\u4f46\u662fCinder\u5e76\u975e\u662f\u4e00\u79cd\u5b58\u50a8\u6280\u672f\uff0cCinder\u5e76\u6ca1\u6709\u5b9e\u73b0\u5bf9\u5feb\u8bbe\u5907\u7684\u5b9e\u9645\u7ba1\u7406\u548c\u670d\u52a1\u3002\u4ed6\u53ea\u662f\u63d0\u4f9b\u4e00\u4e2a\u4e2d\u95f4\u62bd\u8c61\u5c42\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u4e3a\u540e\u7aef\u7684\u4e0d\u540c\u5b58\u50a8\u6280\u672f\uff0c\u6bd4\u5982DAS\uff0cNAS\uff0cSAN\uff08 https://www.rfwireless-world.com/Terminology/difference-between-DAS-NAS-and-SAN.html \uff09\uff0c\u5bf9\u8c61\u5b58\u50a8\u4ee5\u53ca\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7b49\uff0c\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u4e0d\u540c\u7684\u5757\u8bbe\u5907\u5382\u5546\u5728Cinder\u4e2d\u901a\u8fc7\u9a71\u52a8\u7684\u5f62\u5f0f\u5b9e\u73b0\u8fd9\u4e9b\u63a5\u53e3\u6765\u4e0eOpenStack\u8fdb\u884c\u6574\u5408\u3002 -- https://wiki.openstack.org/wiki/CinderSupportMatrix Cinder\u9ed8\u8ba4\u4f7f\u7528LVM\uff08Logic Volume Mananger\uff09\u4f5c\u4e3a\u540e\u7aef\u5b58\u50a8\uff08Backend Storage\uff09\u3002 \u200b \u4ec0\u4e48\u662fLVM \u00b6 \u200b \u5728Linux\u7cfb\u7edf\u4e2d\u4f7f\u7528fdisk\u5de5\u5177\u8fdb\u884c\u5206\u5272\u5e76\u7ba1\u7406\u78c1\u76d8\u7684\u5206\u533a\uff0c\u6bd4\u5982\u8bb2\u78c1\u76d8\u7684/dev/sda\u5206\u5272\u4e3a/dev/sda1\u4e0e/dev/sda2\u4e24\u4e2a\u5206\u533a\u5206\u522b\u6ee1\u8db3\u4e0d\u540c\u7684\u9700\u6c42\uff0c\u9700\u8981\u91cd\u65b0\u5f15\u5230\u5206\u533a\u624d\u80fd\u751f\u6548\u3002 LVM\uff08Logic Volume Manager\uff09\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u865a\u62df\u8bbe\u5907\u7684\u9a71\u52a8\uff0c\u662f\u5728\u5185\u6838\u4e2d\u8bbe\u5907\u548c\u7269\u7406\u6a21\u5757\u4e4b\u95f4\u6dfb\u52a0\u7684\u4e00\u4e2a\u65b0\u7684\u62bd\u8c61\u5c42\u3002\u4ed6\u53ef\u4ee5\u5c06\u51e0\u5757\u6b21\u54e6\u6309\uff08\u7269\u7406\u5377\uff0cPhysicalVolume\uff09\u7ec4\u5408\u5f62\u6210\u4e00\u4e2a\u5b58\u50a8\u6c60\u6216\u8005\u5377\u7ec4\uff08VolumeGroup\uff09\u3002LVM\u80fd\u591f\u4ece\u5b58\u50a8\u6c60\u6216\u8005\u5377\u5219\u4e2d\uff08VolumeGroup\uff09\u4e2d\u5212\u5206\u51fa\u4e0d\u7528\u5927\u5c0f\u7684\u903b\u8f91\u5377\uff08Logic Volume\uff09\u521b\u5efa\u65b0\u7684\u903b\u8f91\u8bbe\u5907\u3002\u5e95\u5c42\u7684\u539f\u59cb\u78c1\u76d8\u4e0d\u5728\u7531\u5185\u6838\u76f4\u63a5\u63a7\u5236\uff0c\u800c\u7531LVM\u5c42\u6765\u63a7\u5236\u3002\u5bf9\u4e8e\u4e0a\u5c42\u5e94\u7528\u6765\u8bf4\u5377\u7ec4\u66ff\u4ee3\u4e86\u78c1\u76d8\u5757\u6210\u4e3a\u6570\u636e\u5b58\u50a8\u7684\u57fa\u672c\u5355\u5143\u3002LVM\u7ba1\u7406\u7740\u6240\u6709\u7269\u7406\u5377\u7684\u7269\u7406\u76d8\u533a\uff0c\u7ef4\u6301\u7740\u903b\u8f91\u76d8\u533a\u548c\u7269\u7406\u76d8\u533a\u4e4b\u95f4\u7684\u6620\u5c04\u3002LVM\u903b\u8f91\u8bbe\u5907\u5411\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u4e86\u548c\u7269\u7406\u78c1\u76d8\u76f8\u540c\u7684\u529f\u80fd\uff0c\u5982\u6587\u4ef6\u7cfb\u7edf\u7684\u521b\u5efa\u548c\u6570\u636e\u7684\u8bbf\u95ee\u7b49\u3002\u4f46LVM\u903b\u8f91\u8bbe\u5907\u4e0d\u53d7\u7269\u7406\u7ea6\u675f\u7684\u9650\u5236\uff0c\u903b\u8f91\u5377\u4e0d\u5fc5\u662f\u8fde\u7eed\u7684\u7a7a\u95f4\uff0c\u5b83\u53ef\u4ee5\u8de8\u8d8a\u8bb8\u591a\u7269\u7406\u5377\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4efb\u610f\u7684\u8c03\u6574\u5927\u5c0f\u3002\u76f8\u6bd4\u7269\u7406\u78c1\u76d8\u6765\u8bf4\uff0c\u66f4\u6613\u4e8e\u78c1\u76d8\u7a7a\u95f4\u7684\u7ba1\u7406\u3002 \u4ece\u7528\u6237\u6001\u5e94\u7528\u6765\u770b\uff0cLVM\u903b\u8f91\u5377\u76f8\u5f53\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u5757\u8bbe\u5907\uff0c\u5bf9\u5176\u7684\u8bfb\u5199\u64cd\u4f5c\u548c\u666e\u901a\u7684\u5757\u8bbe\u5907\u5b8c\u5168\u76f8\u540c\u3002\u800c\u4ece\u7269\u7406\u8bbe\u5907\u5c42\u6765\u770b\uff0cLVM\u76f8\u5bf9\u72ec\u7acb\u4e8e\u5e95\u5c42\u7684\u7269\u7406\u8bbe\u5907\uff0c\u5e76\u4e14\u5c4f\u853d\u4e86\u4e0d\u540c\u7269\u7406\u8bbe\u5907\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u56e0\u800c\u5728LVM\u5c42\u4e0a\u5b9e\u73b0\u6570\u636e\u7684\u8fde\u7eed\u4fdd\u62a4\u95ee\u9898\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981\u5355\u72ec\u8003\u8651\u6bcf\u4e00\u79cd\u5177\u4f53\u7684\u7269\u7406\u8bbe\u5907\uff0c\u907f\u514d\u4e86\u5728\u6570\u636e\u590d\u5236\u8fc7\u7a0b\u4e2d\u56e0\u7269\u7406\u8bbe\u5907\u4e4b\u95f4\u7684\u5dee\u5f02\u800c\u4ea7\u751f\u7684\u95ee\u9898\u3002\u4eceLVM\u7684\u5185\u6838\u5b9e\u73b0\u539f\u7406\u4e0a\u770b\uff0cLVM\u662f\u5728\u5185\u6838\u901a\u7528\u5757\u8bbe\u5907\u5c42\u5230\u78c1\u76d8\u8bbe\u5907\u9a71\u52a8\u5c42\u7684\u8bf7\u6c42\u63d0\u4ea4\u6d41\u4e4b\u95f4\u5f00\u8f9f\u7684\u53e6\u5916\u4e00\u6761\u8def\u5f84\uff0c\u5373\u5728\u901a\u7528\u5757\u8bbe\u5907\u5c42\u5230\u78c1\u76d8\u8bbe\u5907\u9a71\u52a8\u5c42\u4e4b\u95f4\u63d2\u5165\u4e86LVM\u7ba1\u7406\u6620\u5c04\u5c42\u7528\u4e8e\u622a\u83b7\u4e00\u5b9a\u7684\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\u3002 \u7528\u6237\u901a\u8fc7lvm\u63d0\u4f9b\u63a5\u53e3\uff0c\u4f9d\u9760\u5185\u6838\u521b\u5efa\u4e00\u7cfb\u5217LVM\u903b\u8f91\u5377\uff0c\u6240\u6709\u5bf9lvm\u903b\u8f91\u5377\u7684\u8bfb\u5199\u64cd\u4f5c\u6700\u7ec8\u90fd\u4f1a\u7531LVM\u5728\u901a\u7528\u5757\u8bbe\u5907\u5c42\u4e0b\u65b9\u622a\u83b7\u4e0b\u6765\uff0c\u8fdb\u884c\u66f4\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002\u8fd9\u91cc\u7684\u8fdb\u4e00\u6b65\u5904\u7406\u4e3b\u8981\u6307\u7684\u662f\u5b8c\u6210\u5199\u8bf7\u6c42\u7684\u6620\u5c04\uff0c\u662f\u5c06\u8bf7\u6c42\u7684\u6570\u636e\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u4e00\u4e9b\u62c6\u5206\u548c\u91cd\u5b9a\u4f4d\u64cd\u4f5c\uff0c\u4ece\u800c\u53ef\u4ee5\u5c06\u8bf7\u6c42\u548c\u6570\u636e\u5206\u53d1\u5230\u5b9e\u9645\u7684\u7269\u7406\u8bbe\u5907\u4e2d\u53bb\u3002 Cinder-API \u00b6 Cinder-API \u5b9e\u73b0\u4e86\u5bf9Volume\uff0cVolume\u7c7b\u578b\uff08Volume Type\uff09\u4ee5\u53caSnapshot\u7684\u7ba1\u7406\u64cd\u4f5c\u3002 Volume\u7c7b\u578b\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5377\u7684\u4e00\u79cd\u6807\u8bc6\u3002Cinder\u63d0\u4f9b\u4e86\u76f8\u5173\u7684API\u53ef\u4ee5\u81ea\u7531\u7684\u521b\u5efa\u5220\u9664volume\u7c7b\u578b\u3002 snapshot\u662f\u4e00\u4e2aVolume\u5728\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u65f6\u95f4\u70b9\u7684\u4e00\u4e2a\u5feb\u7167\uff0c\u56e0\u6b64\uff0cSnapshot\u662f\u53ea\u8bfb\u7684\uff0c\u4e0d\u53ef\u4ee5\u88ab\u6539\u53d8\u7684\uff0cSnapshot\u53ef\u4ee5\u88ab\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Volume\u3002 Cinder-Scheduler \u00b6 \u4e0eNova-Scheduler\u7c7b\u4f3c\uff0cCinder\u7684\u8c03\u5ea6\u670d\u52a1Cinder-Scheduler\u4e5f\u7528\u4e8e\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8282\u70b9\uff0c\u4e0d\u8fc7\u4e0d\u540c\u7684\u662f\uff0cNova-Scheduler\u9009\u62e9\u7684\u662f\u8ba1\u7b97\u8282\u70b9\u6765\u76f8\u5e94\u7528\u6237\u6709\u5173\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u76f8\u5173\u7684\u8bf7\u6c42\uff0c\u800cCinder-Sceduler\u9009\u62e9\u7684\u662fCinder-Volume\u8282\u70b9\u6765\u5904\u7406\u7528\u6237\u6709\u5173\u7684\u751f\u547d\u5468\u671f\u7684\u5904\u7406\u3002 \u76ee\u524dCinder\u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2a\u8c03\u5ea6\u5668FilterScheduler\uff0c\u4f46\u662f\u5728\u5386\u53f2\u4e0a\u66fe\u7ecf\u5b58\u5728SimpleScheduler\uff08\u9009\u62e9\u5269\u4f59\u5b58\u50a8\u7a7a\u95f4\u6700\u591a\u7684Host\uff09\u548cChanceFilter(\u968f\u673a\u6311\u9009\u6ee1\u8db3\u6761\u4ef6\u7684Host)\u4e24\u4e2a\u8c03\u5ea6\u5668\uff0c\u4f46\u662f\u4ed6\u4eec\u73b0\u5728\u5df2\u7ecf\u88ab\u5229\u7528FilterScheduler\u7684\u6846\u67b6\u91cd\u65b0\u5b9e\u73b0\u3002 FilterScheduler\u7684\u5de5\u4f5c\u6d41\u7a0b\u548cNova\u7684FilterScheduler\u8c03\u5ea6\u5668\u76f8\u540c\u3002 Filtering\uff08\u8fc7\u6ee4\uff09\u4e0eweighting(\u6743\u91cd\u8ba1\u7b97\u4e0e\u6392\u5e8f) \u00b6 Filtering\u5c31\u662f\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u7684\u5404\u79cdFilters\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\uff0cWeighting\u5219\u662f\u6307\u5bf9\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\u8ba1\u7b97\u6743\u91cd\uff08weight\uff09\u5e76\u6392\u5e8f\uff0c\u4ece\u800c\u5f97\u51fa\u6700\u4f73\u7684\u4e00\u4e2a\u3002Cinder\u4e2d\u5df2\u7ecf\u5b9e\u73b0\u4e86\u51e0\u79cd\u4e0d\u540c\u7684Filter\u548cweigher\u3002 \u8fc7\u6ee4\u5668 \u529f\u80fd AvailabilityZoneFilter \u6309\u53ef\u7528\u6027\u533a\u57df\u8fc7\u6ee4\u540e\u7aef\u3002 CapabilitiesFilter BackendFilter\u4e0e\u8d44\u6e90\uff08\u5b9e\u4f8b\u548c\u5377\uff09\u7c7b\u578b\u8bb0\u5f55\u4e00\u8d77\u4f7f\u7528 CapacityFilter \u57fa\u4e8e\u5377\u540e\u7aef\u7684\u5bb9\u91cf\u5229\u7528\u7387\u7684\u5bb9\u91cf\u8fc7\u6ee4\u5668 DifferentBackendFilter \u5c06\u5377\u5b89\u6392\u5728\u4e0e\u4e00\u7ec4\u5377\u4e0d\u540c\u7684\u540e\u7aef\u4e0a\u3002 DriverFilter DriverFilter\u6839\u636e\u201c\u8fc7\u6ee4\u5668\u529f\u80fd\u201d\u548c\u6307\u6807\u8fc7\u6ee4\u540e\u7aef\u3002 InstanceLocalityFilter \u901a\u8fc7\u6b64\u7b5b\u9009\u5668\uff0c\u53ef\u4ee5\u9009\u62e9\u8fd0\u884c\u5b9e\u4f8b\u7684\u865a\u62df\u673a\u7ba1\u7406\u7a0b\u5e8f\u7684\u4e3b\u673a\u4e0a\u7684\u5b58\u50a8\u540e\u7aef\u3002\u8fd9\u63d0\u4f9b\u4e86\u6570\u636e\u5c40\u90e8\u6027\uff1a\u5b9e\u4f8b\u548c\u5377\u4f4d\u4e8e\u540c\u4e00\u53f0\u7269\u7406\u8ba1\u7b97\u673a\u4e0a\u3002 JsonFilter \u540e\u7aef\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u9009\u62e9\u540e\u7aef\u7684\u57fa\u4e8eJSON\u7684\u7b80\u5355\u8bed\u6cd5 RetryFilter \u7b5b\u9009\u51fa\u4ee5\u524d\u5c1d\u8bd5\u8fc7\u7684\u4e3b\u673a SameBackendFilter \u5c06\u5377\u5b89\u6392\u5728\u4e0e\u53e6\u4e00\u4e2a\u5377\u76f8\u540c\u7684\u540e\u7aef\u4e0a Cinder-Volume \u00b6 \u7c7b\u4f3c\u4e8eNova\u4e2d\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u7531nova-compute\u670d\u52a1\u6765\u7ba1\u7406\uff0cCinder\u4e2dVolume\u7684\u751f\u547d\u5468\u671f\u7531Cinder-Volume\u670d\u52a1\u6765\u7ba1\u7406\u3002 ISCSI Target \u00b6 \u200b \u57fa\u4e8eISCSI\u80fd\u591f\u4ee5\u8f83\u4f4e\u7684\u95e8\u69db\u5b9e\u73b0SAN\u7684\u5e94\u7528\u3002iSCSI\u5c5e\u4e8e\u4f20\u8f93\u5c42\u7684\u534f\u8bae\uff0c\u89c4\u5b9a\u4e86ISCSI target\u548cISCSI Initiator\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002ISCSI Initiator\u5219\u662f\u6307\u80fd\u591f\u57fa\u4e8eISCSI\u534f\u8bae\u8bbf\u95eeTarget\u7684\u5ba2\u6237\u7aef\u8f6f\u4ef6\u3002 \u200b OpenStack\u4e2d\uff0cCinder\u521b\u5efaVolume\u4e4b\u540e\u901a\u5e38\u4ee5ISCSI Target\u7684\u65b9\u5f0f\u63d0\u4f9b\u7ed9Nova\u3002Nova\u901a\u8fc7ISCSI\u534f\u8bae\u5c06\u8be5volum\u8fde\u63a5\u5230\u8ba1\u7b97\u8282\u70b9\u4e0a\u4f9b\u865a\u62df\u673a\u4f7f\u7528\u3002 \u540e\u7aef\u5b58\u50a8Dirver \u00b6 \u4e3a\u4e86\u652f\u6301\u4e0d\u540c\u7684\u540e\u7aef\u5b58\u50a8\u6280\u672f\u548c\u8bbe\u5907\uff0cCinder\u521b\u5efa\u4e86\u4e00\u4e2aDriver\u6846\u67b6\uff0c\u5728\u8fd9\u4e2a\u6846\u67b6\u4e2d\u5305\u542b\u4e86\u4f17\u591a\u63a5\u53e3\u3002\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u4f7f\u7528\u54ea\u79cd\u540e\u7aef\u5b58\u50a8\u7684Driver\uff0c\u4e14\u4ee5\u54ea\u79cd\u65b9\u5f0f\u63d0\u4f9bISCSI Target\u3002 Cinder-backup \u00b6 Cinder-backup\u7528\u4e8e\u5c06volume\u5907\u4efd\u5230\u5176\u4ed6\u5b58\u50a8\u7cfb\u7edf\u4e0a\u3002\u76ee\u524d\u652f\u6301\u7684\u5907\u4efd\u5b58\u50a8\u7cfb\u7edf\u6709Ceph\uff0cIBM Tivoli Storage Manger(TSM),GlusterFS\u7b49\uff0c\u9ed8\u8ba4\u4e3aSwift\u3002 \u4e0d\u540c\u7684\u5907\u4efd\u5b58\u50a8\u7cfb\u7edf\u4ee5Driver\u7684\u5f62\u5f0f\u5f97\u4ee5\u652f\u6301.\u5f53\u524dCinder\u53ea\u652f\u6301\u4e00\u4e2a\u5907\u4efd\u5b58\u50a8\u540e\u7aef\u3002\u4eceMitaka\u5f00\u59cb\uff0cBackup\u670d\u52a1\u548cvolume\u670d\u52a1\u89e3\u9664\u7d27\u8026\u5408\uff0c\u4e0d\u9700\u8981\u88c5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\uff0cCinder-backup\u670d\u52a1\u5728\u63a5\u5230\u8bf7\u6c42\u540e\u4efb\u610f\u6311\u9009\u4e00\u4e2aBackup host\u6765\u63d0\u4f9b\u5907\u4efd\u670d\u52a1\u3002 \u521b\u5efa\u5907\u4efd \u00b6 \u200b Cinder-Backup\u901a\u8fc7RPC\u8bf7\u6c42Cinder-Volume\u670d\u52a1\u63d0\u4f9b\u9700\u8981\u5907\u4efd\u7684\u5377\u3002\u5982\u679c\u9700\u8981\u5907\u4efd\u7684\u5377\u5904\u4e8eavailable\u72b6\u6001\uff0c\u76f4\u63a5\u628a\u6539\u5377\u8fd4\u56de\u7ed9cinder-backup\u4e2d\u3002\u5982\u679c\u9700\u8981\u5907\u4efd\u7684\u5377\u6b63\u5728\u88ab\u4f7f\u7528\uff0c\u5219\u5148\u6839\u636e\u8be5\u5377\u521b\u5efa\u4e00\u4efd\u5feb\u7167\u6216\u8005\u94fe\u63a5\u514b\u9686\u5377\u3002\u8fd4\u56de\u5feb\u7167\u6216\u8005\u514b\u9686\u5377\u7ed9Cinder-backup.Cinder-Backup\u6536\u5230\u5907\u4efd\u5377\u540e\uff0c\u628a\u5907\u4efd\u5377\u6302\u8f7d\u5230\u672c\u673a\uff0c\u5c06\u6570\u636e\u5907\u4efd\u5230\u540e\u7aef\u5907\u4efd\u5b58\u50a8\u3002 \u6062\u590d\u5907\u4efd \u00b6 \u200b cinder-backup\u5c06\u9700\u8981\u8fdb\u884c\u6570\u636e\u8fd8\u539f\u7684\u5377\u6302\u8f7d\u5230\u672c\u673a\uff0c\u5c06\u6570\u636e\u4ece\u5907\u4efd\u5b58\u50a8\u8bfb\u51fa\uff0c\u6062\u590d\u5230\u5377\u4e0a\u3002 \u5220\u9664\u5907\u4efd \u00b6 \u200b cinder-backup\u76f4\u63a5\u8c03\u7528Backup Driver\u4e2d\u7684\u63a5\u53e3\u8fdb\u884c\u5220\u9664\u3002 \u521b\u5efa\u5377\u8fc7\u7a0b \u00b6 https://docs.openstack.org/cinder/latest/contributor/architecture.html 1.Cinder-API\u76d1\u542cRESTful\u521b\u5efa\u5377\u7684\u8bf7\u6c42\uff0cCinder-API\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u5c06\u521b\u5efa\u5377\u7684\u8bf7\u6c42\u901a\u8fc7RPC\u53d1\u9001\u7ed9Cinder-Scheduler 2.Cinder-Scheduler\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u7ecf\u8fc7\u8fc7\u6ee4\u548c\u6743\u91cd\u9009\u62e9\u51fa\u521b\u5efa\u5377\u7684\u8282\u70b9 3.Cinder-Volume\u5728\u8282\u70b9\u4e0a\u901a\u8fc7Driver\u7684\u5f62\u5f0f\u8c03\u7528\u540e\u7aef\u5b58\u50a8\u7684\u8d44\u6e90\u5b8c\u6210\u5377\u7684\u521b\u5efa\u3002 4.\u5c06\u521b\u5efa\u597d\u7684\u5377\u901a\u8fc7ISCSI\u7684\u65b9\u5f0f\u63d0\u4f9b\u7ed9\u521b\u5efa\u597d\u7684\u8ba1\u7b97\u5b9e\u4f8b\uff08instence\uff09\u4f7f\u7528","title":"OpenStack  \u5206\u4eab\u7bc75 Cinder"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#openstck5-cinder","text":"OpenStack\u7cfb\u7edf\u67b6\u6784 https://docs.openstack.org/ceilometer/latest/contributor/architecture.html https://docs.openstack.org/install-guide/overview.html#block-storage","title":"OpenStck\u5206\u4eab\u7bc75-Cinder"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder","text":"https://docs.openstack.org/cinder/latest/ Cinder\u524d\u8eab\u662fNova\u4e2d\u7684Nova-Volume\u670d\u52a1\uff0c\u5728Folsom\u7248\u672c\u53d1\u5e03\uff0c\u4eceNova\u4e2d\u5265\u79bb\u6210\u4e3a\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684OpenStack\u9879\u76ee\u3002 Cinder\u80fd\u591f\u4e3aNova\u865a\u62df\u673a\uff0cIronic\u88f8\u91d1\u5c5e\u670d\u52a1\u5668\uff0c\u5bb9\u5668\u7b49\u63d0\u4f9b\u6301\u4e45\u5316\u7684\u5feb\u5b58\u50a8\u80fd\u529b\u3002","title":"Cinder\u7684\u7b80\u4ecb"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder_1","text":"Cinder\u4e0eNova\u901a\u8fc7\u672c\u5730\u5b58\u50a8\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u4e34\u65f6\u5feb\u5b58\u50a8\u4e0d\u540c\uff0cCinder\u7c7b\u4f3c\u4e8eAmzon\u7684EBS\uff08Elastic Block Storage\uff09\uff0c\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u6301\u4e45\u5316\u7684\u5757\u5b58\u50a8\u670d\u52a1\u3002Cinder\u865a\u62df\u673a\u5b58\u50a8\u5377\uff08Vomule\uff09\u7684\u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\uff0c\u5305\u62ec\u521b\u5efa\uff0c\u5220\u9664\uff0c\u5378\u8f7d\uff0c\u5feb\u7167\u7b49\u3002 \u5728\u4e0a\u56fe\u4e2d\u5c55\u793a\u4e86Cinder\u7ec4\u4ef6\u4e2d\u7684\u51e0\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5305\u62ecCinder-API;Cinder-Volume;Cinder-Scheduler\uff1bCinder-Backup\u3002\u4ed6\u4eec\u4e4b\u95f4\u901a\u8fc7AMQP\u6d88\u606f\u961f\u5217\u8fdb\u884c\u901a\u4fe1\u3002 -Cinder-API\u662f\u8fdb\u5165Cinder\u7684HTTP\u63a5\u53e3\uff0c\u8d1f\u8d23\u63a5\u6536\u6765\u81ea\u5916\u90e8\u7684RESTful \u7684\u8bf7\u6c42\u3002 -Cinder-volume\u8fd0\u884c\u5728\u5b58\u50a8\u8282\u70b9\u7ba1\u7406\u5177\u4f53\u5b58\u50a8\u8bbe\u5907\u548c\u5b58\u50a8\u8bbe\u5907\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u5b58\u50a8\u8282\u70b9\u4e0a\u90fd\u4f1a\u8fd0\u884c\u4e00\u4e2aCinde-volume\u670d\u52a1\uff0c\u591a\u4e2a\u8fd9\u6837\u7684\u8282\u70b9\u4e00\u8d77\u6784\u6210\u4e86\u4e00\u4e2a\u5b58\u50a8\u8d44\u6e90\u6c60\u3002 -Cinder-Scheduler\u662f\u6839\u636e\u65e2\u5b9a\u7684\u7b56\u7565\uff08\u5982\u4e0d\u540c\u7684\u8c03\u5ea6\u7b97\u6cd5\uff09\u9009\u62e9\u5408\u9002\u7684Cinder-Volume\u8282\u70b9\u6765\u5904\u7406\u7528\u6237\u7684\u8bf7\u6c42\u3002\u5728\u7528\u6237\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u5b58\u50a8\u8282\u70b9\u65f6Cinder-Schedule\u4f1a\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u5b58\u50a8\u8282\u70b9\uff0c\u5e76\u7531\u8be5\u8282\u70b9\u4e0a\u7684Cinder-volume\u54cd\u5e94\u8be5\u8bf7\u6c42\u3002\u5f53\u7528\u6237\u6307\u5b9a\u4e86\u5b58\u50a8\u8282\u70b9\u4e4b\u540e\uff0c\u76f4\u63a5\u7531\u8be5\u8282\u70b9\u4e0a\u7684Cinder-volume\u54cd\u5e94\u8be5\u8bf7\u6c42\uff0c\u4e0d\u7ecf\u8fc7Cinder-volume. \u4e3e\u4e2a\u4f8b\u5b50\u8bf4\u660e\u4e00\u4e0b\uff1a\u5047\u5982\u4f60\u53bb\u8db3\u7597\u5e97\u505a\u8db3\u7597\uff0c\u4f60\u8ddf\u524d\u53f0\u8bf4\u4e00\u4e0b\u4f60\u60f3\u505a\u7684\u9879\u76ee\u3002\u6b64\u65f6\u4f60\u6ca1\u6709\u76f8\u719f\u7684\u8db3\u7597\u6280\u5e08\uff0c\u4f60\u5c31\u4e5f\u4e0d\u77e5\u9053\u90a3\u4e2a\u6280\u5e08\u7684\u624b\u6cd5\u6bd4\u8f83\u597d\uff0c\u6b64\u65f6\u8db3\u7597\u5e97\u7684\u7ecf\u7406\u4f1a\u5e2e\u52a9\u4f60\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8db3\u7597\u6280\u5e08\u7ed9\u4f60\u505a\u8db3\u7597\u3002\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u662f\u4f60\u53bb\u505a\u8db3\u7597\u5e97\u505a\u8db3\u7597\uff0c\u4f60\u77e5\u9053\u54ea\u4e2a\u6280\u5e08\u7684\u624b\u6cd5\u6bd4\u8f83\u597d\uff0c\u4f60\u8fd8\u60f3\u627e\u8fd9\u4e2a\u8db3\u7597\u6280\u5e08\u4e3a\u4eba\u6c11\u670d\u52a1\u3002\u6b64\u65f6\u4f60\u53ea\u9700\u8981\u5411\u524d\u53f0\u62a5\u4e00\u4e0b\u6280\u5e08\u7684\u7f16\u53f7\u6216\u8005\u6280\u5e08\u7559\u7ed9\u4f60\u7684\u5c0f\u5361\u7247\u4ec0\u4e48\u7684\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u9700\u8981\u8ba9\u7ecf\u7406\u5e2e\u4f60\u9009\u62e9\u3002 -Cinder-Backup\u7528\u4e8e\u63d0\u4f9b\u5b58\u50a8\u5377\u5907\u4efd\u529f\u80fd\uff0c\u652f\u6301\u5757\u5b58\u50a8\u5377\u5907\u4efd\u5230OpenStack\u5907\u4efd\u5b58\u50a8\u540e\u7aef\uff0c\u5982Swift\uff0cCeph\uff0cNFS\u7b49\u3002","title":"Cinder\u662f\u7528\u6765\u5e72\u561b\u7684"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder_2","text":"Cinder\u5728\u865a\u62df\u673a\u4e0e\u5177\u4f53\u8bbe\u5907\u4e4b\u95f4\u5f15\u5165\u4e86\u201c\u903b\u8f91\u5b58\u50a8\u5377\u201d\u7684\u62bd\u8c61\u5c42\uff0c\u4f46\u662fCinder\u5e76\u975e\u662f\u4e00\u79cd\u5b58\u50a8\u6280\u672f\uff0cCinder\u5e76\u6ca1\u6709\u5b9e\u73b0\u5bf9\u5feb\u8bbe\u5907\u7684\u5b9e\u9645\u7ba1\u7406\u548c\u670d\u52a1\u3002\u4ed6\u53ea\u662f\u63d0\u4f9b\u4e00\u4e2a\u4e2d\u95f4\u62bd\u8c61\u5c42\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u4e3a\u540e\u7aef\u7684\u4e0d\u540c\u5b58\u50a8\u6280\u672f\uff0c\u6bd4\u5982DAS\uff0cNAS\uff0cSAN\uff08 https://www.rfwireless-world.com/Terminology/difference-between-DAS-NAS-and-SAN.html \uff09\uff0c\u5bf9\u8c61\u5b58\u50a8\u4ee5\u53ca\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7b49\uff0c\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u63a5\u53e3\uff0c\u4e0d\u540c\u7684\u5757\u8bbe\u5907\u5382\u5546\u5728Cinder\u4e2d\u901a\u8fc7\u9a71\u52a8\u7684\u5f62\u5f0f\u5b9e\u73b0\u8fd9\u4e9b\u63a5\u53e3\u6765\u4e0eOpenStack\u8fdb\u884c\u6574\u5408\u3002 -- https://wiki.openstack.org/wiki/CinderSupportMatrix Cinder\u9ed8\u8ba4\u4f7f\u7528LVM\uff08Logic Volume Mananger\uff09\u4f5c\u4e3a\u540e\u7aef\u5b58\u50a8\uff08Backend Storage\uff09\u3002 \u200b","title":"Cinder\u662f\u4ec0\u4e48"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#lvm","text":"\u200b \u5728Linux\u7cfb\u7edf\u4e2d\u4f7f\u7528fdisk\u5de5\u5177\u8fdb\u884c\u5206\u5272\u5e76\u7ba1\u7406\u78c1\u76d8\u7684\u5206\u533a\uff0c\u6bd4\u5982\u8bb2\u78c1\u76d8\u7684/dev/sda\u5206\u5272\u4e3a/dev/sda1\u4e0e/dev/sda2\u4e24\u4e2a\u5206\u533a\u5206\u522b\u6ee1\u8db3\u4e0d\u540c\u7684\u9700\u6c42\uff0c\u9700\u8981\u91cd\u65b0\u5f15\u5230\u5206\u533a\u624d\u80fd\u751f\u6548\u3002 LVM\uff08Logic Volume Manager\uff09\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u865a\u62df\u8bbe\u5907\u7684\u9a71\u52a8\uff0c\u662f\u5728\u5185\u6838\u4e2d\u8bbe\u5907\u548c\u7269\u7406\u6a21\u5757\u4e4b\u95f4\u6dfb\u52a0\u7684\u4e00\u4e2a\u65b0\u7684\u62bd\u8c61\u5c42\u3002\u4ed6\u53ef\u4ee5\u5c06\u51e0\u5757\u6b21\u54e6\u6309\uff08\u7269\u7406\u5377\uff0cPhysicalVolume\uff09\u7ec4\u5408\u5f62\u6210\u4e00\u4e2a\u5b58\u50a8\u6c60\u6216\u8005\u5377\u7ec4\uff08VolumeGroup\uff09\u3002LVM\u80fd\u591f\u4ece\u5b58\u50a8\u6c60\u6216\u8005\u5377\u5219\u4e2d\uff08VolumeGroup\uff09\u4e2d\u5212\u5206\u51fa\u4e0d\u7528\u5927\u5c0f\u7684\u903b\u8f91\u5377\uff08Logic Volume\uff09\u521b\u5efa\u65b0\u7684\u903b\u8f91\u8bbe\u5907\u3002\u5e95\u5c42\u7684\u539f\u59cb\u78c1\u76d8\u4e0d\u5728\u7531\u5185\u6838\u76f4\u63a5\u63a7\u5236\uff0c\u800c\u7531LVM\u5c42\u6765\u63a7\u5236\u3002\u5bf9\u4e8e\u4e0a\u5c42\u5e94\u7528\u6765\u8bf4\u5377\u7ec4\u66ff\u4ee3\u4e86\u78c1\u76d8\u5757\u6210\u4e3a\u6570\u636e\u5b58\u50a8\u7684\u57fa\u672c\u5355\u5143\u3002LVM\u7ba1\u7406\u7740\u6240\u6709\u7269\u7406\u5377\u7684\u7269\u7406\u76d8\u533a\uff0c\u7ef4\u6301\u7740\u903b\u8f91\u76d8\u533a\u548c\u7269\u7406\u76d8\u533a\u4e4b\u95f4\u7684\u6620\u5c04\u3002LVM\u903b\u8f91\u8bbe\u5907\u5411\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u4e86\u548c\u7269\u7406\u78c1\u76d8\u76f8\u540c\u7684\u529f\u80fd\uff0c\u5982\u6587\u4ef6\u7cfb\u7edf\u7684\u521b\u5efa\u548c\u6570\u636e\u7684\u8bbf\u95ee\u7b49\u3002\u4f46LVM\u903b\u8f91\u8bbe\u5907\u4e0d\u53d7\u7269\u7406\u7ea6\u675f\u7684\u9650\u5236\uff0c\u903b\u8f91\u5377\u4e0d\u5fc5\u662f\u8fde\u7eed\u7684\u7a7a\u95f4\uff0c\u5b83\u53ef\u4ee5\u8de8\u8d8a\u8bb8\u591a\u7269\u7406\u5377\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u4efb\u610f\u7684\u8c03\u6574\u5927\u5c0f\u3002\u76f8\u6bd4\u7269\u7406\u78c1\u76d8\u6765\u8bf4\uff0c\u66f4\u6613\u4e8e\u78c1\u76d8\u7a7a\u95f4\u7684\u7ba1\u7406\u3002 \u4ece\u7528\u6237\u6001\u5e94\u7528\u6765\u770b\uff0cLVM\u903b\u8f91\u5377\u76f8\u5f53\u4e8e\u4e00\u4e2a\u666e\u901a\u7684\u5757\u8bbe\u5907\uff0c\u5bf9\u5176\u7684\u8bfb\u5199\u64cd\u4f5c\u548c\u666e\u901a\u7684\u5757\u8bbe\u5907\u5b8c\u5168\u76f8\u540c\u3002\u800c\u4ece\u7269\u7406\u8bbe\u5907\u5c42\u6765\u770b\uff0cLVM\u76f8\u5bf9\u72ec\u7acb\u4e8e\u5e95\u5c42\u7684\u7269\u7406\u8bbe\u5907\uff0c\u5e76\u4e14\u5c4f\u853d\u4e86\u4e0d\u540c\u7269\u7406\u8bbe\u5907\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u56e0\u800c\u5728LVM\u5c42\u4e0a\u5b9e\u73b0\u6570\u636e\u7684\u8fde\u7eed\u4fdd\u62a4\u95ee\u9898\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981\u5355\u72ec\u8003\u8651\u6bcf\u4e00\u79cd\u5177\u4f53\u7684\u7269\u7406\u8bbe\u5907\uff0c\u907f\u514d\u4e86\u5728\u6570\u636e\u590d\u5236\u8fc7\u7a0b\u4e2d\u56e0\u7269\u7406\u8bbe\u5907\u4e4b\u95f4\u7684\u5dee\u5f02\u800c\u4ea7\u751f\u7684\u95ee\u9898\u3002\u4eceLVM\u7684\u5185\u6838\u5b9e\u73b0\u539f\u7406\u4e0a\u770b\uff0cLVM\u662f\u5728\u5185\u6838\u901a\u7528\u5757\u8bbe\u5907\u5c42\u5230\u78c1\u76d8\u8bbe\u5907\u9a71\u52a8\u5c42\u7684\u8bf7\u6c42\u63d0\u4ea4\u6d41\u4e4b\u95f4\u5f00\u8f9f\u7684\u53e6\u5916\u4e00\u6761\u8def\u5f84\uff0c\u5373\u5728\u901a\u7528\u5757\u8bbe\u5907\u5c42\u5230\u78c1\u76d8\u8bbe\u5907\u9a71\u52a8\u5c42\u4e4b\u95f4\u63d2\u5165\u4e86LVM\u7ba1\u7406\u6620\u5c04\u5c42\u7528\u4e8e\u622a\u83b7\u4e00\u5b9a\u7684\u8bf7\u6c42\u8fdb\u884c\u5904\u7406\u3002 \u7528\u6237\u901a\u8fc7lvm\u63d0\u4f9b\u63a5\u53e3\uff0c\u4f9d\u9760\u5185\u6838\u521b\u5efa\u4e00\u7cfb\u5217LVM\u903b\u8f91\u5377\uff0c\u6240\u6709\u5bf9lvm\u903b\u8f91\u5377\u7684\u8bfb\u5199\u64cd\u4f5c\u6700\u7ec8\u90fd\u4f1a\u7531LVM\u5728\u901a\u7528\u5757\u8bbe\u5907\u5c42\u4e0b\u65b9\u622a\u83b7\u4e0b\u6765\uff0c\u8fdb\u884c\u66f4\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002\u8fd9\u91cc\u7684\u8fdb\u4e00\u6b65\u5904\u7406\u4e3b\u8981\u6307\u7684\u662f\u5b8c\u6210\u5199\u8bf7\u6c42\u7684\u6620\u5c04\uff0c\u662f\u5c06\u8bf7\u6c42\u7684\u6570\u636e\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u4e00\u4e9b\u62c6\u5206\u548c\u91cd\u5b9a\u4f4d\u64cd\u4f5c\uff0c\u4ece\u800c\u53ef\u4ee5\u5c06\u8bf7\u6c42\u548c\u6570\u636e\u5206\u53d1\u5230\u5b9e\u9645\u7684\u7269\u7406\u8bbe\u5907\u4e2d\u53bb\u3002","title":"\u4ec0\u4e48\u662fLVM"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder-api","text":"Cinder-API \u5b9e\u73b0\u4e86\u5bf9Volume\uff0cVolume\u7c7b\u578b\uff08Volume Type\uff09\u4ee5\u53caSnapshot\u7684\u7ba1\u7406\u64cd\u4f5c\u3002 Volume\u7c7b\u578b\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5377\u7684\u4e00\u79cd\u6807\u8bc6\u3002Cinder\u63d0\u4f9b\u4e86\u76f8\u5173\u7684API\u53ef\u4ee5\u81ea\u7531\u7684\u521b\u5efa\u5220\u9664volume\u7c7b\u578b\u3002 snapshot\u662f\u4e00\u4e2aVolume\u5728\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u65f6\u95f4\u70b9\u7684\u4e00\u4e2a\u5feb\u7167\uff0c\u56e0\u6b64\uff0cSnapshot\u662f\u53ea\u8bfb\u7684\uff0c\u4e0d\u53ef\u4ee5\u88ab\u6539\u53d8\u7684\uff0cSnapshot\u53ef\u4ee5\u88ab\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Volume\u3002","title":"Cinder-API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder-scheduler","text":"\u4e0eNova-Scheduler\u7c7b\u4f3c\uff0cCinder\u7684\u8c03\u5ea6\u670d\u52a1Cinder-Scheduler\u4e5f\u7528\u4e8e\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8282\u70b9\uff0c\u4e0d\u8fc7\u4e0d\u540c\u7684\u662f\uff0cNova-Scheduler\u9009\u62e9\u7684\u662f\u8ba1\u7b97\u8282\u70b9\u6765\u76f8\u5e94\u7528\u6237\u6709\u5173\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u76f8\u5173\u7684\u8bf7\u6c42\uff0c\u800cCinder-Sceduler\u9009\u62e9\u7684\u662fCinder-Volume\u8282\u70b9\u6765\u5904\u7406\u7528\u6237\u6709\u5173\u7684\u751f\u547d\u5468\u671f\u7684\u5904\u7406\u3002 \u76ee\u524dCinder\u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2a\u8c03\u5ea6\u5668FilterScheduler\uff0c\u4f46\u662f\u5728\u5386\u53f2\u4e0a\u66fe\u7ecf\u5b58\u5728SimpleScheduler\uff08\u9009\u62e9\u5269\u4f59\u5b58\u50a8\u7a7a\u95f4\u6700\u591a\u7684Host\uff09\u548cChanceFilter(\u968f\u673a\u6311\u9009\u6ee1\u8db3\u6761\u4ef6\u7684Host)\u4e24\u4e2a\u8c03\u5ea6\u5668\uff0c\u4f46\u662f\u4ed6\u4eec\u73b0\u5728\u5df2\u7ecf\u88ab\u5229\u7528FilterScheduler\u7684\u6846\u67b6\u91cd\u65b0\u5b9e\u73b0\u3002 FilterScheduler\u7684\u5de5\u4f5c\u6d41\u7a0b\u548cNova\u7684FilterScheduler\u8c03\u5ea6\u5668\u76f8\u540c\u3002","title":"Cinder-Scheduler"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#filteringweighting","text":"Filtering\u5c31\u662f\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u7684\u5404\u79cdFilters\u8fc7\u6ee4\u6389\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\uff0cWeighting\u5219\u662f\u6307\u5bf9\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u673a\u8ba1\u7b97\u6743\u91cd\uff08weight\uff09\u5e76\u6392\u5e8f\uff0c\u4ece\u800c\u5f97\u51fa\u6700\u4f73\u7684\u4e00\u4e2a\u3002Cinder\u4e2d\u5df2\u7ecf\u5b9e\u73b0\u4e86\u51e0\u79cd\u4e0d\u540c\u7684Filter\u548cweigher\u3002 \u8fc7\u6ee4\u5668 \u529f\u80fd AvailabilityZoneFilter \u6309\u53ef\u7528\u6027\u533a\u57df\u8fc7\u6ee4\u540e\u7aef\u3002 CapabilitiesFilter BackendFilter\u4e0e\u8d44\u6e90\uff08\u5b9e\u4f8b\u548c\u5377\uff09\u7c7b\u578b\u8bb0\u5f55\u4e00\u8d77\u4f7f\u7528 CapacityFilter \u57fa\u4e8e\u5377\u540e\u7aef\u7684\u5bb9\u91cf\u5229\u7528\u7387\u7684\u5bb9\u91cf\u8fc7\u6ee4\u5668 DifferentBackendFilter \u5c06\u5377\u5b89\u6392\u5728\u4e0e\u4e00\u7ec4\u5377\u4e0d\u540c\u7684\u540e\u7aef\u4e0a\u3002 DriverFilter DriverFilter\u6839\u636e\u201c\u8fc7\u6ee4\u5668\u529f\u80fd\u201d\u548c\u6307\u6807\u8fc7\u6ee4\u540e\u7aef\u3002 InstanceLocalityFilter \u901a\u8fc7\u6b64\u7b5b\u9009\u5668\uff0c\u53ef\u4ee5\u9009\u62e9\u8fd0\u884c\u5b9e\u4f8b\u7684\u865a\u62df\u673a\u7ba1\u7406\u7a0b\u5e8f\u7684\u4e3b\u673a\u4e0a\u7684\u5b58\u50a8\u540e\u7aef\u3002\u8fd9\u63d0\u4f9b\u4e86\u6570\u636e\u5c40\u90e8\u6027\uff1a\u5b9e\u4f8b\u548c\u5377\u4f4d\u4e8e\u540c\u4e00\u53f0\u7269\u7406\u8ba1\u7b97\u673a\u4e0a\u3002 JsonFilter \u540e\u7aef\u8fc7\u6ee4\u5668\uff0c\u7528\u4e8e\u9009\u62e9\u540e\u7aef\u7684\u57fa\u4e8eJSON\u7684\u7b80\u5355\u8bed\u6cd5 RetryFilter \u7b5b\u9009\u51fa\u4ee5\u524d\u5c1d\u8bd5\u8fc7\u7684\u4e3b\u673a SameBackendFilter \u5c06\u5377\u5b89\u6392\u5728\u4e0e\u53e6\u4e00\u4e2a\u5377\u76f8\u540c\u7684\u540e\u7aef\u4e0a","title":"Filtering\uff08\u8fc7\u6ee4\uff09\u4e0eweighting(\u6743\u91cd\u8ba1\u7b97\u4e0e\u6392\u5e8f)"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder-volume","text":"\u7c7b\u4f3c\u4e8eNova\u4e2d\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f\u7531nova-compute\u670d\u52a1\u6765\u7ba1\u7406\uff0cCinder\u4e2dVolume\u7684\u751f\u547d\u5468\u671f\u7531Cinder-Volume\u670d\u52a1\u6765\u7ba1\u7406\u3002","title":"Cinder-Volume"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#iscsi-target","text":"\u200b \u57fa\u4e8eISCSI\u80fd\u591f\u4ee5\u8f83\u4f4e\u7684\u95e8\u69db\u5b9e\u73b0SAN\u7684\u5e94\u7528\u3002iSCSI\u5c5e\u4e8e\u4f20\u8f93\u5c42\u7684\u534f\u8bae\uff0c\u89c4\u5b9a\u4e86ISCSI target\u548cISCSI Initiator\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002ISCSI Initiator\u5219\u662f\u6307\u80fd\u591f\u57fa\u4e8eISCSI\u534f\u8bae\u8bbf\u95eeTarget\u7684\u5ba2\u6237\u7aef\u8f6f\u4ef6\u3002 \u200b OpenStack\u4e2d\uff0cCinder\u521b\u5efaVolume\u4e4b\u540e\u901a\u5e38\u4ee5ISCSI Target\u7684\u65b9\u5f0f\u63d0\u4f9b\u7ed9Nova\u3002Nova\u901a\u8fc7ISCSI\u534f\u8bae\u5c06\u8be5volum\u8fde\u63a5\u5230\u8ba1\u7b97\u8282\u70b9\u4e0a\u4f9b\u865a\u62df\u673a\u4f7f\u7528\u3002","title":"ISCSI Target"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#dirver","text":"\u4e3a\u4e86\u652f\u6301\u4e0d\u540c\u7684\u540e\u7aef\u5b58\u50a8\u6280\u672f\u548c\u8bbe\u5907\uff0cCinder\u521b\u5efa\u4e86\u4e00\u4e2aDriver\u6846\u67b6\uff0c\u5728\u8fd9\u4e2a\u6846\u67b6\u4e2d\u5305\u542b\u4e86\u4f17\u591a\u63a5\u53e3\u3002\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u4f7f\u7528\u54ea\u79cd\u540e\u7aef\u5b58\u50a8\u7684Driver\uff0c\u4e14\u4ee5\u54ea\u79cd\u65b9\u5f0f\u63d0\u4f9bISCSI Target\u3002","title":"\u540e\u7aef\u5b58\u50a8Dirver"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#cinder-backup","text":"Cinder-backup\u7528\u4e8e\u5c06volume\u5907\u4efd\u5230\u5176\u4ed6\u5b58\u50a8\u7cfb\u7edf\u4e0a\u3002\u76ee\u524d\u652f\u6301\u7684\u5907\u4efd\u5b58\u50a8\u7cfb\u7edf\u6709Ceph\uff0cIBM Tivoli Storage Manger(TSM),GlusterFS\u7b49\uff0c\u9ed8\u8ba4\u4e3aSwift\u3002 \u4e0d\u540c\u7684\u5907\u4efd\u5b58\u50a8\u7cfb\u7edf\u4ee5Driver\u7684\u5f62\u5f0f\u5f97\u4ee5\u652f\u6301.\u5f53\u524dCinder\u53ea\u652f\u6301\u4e00\u4e2a\u5907\u4efd\u5b58\u50a8\u540e\u7aef\u3002\u4eceMitaka\u5f00\u59cb\uff0cBackup\u670d\u52a1\u548cvolume\u670d\u52a1\u89e3\u9664\u7d27\u8026\u5408\uff0c\u4e0d\u9700\u8981\u88c5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\uff0cCinder-backup\u670d\u52a1\u5728\u63a5\u5230\u8bf7\u6c42\u540e\u4efb\u610f\u6311\u9009\u4e00\u4e2aBackup host\u6765\u63d0\u4f9b\u5907\u4efd\u670d\u52a1\u3002","title":"Cinder-backup"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#_1","text":"\u200b Cinder-Backup\u901a\u8fc7RPC\u8bf7\u6c42Cinder-Volume\u670d\u52a1\u63d0\u4f9b\u9700\u8981\u5907\u4efd\u7684\u5377\u3002\u5982\u679c\u9700\u8981\u5907\u4efd\u7684\u5377\u5904\u4e8eavailable\u72b6\u6001\uff0c\u76f4\u63a5\u628a\u6539\u5377\u8fd4\u56de\u7ed9cinder-backup\u4e2d\u3002\u5982\u679c\u9700\u8981\u5907\u4efd\u7684\u5377\u6b63\u5728\u88ab\u4f7f\u7528\uff0c\u5219\u5148\u6839\u636e\u8be5\u5377\u521b\u5efa\u4e00\u4efd\u5feb\u7167\u6216\u8005\u94fe\u63a5\u514b\u9686\u5377\u3002\u8fd4\u56de\u5feb\u7167\u6216\u8005\u514b\u9686\u5377\u7ed9Cinder-backup.Cinder-Backup\u6536\u5230\u5907\u4efd\u5377\u540e\uff0c\u628a\u5907\u4efd\u5377\u6302\u8f7d\u5230\u672c\u673a\uff0c\u5c06\u6570\u636e\u5907\u4efd\u5230\u540e\u7aef\u5907\u4efd\u5b58\u50a8\u3002","title":"\u521b\u5efa\u5907\u4efd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#_2","text":"\u200b cinder-backup\u5c06\u9700\u8981\u8fdb\u884c\u6570\u636e\u8fd8\u539f\u7684\u5377\u6302\u8f7d\u5230\u672c\u673a\uff0c\u5c06\u6570\u636e\u4ece\u5907\u4efd\u5b58\u50a8\u8bfb\u51fa\uff0c\u6062\u590d\u5230\u5377\u4e0a\u3002","title":"\u6062\u590d\u5907\u4efd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#_3","text":"\u200b cinder-backup\u76f4\u63a5\u8c03\u7528Backup Driver\u4e2d\u7684\u63a5\u53e3\u8fdb\u884c\u5220\u9664\u3002","title":"\u5220\u9664\u5907\u4efd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/#_4","text":"https://docs.openstack.org/cinder/latest/contributor/architecture.html 1.Cinder-API\u76d1\u542cRESTful\u521b\u5efa\u5377\u7684\u8bf7\u6c42\uff0cCinder-API\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u5c06\u521b\u5efa\u5377\u7684\u8bf7\u6c42\u901a\u8fc7RPC\u53d1\u9001\u7ed9Cinder-Scheduler 2.Cinder-Scheduler\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u7ecf\u8fc7\u8fc7\u6ee4\u548c\u6743\u91cd\u9009\u62e9\u51fa\u521b\u5efa\u5377\u7684\u8282\u70b9 3.Cinder-Volume\u5728\u8282\u70b9\u4e0a\u901a\u8fc7Driver\u7684\u5f62\u5f0f\u8c03\u7528\u540e\u7aef\u5b58\u50a8\u7684\u8d44\u6e90\u5b8c\u6210\u5377\u7684\u521b\u5efa\u3002 4.\u5c06\u521b\u5efa\u597d\u7684\u5377\u901a\u8fc7ISCSI\u7684\u65b9\u5f0f\u63d0\u4f9b\u7ed9\u521b\u5efa\u597d\u7684\u8ba1\u7b97\u5b9e\u4f8b\uff08instence\uff09\u4f7f\u7528","title":"\u521b\u5efa\u5377\u8fc7\u7a0b"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/","text":"OpenStack--\u5206\u4eab\u7bc76-Glance \u00b6 Glance\u7684\u529f\u80fd \u00b6 \u5728OpenStack\u4e2dGlance\u63d0\u4f9b\u865a\u62df\u673a\u7684\u955c\u50cf\uff08Image\uff09\u670d\u52a1\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cGlance\u672c\u8eab\u5e76\u4e0d\u53c2\u4e0e\u5927\u91cf\u6570\u636e\u7684\u5b58\u50a8\uff0cGlance\u955c\u50cf\u7684\u5b58\u50a8\u9700\u8981\u4f9d\u8d56\u4e8eSwift\u7b49\u9879\u76ee\u6765\u5b8c\u6210\u3002 Architecture of Glance service in OpenStack \u00b6 -- https://docs.openstack.org/glance/pike/contributor/architecture.html Glance\u672c\u8eab\u5e76\u4e0d\u8d1f\u8d23\u5b9e\u9645\u7684\u5b58\u50a8\uff0c\u53ea\u662f\u7528\u6765\u5b8c\u6210\u4e00\u4e9b\u955c\u50cf\u7684\u7ba1\u7406\u5de5\u4f5c\uff0c\u6240\u4ee5Glance\u7684\u529f\u80fd\u6bd4\u8f83\u5355\u4e00\uff0c\u6240\u5305\u542b\u7684\u76f8\u5e94\u7684\u7ec4\u4ef6\u4e5f\u76f8\u5bf9\u8f83\u5c11\u3002 Glance\u4e3b\u8981\u7531Glance-API\u4e0eGlance-registry\u4e24\u4e2a\u670d\u52a1\u7ec4\u6210\u3002Glance-API\u662f\u8fdb\u5165Glance\u7684\u5165\u53e3\uff0c\u8d1f\u8d23\u63a5\u6536RESTful\u8bf7\u6c42\uff0c\u7136\u540e\u540e\u53f0\u7684Swift\uff0cAmazon S3\u7b49\u5b58\u50a8\u7cfb\u7edf\u5b8c\u6210\u955c\u50cf\u7684\u5b58\u50a8\u4e0e\u83b7\u53d6\u3002 Glance\u7684Store\u6a21\u5757\u5728Juno\u7248\u672c\u4e4b\u524d\u662fGlance\u7684\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5728Juno\u4e4b\u540eGlance_Store\u6210\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\u4eceGlance\u4e2d\u72ec\u7acb\u51fa\u6765\uff0c\u4f46\u662f\u622a\u81f3\u5230\u5c0f\u97e9\uff08\u7b14\u8005\uff09\u4e66\u5199\u8fd9\u7bc7\u535a\u5ba2\u4e4b\u524d\uff0cGlance_Store\u4f9d\u7136\u53ea\u662f\u7528\u4e8eGlance\u548cGlare\u9879\u76ee\u7684\u7279\u5b9a\u7528\u9014\u3002\uff08 https://docs.openstack.org/glance_store/latest/index.html \uff09 Glace\u7ec4\u4ef6\u7684\u4ecb\u7ecd \u00b6 Glance-API \u00b6 Glance-API\u4e3b\u8981\u63d0\u4f9b\u955c\u50cf\u7ba1\u7406\u7684\u529f\u80fd\uff0c\u6bd4\u5982Image\u7684\u5bfc\u5165\u548c\u5bfc\u51fa\uff0c\u955c\u50cf\u5143\u6570\u636e\u7684\u7ba1\u7406\u7b49\u3002\u76ee\u524dGlance-API\u4f7f\u7528\u7684v2\u7248\u672c\uff0c\u5728v2\u7248\u672c\u7684Glance-API\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u6574\u5408\u4e86glance-registry\u7684\u670d\u52a1\u529f\u80fd\u3002v1\u7248\u672c\u7684Glance-API\u5df2\u7ecf\u5728Newton\u7248\u672c\u4e2d\u5f03\u7528\u3002 Glance-API\u80fd\u591f\u4e3a\u955c\u50cf\u5efa\u7acb\u672c\u5730\u7f13\u5b58\uff0c\u5b9e\u73b0API\u670d\u52a1\u8282\u70b9\u6570\u91cf\u7684\u6269\u5c55\uff0c\u63d0\u4f9b\u591a\u4e2aAPI\u8282\u70b9\u4e3a\u4e00\u4e2aImage\u63d0\u4f9b\u670d\u52a1\u7684\u6a21\u5f0f\u4ee5\u63d0\u9ad8\u6548\u7387\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2aAPI\u8282\u70b9\u5219\u7f13\u5b58\u670d\u52a1\u6ca1\u6709\u610f\u4e49\u3002\u672c\u5730\u7684Image Cache\u662f\u5bf9Image\u6587\u4ef6\u7684\u5b8c\u6574\u590d\u5236\uff0c\u4f46\u662f\u5bf9\u7528\u6237\u6765\u8bf4\u8fd9\u662f\u5b8c\u5168\u900f\u660e\u7684\uff0c\u7528\u6237\u65e0\u9700\u5173\u5fc3Image\u7684\u5177\u4f53\u5b58\u653e\u4f4d\u7f6e\uff0c\u65e0\u8bbaImage\u662f\u5b58\u653e\u5728\u540e\u7aef\u5b58\u50a8\u8fd8\u662f\u672c\u5730\u5b58\u50a8\u7528\u6237\u90fd\u662f\u65e0\u611f\u77e5\u7684\u3002 Glance-API\u63a5\u6536\u7531GlanceClite\u53d1\u9001\u7684RESTful\u8bf7\u6c42\uff1bGlance-API\u4f1a\u5bfc\u5165Glance_Store\u9879\u76ee\u5e76\u521d\u59cb\u5316\u540e\u53f0\u7684\u5b58\u50a8\u7cfb\u7edf\u3002 Image \u00b6 Image\u662fGlance\u6240\u7ba1\u7406\u7684\u4e3b\u8981\u8d44\u6e90\uff0c\u7c7b\u4f3c\u4e8eVM\u7684\u865a\u62df\u673a\u6a21\u677f\uff08template\uff09,\u5b83\u9884\u88c5\u4e86OS\u3002\u4eceImage\u542f\u52a8VM\uff0cVM\u88ab\u5220\u9664\u540eImage\u4e0d\u53d7\u5f71\u54cd\u4f9d\u7136\u5b58\u5728\u3002Image\u53ea\u662f\u4f5c\u4e3aVM\u7684\u542f\u52a8\u6a21\u677f\uff0cVM\u5b9e\u4f8b\u4e0a\u7684\u6539\u52a8\u5e76\u4e0d\u4f1a\u4f53\u73b0\u5728Image\u4e0a\u3002 \u955c\u50cf\u7684\u5143\u6570\u636e\u8d1f\u8d23\u7cbe\u786e\u5b8c\u6574\u7684\u63cf\u8ff0\u955c\u50cf\u7684\u4fe1\u606f\uff1b id\uff1aImage\u552f\u4e00\u7684UUID Name\uff1aimage \u540d\u5b57 owner:\u6240\u6709\u8005 size\uff1a\u5b57\u8282\u8868\u793a\u7684Image\u5927\u5c0f \u7b49--- Glance-registry \u00b6 Glance-registry\u8d1f\u8d23\u5904\u7406\u4e0e\u955c\u50cf\u5143\u6570\u636e\u76f8\u5173\u7684\u8bf7\u6c42\uff0c\u5f53Glance-API\u63a5\u6536\u5230\u6765\u81eaGlanceClite\u7684RESTful\u6d88\u606f\u5305\u542b\u6709\u5173\u955c\u50cf\u5143\u6570\u636e\u7684\u8bf7\u6c42\u4fbf\u5c06\u6709\u5173\u955c\u50cf\u5143\u6570\u636e\u7684\u8bf7\u6c42\u6d88\u606f\u53d1\u9001\u7ed9Glance-registry\u3002\u7136\u540e\u6709Glance-registry\u8d1f\u8d23\u89e3\u6790\u8bf7\u6c42\u7684\u5185\u5bb9\uff0c\u5e76\u4e0eDB\u6570\u636e\u5e93\u8fdb\u884c\u4ea4\u4e92\uff0c\u5b58\u53d6\u6216\u8005\u66f4\u65b0\u955c\u50cf\u7684\u5143\u6570\u636e\uff08\u955c\u50cf\u5143\u6570\u636e\u6307\u7684\u662f\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u6709\u5173Image\u7684\u4e00\u4e9b\u6d88\u606f\uff09 DB \u00b6 \u53ea\u8d1f\u8d23\u5b58\u50a8\u955c\u50cf\u7684\u5143\u6570\u636e Glance\u521b\u5efaImage \u00b6 Glace-API\u63a5\u6536\u5230GlanceClite\u7684RESTful\u8bf7\u6c42\uff0c\u901a\u8fc7WSGI Route\u6a21\u5757\u8def\u7531\u5230\u5177\u4f53\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u4f1a\u5305\u542b\u4e24\u4e2a\u64cd\u4f5c\uff0c\u4e00\u4e2a\u662f\u8d1f\u8d23\u52a0\u8f7dGlance-Store\u5e76\u4e14\u521d\u59cb\u5316\u540e\u7aef\u5b58\u50a8\u5b8c\u6210\u5bf9\u955c\u50cf\u7684\u5b58\u53d6\u64cd\u4f5c\uff1b\u4e00\u4e2a\u662f\u9488\u5bf9Glance DB\u4e2d\u7684\u5143\u6570\u636e\u6267\u884c\u64cd\u4f5c","title":"OpenStack  \u5206\u4eab\u7bc76 Glance"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#openstack-6-glance","text":"","title":"OpenStack--\u5206\u4eab\u7bc76-Glance"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#glance","text":"\u5728OpenStack\u4e2dGlance\u63d0\u4f9b\u865a\u62df\u673a\u7684\u955c\u50cf\uff08Image\uff09\u670d\u52a1\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cGlance\u672c\u8eab\u5e76\u4e0d\u53c2\u4e0e\u5927\u91cf\u6570\u636e\u7684\u5b58\u50a8\uff0cGlance\u955c\u50cf\u7684\u5b58\u50a8\u9700\u8981\u4f9d\u8d56\u4e8eSwift\u7b49\u9879\u76ee\u6765\u5b8c\u6210\u3002","title":"Glance\u7684\u529f\u80fd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#architecture-of-glance-service-in-openstack","text":"-- https://docs.openstack.org/glance/pike/contributor/architecture.html Glance\u672c\u8eab\u5e76\u4e0d\u8d1f\u8d23\u5b9e\u9645\u7684\u5b58\u50a8\uff0c\u53ea\u662f\u7528\u6765\u5b8c\u6210\u4e00\u4e9b\u955c\u50cf\u7684\u7ba1\u7406\u5de5\u4f5c\uff0c\u6240\u4ee5Glance\u7684\u529f\u80fd\u6bd4\u8f83\u5355\u4e00\uff0c\u6240\u5305\u542b\u7684\u76f8\u5e94\u7684\u7ec4\u4ef6\u4e5f\u76f8\u5bf9\u8f83\u5c11\u3002 Glance\u4e3b\u8981\u7531Glance-API\u4e0eGlance-registry\u4e24\u4e2a\u670d\u52a1\u7ec4\u6210\u3002Glance-API\u662f\u8fdb\u5165Glance\u7684\u5165\u53e3\uff0c\u8d1f\u8d23\u63a5\u6536RESTful\u8bf7\u6c42\uff0c\u7136\u540e\u540e\u53f0\u7684Swift\uff0cAmazon S3\u7b49\u5b58\u50a8\u7cfb\u7edf\u5b8c\u6210\u955c\u50cf\u7684\u5b58\u50a8\u4e0e\u83b7\u53d6\u3002 Glance\u7684Store\u6a21\u5757\u5728Juno\u7248\u672c\u4e4b\u524d\u662fGlance\u7684\u4e00\u4e2a\u5b50\u7ec4\u4ef6\uff0c\u5728Juno\u4e4b\u540eGlance_Store\u6210\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\u4eceGlance\u4e2d\u72ec\u7acb\u51fa\u6765\uff0c\u4f46\u662f\u622a\u81f3\u5230\u5c0f\u97e9\uff08\u7b14\u8005\uff09\u4e66\u5199\u8fd9\u7bc7\u535a\u5ba2\u4e4b\u524d\uff0cGlance_Store\u4f9d\u7136\u53ea\u662f\u7528\u4e8eGlance\u548cGlare\u9879\u76ee\u7684\u7279\u5b9a\u7528\u9014\u3002\uff08 https://docs.openstack.org/glance_store/latest/index.html \uff09","title":"Architecture of Glance service in OpenStack"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#glace","text":"","title":"Glace\u7ec4\u4ef6\u7684\u4ecb\u7ecd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#glance-api","text":"Glance-API\u4e3b\u8981\u63d0\u4f9b\u955c\u50cf\u7ba1\u7406\u7684\u529f\u80fd\uff0c\u6bd4\u5982Image\u7684\u5bfc\u5165\u548c\u5bfc\u51fa\uff0c\u955c\u50cf\u5143\u6570\u636e\u7684\u7ba1\u7406\u7b49\u3002\u76ee\u524dGlance-API\u4f7f\u7528\u7684v2\u7248\u672c\uff0c\u5728v2\u7248\u672c\u7684Glance-API\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u6574\u5408\u4e86glance-registry\u7684\u670d\u52a1\u529f\u80fd\u3002v1\u7248\u672c\u7684Glance-API\u5df2\u7ecf\u5728Newton\u7248\u672c\u4e2d\u5f03\u7528\u3002 Glance-API\u80fd\u591f\u4e3a\u955c\u50cf\u5efa\u7acb\u672c\u5730\u7f13\u5b58\uff0c\u5b9e\u73b0API\u670d\u52a1\u8282\u70b9\u6570\u91cf\u7684\u6269\u5c55\uff0c\u63d0\u4f9b\u591a\u4e2aAPI\u8282\u70b9\u4e3a\u4e00\u4e2aImage\u63d0\u4f9b\u670d\u52a1\u7684\u6a21\u5f0f\u4ee5\u63d0\u9ad8\u6548\u7387\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2aAPI\u8282\u70b9\u5219\u7f13\u5b58\u670d\u52a1\u6ca1\u6709\u610f\u4e49\u3002\u672c\u5730\u7684Image Cache\u662f\u5bf9Image\u6587\u4ef6\u7684\u5b8c\u6574\u590d\u5236\uff0c\u4f46\u662f\u5bf9\u7528\u6237\u6765\u8bf4\u8fd9\u662f\u5b8c\u5168\u900f\u660e\u7684\uff0c\u7528\u6237\u65e0\u9700\u5173\u5fc3Image\u7684\u5177\u4f53\u5b58\u653e\u4f4d\u7f6e\uff0c\u65e0\u8bbaImage\u662f\u5b58\u653e\u5728\u540e\u7aef\u5b58\u50a8\u8fd8\u662f\u672c\u5730\u5b58\u50a8\u7528\u6237\u90fd\u662f\u65e0\u611f\u77e5\u7684\u3002 Glance-API\u63a5\u6536\u7531GlanceClite\u53d1\u9001\u7684RESTful\u8bf7\u6c42\uff1bGlance-API\u4f1a\u5bfc\u5165Glance_Store\u9879\u76ee\u5e76\u521d\u59cb\u5316\u540e\u53f0\u7684\u5b58\u50a8\u7cfb\u7edf\u3002","title":"Glance-API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#image","text":"Image\u662fGlance\u6240\u7ba1\u7406\u7684\u4e3b\u8981\u8d44\u6e90\uff0c\u7c7b\u4f3c\u4e8eVM\u7684\u865a\u62df\u673a\u6a21\u677f\uff08template\uff09,\u5b83\u9884\u88c5\u4e86OS\u3002\u4eceImage\u542f\u52a8VM\uff0cVM\u88ab\u5220\u9664\u540eImage\u4e0d\u53d7\u5f71\u54cd\u4f9d\u7136\u5b58\u5728\u3002Image\u53ea\u662f\u4f5c\u4e3aVM\u7684\u542f\u52a8\u6a21\u677f\uff0cVM\u5b9e\u4f8b\u4e0a\u7684\u6539\u52a8\u5e76\u4e0d\u4f1a\u4f53\u73b0\u5728Image\u4e0a\u3002 \u955c\u50cf\u7684\u5143\u6570\u636e\u8d1f\u8d23\u7cbe\u786e\u5b8c\u6574\u7684\u63cf\u8ff0\u955c\u50cf\u7684\u4fe1\u606f\uff1b id\uff1aImage\u552f\u4e00\u7684UUID Name\uff1aimage \u540d\u5b57 owner:\u6240\u6709\u8005 size\uff1a\u5b57\u8282\u8868\u793a\u7684Image\u5927\u5c0f \u7b49---","title":"Image"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#glance-registry","text":"Glance-registry\u8d1f\u8d23\u5904\u7406\u4e0e\u955c\u50cf\u5143\u6570\u636e\u76f8\u5173\u7684\u8bf7\u6c42\uff0c\u5f53Glance-API\u63a5\u6536\u5230\u6765\u81eaGlanceClite\u7684RESTful\u6d88\u606f\u5305\u542b\u6709\u5173\u955c\u50cf\u5143\u6570\u636e\u7684\u8bf7\u6c42\u4fbf\u5c06\u6709\u5173\u955c\u50cf\u5143\u6570\u636e\u7684\u8bf7\u6c42\u6d88\u606f\u53d1\u9001\u7ed9Glance-registry\u3002\u7136\u540e\u6709Glance-registry\u8d1f\u8d23\u89e3\u6790\u8bf7\u6c42\u7684\u5185\u5bb9\uff0c\u5e76\u4e0eDB\u6570\u636e\u5e93\u8fdb\u884c\u4ea4\u4e92\uff0c\u5b58\u53d6\u6216\u8005\u66f4\u65b0\u955c\u50cf\u7684\u5143\u6570\u636e\uff08\u955c\u50cf\u5143\u6570\u636e\u6307\u7684\u662f\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u6709\u5173Image\u7684\u4e00\u4e9b\u6d88\u606f\uff09","title":"Glance-registry"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#db","text":"\u53ea\u8d1f\u8d23\u5b58\u50a8\u955c\u50cf\u7684\u5143\u6570\u636e","title":"DB"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/#glanceimage","text":"Glace-API\u63a5\u6536\u5230GlanceClite\u7684RESTful\u8bf7\u6c42\uff0c\u901a\u8fc7WSGI Route\u6a21\u5757\u8def\u7531\u5230\u5177\u4f53\u7684\u64cd\u4f5c\uff0c\u4e00\u822c\u4f1a\u5305\u542b\u4e24\u4e2a\u64cd\u4f5c\uff0c\u4e00\u4e2a\u662f\u8d1f\u8d23\u52a0\u8f7dGlance-Store\u5e76\u4e14\u521d\u59cb\u5316\u540e\u7aef\u5b58\u50a8\u5b8c\u6210\u5bf9\u955c\u50cf\u7684\u5b58\u53d6\u64cd\u4f5c\uff1b\u4e00\u4e2a\u662f\u9488\u5bf9Glance DB\u4e2d\u7684\u5143\u6570\u636e\u6267\u884c\u64cd\u4f5c","title":"Glance\u521b\u5efaImage"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/","text":"OpenStack-\u5206\u4eab\u7bc77-Swift \u00b6 \u4ec0\u4e48\u662fSwift \u00b6 https://wiki.openstack.org/wiki/Swift OpenStack\u7684Swift\u9879\u76ee\u6700\u521d\u6765\u81eaRackSpace Cloud File\u9879\u76ee\uff0c\u7531RackSpace\u4e8e2010\u5e74\u8d21\u732e\u7ed9OpenStack\uff1b\u540cNova\u4f5c\u4e3aOpenStack\u6700\u521d\u7684\u4e24\u4e2a\u9879\u76ee\u3002 Swift\u662fOpenStack\u4e2d\u7684\u5bf9\u8c61\u5b58\u50a8\u9879\u76ee\uff0cSwift\u4f5c\u4e3a\u5bf9\u8c61\u5b58\u50a8\u7684\u4e00\u79cd\u975e\u5e38\u9002\u5408\u5b58\u50a8\u9759\u6001\u6570\u636e\uff0c\u5c31\u662f\u90a3\u4e9b\u5728\u4e00\u5b9a\u65f6\u671f\u5185\u66f4\u65b0\u9891\u7387\u6bd4\u8f83\u4f4e\u7684\u6570\u636e\u3002\u6bd4\u5982\u865a\u62df\u673a\u7684\u955c\u50cf\uff0c\u591a\u5a92\u4f53\u6587\u4ef6\uff0c\u548c\u6570\u636e\u5907\u4efd\u7b49\u3002 Swift\u5e76\u4e0d\u9002\u5408\u7528\u4e8e\u5b58\u653e\u66f4\u65b0\u9891\u7387\u8f83\u4e3a\u9891\u7e41\u7684\u6570\u636e\uff0c\u5982\u679c\u8981\u5b58\u50a8\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\u7684\u6570\u636e\u4e00\u822c\u53ef\u4ee5\u9009\u7528Cinder\u8fdb\u884c\u5b58\u653e\u3002 Swift\u4f5c\u4e3a\u5bf9\u8c61\u5b58\u50a8\u7684\u4e00\u79cd\uff0c\u90a3\u4e48Swift\u8d1f\u8d23\u7ba1\u7406\u7684\u903b\u8f91\u5355\u5143\u4e3a\u5bf9\u8c61\uff08object\uff09\u3002\u4f20\u7edf\u7684\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\u6587\u4ef6\u5b58\u50a8\uff0c\u5728\u5bf9\u5b58\u50a8\u7684\u6587\u4ef6\u8fdb\u884c\u63cf\u8ff0\u65f6\u4e00\u822c\u91c7\u7528\u7684\u5143\u6570\u636e\u52a0\u6587\u4ef6\u672c\u8eab\u7684\u65b9\u5f0f\uff0c\u4e24\u8005\u4e00\u822c\u5206\u5f00\u5b58\u653e\u3002Swift\u91c7\u7528\u7684Object\u5bf9\u8c61\u5143\u6570\u636e\u548c\u5185\u5bb9\u4e00\u8d77\u5b58\u653e\u3002 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528Swift \u00b6 Swift\u80fd\u591f\u63d0\u4f9b\u6781\u9ad8\u7684\u6570\u636e\u6301\u4e45\u6027 Swift\u91c7\u7528\u5b8c\u5168\u5bf9\u79f0\u7684\u67b6\u6784\uff0c\u4f7f\u5f97Swift\u4e2d\u7684\u5404\u4e2a\u8282\u70b9\u53ef\u4ee5\u5b8c\u5168\u5bf9\u7b49\uff0c\u80fd\u591f\u6781\u5927\u7684\u964d\u4f4e\u6210\u672c Swift\u62e5\u6709\u65e0\u9650\u7684\u53ef\u6269\u5c55\u6027\uff1bSwift\u7684\u6027\u80fd\u80fd\u591f\u5b9e\u73b0\u7ebf\u6027\u63d0\u5347 Swift\u65e0\u5355\u70b9\u6545\u969c\uff1bSwift\u7684\u5143\u6570\u636e\u5b58\u50a8\u5b8c\u5168\u662f\u968f\u673a\u5206\u5e03\u7684\uff0c\u5e76\u4e14\u4e0e\u5bf9\u8c61\u6587\u4ef6\u5b58\u50a8\u4e00\u6837\uff0c\u5143\u6570\u636e\u4f1a\u5b58\u50a8\u591a\u4efd\uff0c\u6574\u4e2aSwift\u96c6\u7fa4\u4e2d\uff0c\u6ca1\u6709\u4e00\u4e2a\u89d2\u8272\u662f\u5355\u70b9\u7684\uff0c\u5e76\u4e14\u67b6\u6784\u548c\u8bbe\u8ba1\u4e0a\u4fdd\u8bc1\u65e0\u5355\u70b9\u4e1a\u52a1\u662f\u6709\u6548\u7684\u3002 \u7b80\u5355\uff1b\u53ef\u4f9d\u8d56 Swift\u6700\u4e3aOpenSatck\u9879\u76ee\u7684\u4e00\u90e8\u5206\u662f\u514d\u8d39\u4e14\u5f00\u6e90\u7684 Swift\u53ef\u4ee5\u7528\u4e8e\u72ec\u7acb\u7684\u5b58\u50a8\u7cfb\u7edf\u6216\u8005\u4e91\u8ba1\u7b97\u73af\u5883\u7684\u4e00\u90e8\u5206\uff08\u4e91\u8ba1\u7b97\u73af\u5883\u548c\u72ec\u7acb\u5b58\u50a8\u7cfb\u7edf\u5728\u4f7f\u7528\u8ba4\u8bc1\u670d\u52a1\u4e0a\u6709\u6240\u4e0d\u540c\uff09 Swift\u91c7\u7528\u591a\u526f\u672c\u673a\u5236\uff1b\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027 Swift\u7684\u4f53\u7cfb\u7ed3\u6784 \u00b6 https://www.swiftstack.com/docs/introduction/openstack_swift.html Swift\u5728\u67b6\u6784\u4e0a\u53ef\u4ee5\u5212\u5206\u4e3a\u4e24\u4e2a\u5c42\u6b21\uff0c\u4e00\u4e2a\u662fAccess Tier\u5373\u8bbf\u95ee\u5c42\uff1b\u4e00\u4e2a\u662fStorage Nodes\u5373\u5b58\u50a8\u5c42\u3002 -- https://www.swiftstack.com/docs/introduction/openstack_swift.html Access Tier \u00b6 \u8bbf\u95ee\u5c42\u5305\u542b\u4e24\u4e2a\u7ec4\u6210\u90e8\u5206\u4e00\u4e2a\u662fAuthenication\u8d1f\u8d23\u8ba4\u8bc1\uff0c\u4e00\u4e2a\u662fproxy node \u4ee3\u7406\u670d\u52a1\u8282\u70b9\u8d1f\u8d23RESTful\u7684\u8bf7\u6c42\u3002 Poxy\u4e0a\u8fd0\u884c\u6709Poxy Server\u7528\u4e8e\u5904\u7406\u7528\u6237\u7684RESTful\u8bf7\u6c42\u6d88\u606f\uff0c\u5f53Poxy\u63a5\u6536\u5230\u6765\u81ea\u7528\u6237\u7684RESTful\u8bf7\u6c42\u4ee5\u540e\u4f1a\u5c06\u8bf7\u6c42\u6d88\u606f\u4f20\u9012\u7ed9Authenication\u8fdb\u884c\u8ba4\u8bc1\u5904\u7406\u3002 \u53d1\u9001\u7ed9Swift\u7684\u8bf7\u6c42\u81f3\u5c11\u5305\u542b\u4e09\u4e2a\u7ec4\u6210\u90e8\u5206 \u200b -HTTP verb\uff08\u4f8b\u5982\uff1aget\uff08\u83b7\u53d6\uff09\uff0cDELL\uff08\u5220\u9664\uff09\uff1bPUT\uff08\u4e0a\u4f20\uff09\uff09 \u200b -Authenication \u4fe1\u606f \u200b -Storage URL\uff1a\u5b58\u50a8\u5730\u5740\u7684URL \u200b -Optional\uff08\u53ef\u9009\u9879\uff09\uff1a\u5199\u5165\u6570\u636e\u548c\u5143\u6570\u636e HTTP verb\uff1a\u63d0\u4f9b\u5177\u4f53\u7684\u8bf7\u6c42\u64cd\u4f5c\u3002\u4f8b\u5982\u5c06\u4e00\u4e2aobject\u5bf9\u8c61\u653e\u5165\u96c6\u7fa4\u4e2d\uff0c\u4ece\u96c6\u7fa4\u4e2d\u83b7\u53d6\u8d26\u6237\uff08\u7279\u522b\u6ce8\u610fSwift\u4e2d\u7684\u8d26\u6237\u4fe1\u606f\u6307\u7684\u5e76\u4e0d\u662f\u7528\u6237\u8d26\u6237\u800c\u662f\u5b58\u50a8\u7684\u533a\u57df\u4fe1\u606f\uff09\u4fe1\u606f\u3002 Swift\u4e2d\u5bf9\u8c61\u7684\u5b58\u50a8URL\u5982\u4e0b\u6240\u793a\uff1a https://swift.example.com/v1/account/container/object URL\u662f\u7531\u4e24\u90e8\u5206\u7ec4\u6210\u7684\uff1a 1.\u5b58\u50a8\u96c6\u7fa4\u7684\u4f4d\u7f6e\uff1aswift.example.com/v1 2.\u5b58\u50a8\u7684\u4f4d\u7f6e\uff1aaccount/container/object account\uff08\u8d26\u6237\uff09\uff1a \u00b6 \u8d26\u6237\u5b58\u50a8\u4f4d\u7f6e\u662f\u4e00\u4e2a\u552f\u4e00\u7684\u547d\u540d\u5b58\u50a8\u533a\u57df\uff0c\u5176\u4e2d\u5305\u542b\u8d26\u6237\u672c\u8eab\u7684\u5143\u6570\u636e\u4fe1\u606f\u548c\u8d26\u6237\u4e2d\u5bb9\u5668\u7684\u5217\u8868\u3002 /account/container(\u5bb9\u5668): \u00b6 \u5bb9\u5668\u5b58\u50a8\u4f4d\u7f6e\u4f7f\u8d26\u6237\u4e2d\u5b9a\u4e49\u7684\u5b58\u50a8\u533a\u57df\uff0c\u5b58\u50a8\u5bb9\u5668\u7684\u5143\u6570\u636e\u548c\u5bb9\u5668\u4e2d\u7684\u5bf9\u8c61\u5217\u8868 /account/container/object(\u5bf9\u8c61)\uff1a \u00b6 \u5bf9\u8c61\u5b58\u50a8\u4f4d\u7f6e\u8d1f\u8d23\u5b58\u653e\u6570\u636e\u5bf9\u8c61\u548c\u5bf9\u8c61\u7684\u5143\u6570\u636e\u4fe1\u606f Storage Nodes \u00b6 \u5b58\u50a8\u5c42\u662f\u7531\u4e00\u7cfb\u5217\u7684\u5b58\u50a8\u8282\u70b9\u7ec4\u6210\u7684\uff0c\u8d1f\u8d23\u5bf9\u8c61\u6570\u636e\u7684\u5b58\u50a8\u3002Proxy Node\u63a5\u6536\u5230\u6765\u81ea\u7528\u6237\u7684\u8bbf\u95ee\u8bf7\u6c42\u65f6\u4f1a\u5c06\u5176\u8f6c\u53d1\u5230\u76f8\u5e94\u7684\u5b58\u50a8\u8282\u70b9\u4e0a\u3002\u4e3a\u4e86\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u9760\u6027\uff0c\u5728\u7cfb\u7edf\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\u5c06\u6545\u969c\u9694\u79bb\u5728\u6700\u5c0f\u7684\u7269\u7406\u8303\u56f4\u4e4b\u5185\uff0c\u5b58\u50a8\u5c42\u5728\u7269\u7406\u4e0a\u53c8\u8fdb\u884c\u4e86\u4e00\u4e9b\u5212\u5206\u3002 \u200b Regina\uff1a\u5728\u5730\u7406\u4e0a\u9694\u7edd\u7684\u533a\u57df\uff0c\u4e0d\u540cRegina\u901a\u5e38\u6240\u5904\u7684\u5730\u7406\u4f4d\u7f6e\u76f8\u8ddd\u8f83\u8fdc \u200b Zone\uff1a\u5728\u6bcf\u4e2aRegina\u5185\u90e8\u8fdb\u4e00\u6b65\u8fdb\u884c\u5212\u5206\uff0c\u6bcf\u4e2aZone\u4e00\u822c\u4ee3\u8868\u4e00\u4e2a\u72ec\u7acb\u7684\u5b58\u50a8\u8282\u70b9\uff0c\u53ef\u4ee5\u662f\u4e00\u4e2a\u673a\u67dc\u3002 \u200b Storage Node\uff1a\u5b58\u50a8\u5bf9\u8c61\u7684\u7269\u7406\u8282\u70b9\uff0c\u901a\u5e38\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\u4e00\u4e2a\u7269\u7406\u7684\u5b58\u50a8\u670d\u52a1\u5668 \u200b Device\uff1a\u7b80\u5355\u7406\u89e3\u4e3a\u4e00\u4e2a\u78c1\u76d8\u5373\u53ef \u200b partition:\u5904\u5728Device\u4e0a\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u3002 Swift\u7684\u56db\u4e2a\u670d\u52a1\u5668\u8fdb\u7a0b\u5206\u522b\u662fProxy\uff0caccount\uff0ccontainer\u548cobject\uff0c\u5f53\u4e00\u4e2a\u8282\u70b9\u4e0a\u53ea\u6709\u4ee3\u7406\u8fdb\u7a0b\u8fd0\u884c\u65f6\uff0c\u6b64\u8282\u70b9\u79f0\u4e4b\u4e3a\u4ee3\u7406\u8282\u70b9\uff1b\u5f53\u4e00\u4e2a\u8282\u70b9\u4e0a\u8fd0\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u670d\u52a1\u8fdb\u7a0b\u65f6\uff08account\uff0ccontainer\uff0cobject\uff09\u65f6\uff0c\u8be5\u8282\u70b9\u901a\u5e38\u79f0\u4e4b\u4e3a\u5b58\u50a8\u8282\u70b9\u3002 Swift\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027 \u00b6 Storage Node\u4e0a\u5b58\u5728\u4e00\u4e2a\u4e09\u5c42\u7ed3\u6784 Account;Container;object.\u4e0e\u4e4b\u76f8\u5bf9\u5e94\u7684\u662fStorage Node\u4e0a\u8fd0\u884c\u7684\u4e09\u79cd\u670d\u52a1\u3002 Account Server\uff1a\u63d0\u4f9bAccount\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bContainer\u5217\u8868\u548caccount\u7684\u5143\u6570\u636e\u4fe1\u606f\u3002\u6570\u636e\u5b58\u653e\u5728SQLlite\u7684\u6570\u636e\u5e93\u4e2d\u3002 Container Server\uff1a\u63d0\u4f9bContainer\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bObject\u5217\u8868\u548cContainer\u7684\u5143\u6570\u636e\u4fe1\u606f\u3002\u6570\u636e\u5b58\u653e\u5728SQLlite\u7684\u6570\u636e\u5e93\u4e2d\u3002 Object Server\uff1a\u63d0\u4f9bObject\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bObject\u5bf9\u8c61\u548cObject\u7684\u5143\u6570\u636e\u3002 \u4e3a\u4f8b\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u9760\u6027\u907f\u514d\u5355\u8282\u70b9\u7684\u7269\u7406\u6545\u969c\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u635f\u574f\uff0cSwift\u4e3a\u6bcf\u4e2aObject\u5bf9\u8c61\u5efa\u7acb\u4e86\u4e00\u5b9a\u6570\u91cf\u7684\u526f\u672c\uff0c\u901a\u8fc7\u526f\u672c\u673a\u5236\u6765\u5b9e\u73b0\u6570\u636e\u7684\u53ef\u9760\u6027\u3002\u9ed8\u8ba4\u662f3\u526f\u672c\u3002\u5e76\u4e14\u6bcf\u4e2a\u526f\u672c\u5b58\u653e\u5728\u4e0d\u540c\u7684Zone\u4e2d\uff0c\u8fd9\u6837\u5373\u4f7f\u53d1\u751f\u67d0\u4e2aZone\u635f\u574f\uff0c\u90a3\u4e48\u4e5f\u80fd\u4f7f\u7528\u5176\u4ed6Zone\u4e0a\u7684\u6570\u636e\u63a5\u7eed\u63d0\u4f9b\u53ef\u6301\u7eed\u7684\u6570\u636e\u670d\u52a1\u3002 \u5728Swift\u4e2d\u6570\u636e\u7684\u526f\u672c\u662f\u4ee5partition\u4e3a\u5355\u4f4d\u8fdb\u884c\u5b58\u653e\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u8c61\u526f\u672c\u5b9e\u9645\u4e0a\u7531partition\u526f\u672c\u7ec4\u7ec7\u5728\u4e00\u8d77\u7528partition\u526f\u672c\u95f4\u63a5\u6765\u5b9e\u73b0Object\u526f\u672c\u7684\u3002 \u65e2\u7136Swift\u4f7f\u7528\u4e86\u4e09\u526f\u672c\u673a\u5236\uff0c\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u5c31\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\uff0c\u4e5f\u5c31\u662f\u8bf4\u6709\u4e00\u4e2a\u526f\u672c\u4ea7\u751f\u6570\u636e\u66f4\u65b0\u7684\u8bdd\uff0c\u5176\u4ed6\u526f\u672c\u4e5f\u8981\u8fdb\u884c\u66f4\u65b0\uff0c\u4f7f\u5f97\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u65f6\u523b\u4fdd\u6301\u4e00\u81f4\u3002 Swift\u4fdd\u6301\u6570\u636e\u4e00\u81f4\u6027\u7684\u670d\u52a1 \u00b6 Auditor\uff1a\u901a\u8fc7\u6301\u7eed\u626b\u63cf\u78c1\u76d8\u68c0\u67e5Account\uff1bContaine\u548cObject\u7684\u5b8c\u6574\u6027\uff0c\u5982\u679c\u53d1\u751f\u73b0\u6709\u6570\u636e\u635f\u574f\u90a3\u4e48Auditor\u5c31\u5bf9\u635f\u574f\u7684\u6570\u636e\u8fdb\u884c\u9694\u79bb\uff0c\u7136\u540e\u4f7f\u7528Replication\u4ece\u5176\u4ed6\u7684\u8282\u70b9\u4e0a\u83b7\u53d6\u5bf9\u5e94\u7684\u526f\u672c\u7528\u6765\u6062\u590d\u672c\u5730\u6570\u636e\u3002 Updater\uff1a\u5728\u521b\u5efa\u4e00\u4e2aContainer\u65f6\u5305\u542b\u8be5Container\u7684\u6570\u636e\u7684Account\u9700\u8981\u8fdb\u884c\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5c06\u66f4\u65b0\u6d88\u606f\u53d1\u9001\u5230SQLlite\u7684Account\u6570\u636e\u5e93\u4e2d\uff1b\u540c\u6837\u7684\u5728\u521b\u5efa\u4e00\u4e2aObject\u5bf9\u8c61\u662fContainer\u540c\u6837\u9700\u8981\u5c06\u66f4\u65b0\u6d88\u606f\u53d1\u9001\u5230SQLlite\u7684Container\u6570\u636e\u5e93\u4e2d\u3002\u4f46\u662f\u5047\u5982Account server\u548cContainer\u4e1a\u52a1\u7e41\u5fd9\uff0c\u5bfc\u81f4\u6570\u636e\u66f4\u65b0\u4e0d\u6210\u529f\uff0c\u6b64\u65f6\u5c31\u9700\u8981Updater\u7ee7\u7eed\u66f4\u65b0\u3002 Replication\uff1a\u8d1f\u8d23\u68c0\u6d4b\u5404\u4e2a\u8282\u70b9\u4e0a\u7684\u6570\u636e\u53ca\u526f\u672c\u662f\u5426\u4e00\u81f4\uff0c\u53d1\u73b0\u4e0d\u4e00\u81f4\u65f6\u5c06\u526f\u672c\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c\u3002 \u5b9e\u73b0\u5bf9\u8c61\u548c\u7269\u7406\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6620\u5c04--Ring \u00b6 Ring\u8bb0\u5f55\u4e86\u5b58\u50a8\u5bf9\u8c61\u548c\u7269\u7406\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0cAccount\uff1bContainer\uff1bObject\u90fd\u6709\u81ea\u5df1\u7684Ring.Proxy Server\u63a5\u6536\u5230\u7528\u6237\u7684\u8bf7\u6c42\u65f6\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u64cd\u4f5c\u5b9e\u4f53\uff08Account\uff1bContainer\uff1bObject\uff09\u5206\u522b\u627e\u5230\u5404\u81ea\u5bf9\u5e94\u7684Ring\uff0c\u6765\u786e\u5b9a\u4ed6\u4eec\u5728\u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3002\u800cAccount\uff1bContainer\uff1bObject\u5728Ring\u4e2d\u7684\u4f4d\u7f6e\u4e5f\u662f\u4ea4\u7ed9Proxy Server\u8fdb\u884c\u7ef4\u62a4\u7684\u3002 Ring\u901a\u8fc7Zone\uff0cDevice\uff0cPartition\u548cReplica\u7684\u6982\u5ff5\u6765\u7ef4\u62a4\u6620\u5c04\u4fe1\u606f\u3002\u6bcf\u4e2aPartition\u7684\u4f4d\u7f6e\u5173\u7cfb\u6709Ring\u6765\u8fdb\u884c\u7ef4\u62a4\u3002 \u5f15\u5165Ring\u4e4b\u540eSwift logic Architectural \u00b6 Swift\u901a\u8fc7Ring\u6765\u5b9e\u73b0\u5bf9\u7269\u7406\u8282\u70b9\u7684\u7ba1\u7406\uff0c\u5305\u62ec\u8bb0\u5f55\u5bf9\u8c61\u4e0e\u7269\u7406\u5b58\u50a8\u4f4d\u7f6e\u7684\u6620\u5c04\uff0c\u7269\u7406\u8282\u70b9\u7684\u6dfb\u52a0\u548c\u5220\u9664\u7b49\u3002 \u57fa\u672c\u539f\u7406\uff1a\u4e00\u81f4\u6027\u6563\u5217\uff08Consisten Hashing\uff09 \u00b6 \u9762\u5bf9\u6d77\u91cf\u7ea7\u522b\u7684\u5bf9\u8c61\uff0c\u9700\u8981\u5b58\u653e\u5728\u6210\u5343\u4e0a\u4e07\u53f0\u670d\u52a1\u5668\u548c\u786c\u76d8\u8bbe\u5907\u4e0a\uff0c\u9996\u5148\u8981\u89e3\u51b3\u5bfb\u5740\u95ee\u9898\uff0c\u5982\u4f55\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u5206\u4e0d\u5230\u8fd9\u4e9b\u8bbe\u5907\u7684\u5730\u5740\u4e0a\u3002Swift\u662f\u57fa\u4e8e\u4e00\u81f4\u6027\u6563\u5217\u6280\u672f\uff0c\u901a\u8fc7\u8ba1\u7b97\u53ef\u4ee5\u5c06\u5bf9\u8c61\u5747\u5300\u7684\u5206\u5e03\u5728\u865a\u62df\u7a7a\u95f4\u7684\u865a\u62df\u8282\u70b9\u4e0a\uff0c\u5728\u589e\u52a0\u6216\u8005\u5220\u9664\u8282\u70b9\u662f\u53ef\u5927\u5927\u51cf\u5c11\u79fb\u52a8\u7684\u6570\u636e\u91cf\uff1b\u865a\u62df\u7a7a\u95f4\u5927\u5c0f\u901a\u5e38\u91c7\u75282\u7684n\u6b21\u5e42\uff0c\u4fbf\u4e8e\u8fdb\u884c\u9ad8\u6548\u7684\u79fb\u4f4d\u64cd\u4f5c\uff0c\u7136\u540e\u901a\u8fc7\u72ec\u7279\u7684\u6570\u636e\u7ed3\u6784Ring\u518d\u5c06\u865a\u62df\u8282\u70b9\u6620\u5c04\u5230\u5b9e\u9645\u7684\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u4e0a\uff0c\u5b8c\u6210\u5bfb\u5740\u8fc7\u7a0b\u3002 \u901a\u5e38\u6211\u4eec\u4f7f\u7528Hash\u7b97\u6cd5\uff0c\u9996\u5148\u8ba1\u7b97\u51fa\u5bf9\u8c61\u7684Hash\u503cKey\uff0c\u7136\u540e\u5c06key\u8fdb\u884c\u53d6\u6a21\uff08key%N N\u4ee3\u8868\u7684\u662fpartition\u7684\u4e2a\u6570\uff09\u4e5f\u505akey mod N\uff1b\u8ba1\u7b97\u5b8c\u6210\u540e\u5f97\u5230\u7684\u4f59\u6570\u7684\u7ed3\u679c\u4fbf\u662f\u6570\u636e\u5b58\u653e\u7684\u8282\u70b9\u3002\u6bd4\u5982N\u7b49\u4e8e3\uff1b\u4e14\u7ecf\u8fc7\u8ba1\u7b97\u51fa\u6765\u7684\uff0ckey\u503c\u5206\u522b\u4e3a0,1,2,3,4,5,6\u5bf9N\u8fdb\u884c\u53d6\u6a21\u5f97\u5230\u7684\u7ed3\u679c\u5206\u522b\u4e3a0,1,2,0,1,2.,0\u4e5f\u5c31\u662f\u5c06Object\u5206\u522b\u5b58\u653e\u57280,1,2,1,2,0\u8282\u70b9\u4e0a\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u5f53\u4e2d\u6bcf\u4e2aStorage Node\u4e0a\u90fd\u5b58\u653e\u4e86\u4e24\u4e2aObject\u3002\u5982\u679cHash\u7b97\u6cd5\u662f\u5e73\u5747\uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4f1a\u5b58\u653e\u57283\u4e2a\u8282\u70b9\u5f53\u4e2d\u3002\u5982\u679c\u6bcf\u4e2a\u6570\u636e\u7684\u8bbf\u95ee\u91cf\u6bd4\u8f83\u5e73\u5747\u90a3\u4e48\u6570\u636e\u7684\u8d1f\u8f7d\u5c06\u4f1a\u6bd4\u8f83\u5e73\u5747\u3002 \u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u7531\u4e8e\u6570\u636e\u7684\u8bbf\u95ee\u91cf\u548c\u4f7f\u7528\u91cf\u8fdb\u4e00\u6b65\u589e\u52a0\u5c31\u9700\u8981\u9488\u5bf9\u8282\u70b9\u8fdb\u884c\u6269\u5bb9\uff0c\u4ee5\u589e\u5f3a\u6570\u636e\u7684\u8bbf\u95ee\u8bf7\u6c42\u3002 \u5982\u679c\u6211\u4eec\u5c06\u8282\u70b9\u589e\u52a0\u52304\u4e2a\uff0c\u90a3\u4e48\u6b64\u65f6N\u4e3a4;\u6267\u884c\u4e3akey mod N\u7684\u64cd\u4f5c\u5f97\u51fa\u7684\u7ed3\u679c\u4e3a0,1,2,3,1,1,2\u8ddf\u4e0a\u9762\u7684N\u4e3a3\u65f6\u8ba1\u7b97\u7ed3\u679c\u8fdb\u884c\u5bf9\u6bd4\u3002\u5f97\u51faHash\u503c\u4e3a3,4,5,6\u7684Object\u9700\u8981\u8fdb\u884c\u91cd\u65b0\u5206\u914d\uff0c\u5982\u679c\u5b58\u50a8\u8282\u70b9\u7684\u6570\u91cf\u4ee5\u53ca\u5b58\u50a8\u8282\u70b9\u4e0a\u7684\u6570\u636e\u5f88\u5927\u65f6\u8fc1\u79fb\u7684\u6210\u672c\u5c31\u4f1a\u5f88\u9ad8\u3002\u4e3a\u4e86\u51cf\u5c11\u8282\u70b9\u589e\u51cf\u6240\u5e26\u6765\u7684\u6210\u672c\uff0cSwift\u4f7f\u7528\u7684\u662f\u4e00\u81f4\u6027Hash\u7b97\u6cd5\uff0c\u5728\u5b58\u50a8\u8282\u70b9\u6570\u91cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7ecf\u5386\u800c\u4e3a\u7684\u51cf\u5c11\u5df2\u7ecf\u5b58\u5728\u7684\u5bf9\u8c61\u548c\u8282\u70b9\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002 key N\u4e3a3 N\u4e3a4 0 0 0 1 1 1 2 2 2 3 0 3 4 1 0 5 2 1 6 0 2 \u4e00\u81f4\u6027Hash\u7684\u8fc7\u7a0b\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4 \u00b6 \u8ba1\u7b97\u6bcf\u4e2a\u5bf9\u8c61\u7684Hash\u503c\u5e76\u4e14\u5c06\u4ed6\u4eec\u5747\u5300\u7684\u5206\u5e03\u5230\u4e00\u4e2a\u865a\u62df\u7a7a\u95f4\u4e0a\u53bb\uff0c\u4e00\u822c\u75282^32\u6807\u8bc6\u8be5\u865a\u62df\u7a7a\u95f4\u3002 \u5047\u8bbe\u67092 m\u4e2a\u5b58\u50a8\u8282\u70b9\uff0c\u90a3\u4e48\u5c06\u865a\u62df\u7a7a\u95f4\u5747\u5300\u7684\u5206\u62102 m\u7b49\u4efd\uff0c\u6bcf\u4efd\u957f\u5ea6\u4e3a2^(32-m) \u5047\u8bbe\u4e00\u4e2a\u5bf9\u8c61\u540d\u79f0Hash\u503ckey\u4e3an\uff1b\u90a3\u4e48\u8be5\u5bf9\u8c61\u5bf9\u5e94\u7684\u5b58\u50a8\u8282\u70b9\u4e3a n/2^(32-m);\u8f6c\u6362\u4e3a\u4e8c\u8fdb\u5236\u79fb\u4f4d\u64cd\u4f5c\u5c31\u662f\u8bb2Hash\u4e4b\u540e\u7684\u7ed3\u679c\u53f3\u79fb32-m\u4f4d\u3002 \u4ee5m = 3\u4e3a\u4f8b\uff0c\u63cf\u8ff0\u4e00\u4e0b\u5177\u4f53\u8fc7\u7a0b\u3002 \u5b58\u50a8\u8282\u70b9\u7684\u4e2a\u6570\u4e3a2^m \u4e3a8\u4e2a\u865a\u62df\u5b58\u50a8\u8282\u70b9\u3002 \u6570\u636e\u4e00\u81f4\u6027\u6a21\u578b\uff08Consistency Modle\uff09 \u00b6 \u6309\u7167Rric Brewer\u7684CAP\uff08Consistency\uff0cAvailability\uff0cPartition Tolerance\uff09\u7406\u8bba\uff0c\u65e0\u6cd5\u540c\u65f6\u6ee1\u8db3\u4e09\u4e2a\u65b9\u9762\uff0cSwift\u653e\u5f03\u4e25\u683c\u4e00\u81f4\u6027\uff08\u6ee1\u8db3ACID\u4e8b\u52a1\u7ea7\u522b\uff09\uff0c\u800c\u91c7\u7528\u6700\u7ec8\u4e00\u81f4\u6027\u6a21\u578b\uff08Eventual Consistency\uff09\uff0c\u6765\u8fbe\u5230\u9ad8\u53ef\u7528\u6027\u548c\u65e0\u7ebf\u6c34\u5e73\u6269\u5c55\u80fd\u529b\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u4e2a\u76ee\u6807\uff0cSwift\u91c7\u7528Quorum\u4ef2\u88c1\u534f\u8bae\uff08Quorum\u6709\u6cd5\u5b9a\u6295\u7968\u4eba\u6570\u7684\u542b\u4e49\uff09 \uff081\uff09\u5b9a\u4e49\uff1aN\uff1a\u6570\u636e\u7684\u526f\u672c\u603b\u6570\uff1bW\uff1a\u5199\u64cd\u4f5c\u88ab\u786e\u8ba4\u63a5\u53d7\u7684\u526f\u672c\u6570\u91cf\uff1bR\uff1a\u8bfb\u64cd\u4f5c\u7684\u526f\u672c\u6570\u91cf \uff082\uff09\u5f3a\u4e00\u81f4\u6027\uff1aR+W>N\uff0c\u4ee5\u4fdd\u8bc1\u5bf9\u526f\u672c\u7684\u8bfb\u5199\u64cd\u4f5c\u4f1a\u4ea7\u751f\u4ea4\u96c6\uff0c\u4ece\u800c\u4fdd\u8bc1\u53ef\u4ee5\u8bfb\u53d6\u5230\u6700\u65b0\u7248\u672c\uff1b\u5982\u679c W=N\uff0cR=1\uff0c\u5219\u9700\u8981\u5168\u90e8\u66f4\u65b0\uff0c\u9002\u5408\u5927\u91cf\u8bfb\u5c11\u91cf\u5199\u64cd\u4f5c\u573a\u666f\u4e0b\u7684\u5f3a\u4e00\u81f4\u6027\uff1b\u5982\u679c R=N\uff0cW=1\uff0c\u5219\u53ea\u66f4\u65b0\u4e00\u4e2a\u526f\u672c\uff0c\u901a\u8fc7\u8bfb\u53d6\u5168\u90e8\u526f\u672c\u6765\u5f97\u5230\u6700\u65b0\u7248\u672c\uff0c\u9002\u5408\u5927\u91cf\u5199\u5c11\u91cf\u8bfb\u573a\u666f\u4e0b\u7684\u5f3a\u4e00\u81f4\u6027\u3002 \uff083\uff09\u5f31\u4e00\u81f4\u6027\uff1aR+W<=N\uff0c\u5982\u679c\u8bfb\u5199\u64cd\u4f5c\u7684\u526f\u672c\u96c6\u5408\u4e0d\u4ea7\u751f\u4ea4\u96c6\uff0c\u5c31\u53ef\u80fd\u4f1a\u8bfb\u5230\u810f\u6570\u636e\uff1b\u9002\u5408\u5bf9\u4e00\u81f4\u6027\u8981\u6c42\u6bd4\u8f83\u4f4e\u7684\u573a\u666f\u3002 Swift \u9488\u5bf9\u7684\u662f\u8bfb\u5199\u90fd\u6bd4\u8f83\u9891\u7e41\u7684\u573a\u666f\uff0c\u6240\u4ee5\u91c7\u7528\u4e86\u6bd4\u8f83\u6298\u4e2d\u7684\u7b56\u7565\uff0c\u5373\u5199\u64cd\u4f5c\u9700\u8981\u6ee1\u8db3\u81f3\u5c11\u4e00\u534a\u4ee5\u4e0a\u6210\u529f W >N/2\uff0c\u518d\u4fdd\u8bc1\u8bfb\u64cd\u4f5c\u4e0e\u5199\u64cd\u4f5c\u7684\u526f\u672c\u96c6\u5408\u81f3\u5c11\u4ea7\u751f\u4e00\u4e2a\u4ea4\u96c6\uff0c\u5373 R+W>N\u3002Swift \u9ed8\u8ba4\u914d\u7f6e\u662f N=3\uff0cW=2>N/2\uff0cR=1 \u6216 2\uff0c\u5373\u6bcf\u4e2a\u5bf9\u8c61\u4f1a\u5b58\u5728 3 \u4e2a\u526f\u672c\uff0c\u8fd9\u4e9b\u526f\u672c\u4f1a\u5c3d\u91cf\u88ab\u5b58\u50a8\u5728\u4e0d\u540c\u533a\u57df\u7684\u8282\u70b9\u4e0a\uff1bW=2 \u8868\u793a\u81f3\u5c11\u9700\u8981\u66f4\u65b0 2 \u4e2a\u526f\u672c\u624d\u7b97\u5199\u6210\u529f\uff1b\u5f53 R=1 \u65f6\u610f\u5473\u7740\u67d0\u4e00\u4e2a\u8bfb\u64cd\u4f5c\u6210\u529f\u4fbf\u7acb\u523b\u8fd4\u56de\uff0c\u6b64\u79cd\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u8bfb\u53d6\u5230\u65e7\u7248\u672c\uff08\u5f31\u4e00\u81f4\u6027\u6a21\u578b\uff09\uff1b\u5f53 R=2 \u65f6\uff0c\u9700\u8981\u901a\u8fc7\u5728\u8bfb\u64cd\u4f5c\u8bf7\u6c42\u5934\u4e2d\u589e\u52a0 x-newest=true \u53c2\u6570\u6765\u540c\u65f6\u8bfb\u53d6 2 \u4e2a\u526f\u672c\u7684\u5143\u6570\u636e\u4fe1\u606f\uff0c\u7136\u540e\u6bd4\u8f83\u65f6\u95f4\u6233\u6765\u786e\u5b9a\u54ea\u4e2a\u662f\u6700\u65b0\u7248\u672c\uff08\u5f3a\u4e00\u81f4\u6027\u6a21\u578b\uff09\uff1b\u5982\u679c\u6570\u636e\u51fa\u73b0\u4e86\u4e0d\u4e00\u81f4\uff0c\u540e\u53f0\u670d\u52a1\u8fdb\u7a0b\u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u7a97\u53e3\u5185\u901a\u8fc7\u68c0\u6d4b\u548c\u590d\u5236\u534f\u8bae\u6765\u5b8c\u6210\u6570\u636e\u540c\u6b65\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fbe\u5230\u6700\u7ec8\u4e00\u81f4\u6027\u3002\u5982\u56fe \u6240\u793a\uff1a Ring\u7684\u6570\u636e\u7ed3\u6784 \u00b6 \u73af\u662f\u4e3a\u4e86\u5c06\u865a\u62df\u8282\u70b9\uff08\u5206\u533a\uff09\u6620\u5c04\u5230\u4e00\u7ec4\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u4e0a\uff0c\u5e76\u63d0\u4f9b\u4e00\u5b9a\u7684\u5197\u4f59\u5ea6\u800c\u8bbe\u8ba1\u7684\uff0c\u5176\u6570\u636e\u7ed3\u6784\u7531\u4ee5\u4e0b\u4fe1\u606f\u7ec4\u6210\uff1a \u5b58\u50a8\u8bbe\u5907\u5217\u8868\u3001\u8bbe\u5907\u4fe1\u606f\u5305\u62ec\u552f\u4e00\u6807\u8bc6\u53f7\uff08id\uff09\u3001\u533a\u57df\u53f7\uff08zone\uff09\u3001\u6743\u91cd\uff08weight\uff09\u3001IP \u5730\u5740\uff08ip\uff09\u3001\u7aef\u53e3\uff08port\uff09\u3001\u8bbe\u5907\u540d\u79f0\uff08device\uff09\u3001\u5143\u6570\u636e\uff08meta\uff09\u3002 \u5206\u533a\u5230\u8bbe\u5907\u6620\u5c04\u5173\u7cfb\uff08replica2part2dev_id \u6570\u7ec4) \u8ba1\u7b97\u5206\u533a\u53f7\u7684\u4f4d\u79fb(part_shift \u6574\u6570\uff0c\u5373\u56fe 1 \u4e2d\u7684 m) \u4ee5\u67e5\u627e\u4e00\u4e2a\u5bf9\u8c61\u7684\u8ba1\u7b97\u8fc7\u7a0b\u4e3a\u4f8b\uff1a \u4f7f\u7528\u5bf9\u8c61\u7684\u5c42\u6b21\u7ed3\u6784 account/container/object \u4f5c\u4e3a\u952e\uff0c\u4f7f\u7528 MD5 \u6563\u5217\u7b97\u6cd5\u5f97\u5230\u4e00\u4e2a\u6563\u5217\u503c\uff0c\u5bf9\u8be5\u6563\u5217\u503c\u7684\u524d 4 \u4e2a\u5b57\u8282\u8fdb\u884c\u53f3\u79fb\u64cd\u4f5c\u5f97\u5230\u5206\u533a\u7d22\u5f15\u53f7\uff0c\u79fb\u52a8\u4f4d\u6570\u7531\u4e0a\u9762\u7684 part_shift \u8bbe\u7f6e\u6307\u5b9a\uff1b\u6309\u7167\u5206\u533a\u7d22\u5f15\u53f7\u5728\u5206\u533a\u5230\u8bbe\u5907\u6620\u5c04\u8868\uff08replica2part2dev_id\uff09\u91cc\u67e5\u627e\u8be5\u5bf9\u8c61\u6240\u5728\u5206\u533a\u7684\u5bf9\u5e94\u7684\u6240\u6709\u8bbe\u5907\u7f16\u53f7\uff0c\u8fd9\u4e9b\u8bbe\u5907\u4f1a\u88ab\u5c3d\u91cf\u9009\u62e9\u90e8\u7f72\u5728\u4e0d\u540c\u533a\u57df\uff08Zone\uff09\u5185\uff0c\u533a\u57df\u53ea\u662f\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u5b83\u53ef\u4ee5\u662f\u67d0\u53f0\u673a\u5668\uff0c\u67d0\u4e2a\u673a\u67b6\uff0c\u751a\u81f3\u67d0\u4e2a\u5efa\u7b51\u5185\u7684\u673a\u7fa4\uff0c\u4ee5\u63d0\u4f9b\u6700\u9ad8\u7ea7\u522b\u7684\u5197\u4f59\u6027\uff0c\u5efa\u8bae\u81f3\u5c11\u90e8\u7f72 5 \u4e2a\u533a\u57df\uff1b\u6743\u91cd\u53c2\u6570\u662f\u4e2a\u76f8\u5bf9\u503c\uff0c\u53ef\u4ee5\u6765\u6839\u636e\u78c1\u76d8\u7684\u5927\u5c0f\u6765\u8c03\u8282\uff0c\u6743\u91cd\u8d8a\u5927\u8868\u793a\u53ef\u5206\u914d\u7684\u7a7a\u95f4\u8d8a\u591a\uff0c\u53ef\u90e8\u7f72\u66f4\u591a\u7684\u5206\u533a\u3002 Swift \u4e3a\u8d26\u6237\uff0c\u5bb9\u5668\u548c\u5bf9\u8c61\u5206\u522b\u5b9a\u4e49\u4e86\u7684\u73af\uff0c\u67e5\u627e\u8d26\u6237\u548c\u5bb9\u5668\u7684\u662f\u540c\u6837\u7684\u8fc7\u7a0b\u3002 Swift\u7ec4\u4ef6 \u00b6 Swift API \u00b6 Swift\u901a\u8fc7RESTful API\u7684\u5f62\u5f0f\u4e3a\u81ea\u5df1\u63d0\u4f9b\u81ea\u5df1\u7684API\uff0cProxy Server \u627f\u62c5\u4e86\u7c7b\u4f3cNova-API\u7684\u529f\u80fd\uff0c\u8d1f\u8d23\u63a5\u6536\u6765\u81ea\u7528\u6237\u7684HTTP\u8bf7\u6c42\u3002 Swift API\u63d0\u4f9b\u4e86\u5305\u62ec\u5b58\u50a8\u5bf9\u8c61\uff0c\u538b\u7f29\u5bf9\u8c61\uff0c\u5220\u9664\u5bf9\u8c61\u5728\u5185\u7684\u4e00\u7cfb\u5217\u64cd\u4f5c Swift\u7684\u8ba4\u8bc1\u7ec4\u4ef6 \u00b6 Swift\u4e2d\u652f\u6301\u5185\u90e8\u548c\u5916\u90e8\u4e24\u79cd\u7c7b\u578b\u7684\u8ba4\u8bc1\u7cfb\u7edf\u3002\u4e00\u822c\u6765\u8bf4\u5916\u90e8\u7684\u8ba4\u8bc1\u8bf7\u6c42\u65f6\u53ea\u60f3KeyStone\u670d\u52a1\u8fdb\u884c\u8ba4\u8bc1\u7684\uff0c\u5185\u90e8\u7684\u5219\u662f\u7531Swift\u7684WSGI\u4e2d\u95f4\u4ef6Tempauth\u6765\u8fdb\u884c\u8ba4\u8bc1\u7528\u6237\u3002\u65e0\u8bba\u91c7\u7528\u4ec0\u4e48\u65b9\u5f0f\u7684\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u7528\u6237\u90fd\u8981\u63d0\u4ea4\u81ea\u5df1\u7684credentials\uff08\u8bc1\u4e66\u662f\uff09\u7ed9\u5230\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u8ba4\u8bc1\u7cfb\u7edf\u4f1a\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2a\u6587\u672c\u5f62\u5f0f\u7684token\uff0ctoken\u5177\u6709\u4e00\u5b9a\u7684\u65f6\u6548\u6027\uff0ctoken\u7684\u8ba4\u8bc1\u7ed3\u679c\u4f1a\u88ab\u7f13\u5b58\uff0c\u7528\u6237\u53ef\u4ee5\u5728token\u672a\u8fc7\u671f\u7684\u65f6\u95f4\u5185\u901a\u8fc7\u8bf7\u6c42\u4e2d\u6307\u5b9atoken\u6765\u8bbf\u95eeSwift\u670d\u52a1\u3002 ----\u53c2\u8003\u5185\u5bb9\uff1a https://wiki.openstack.org/wiki/Swift https://www.swiftstack.com/docs/introduction/openstack_swift.html https://www.ibm.com/developerworks/cn/cloud/library/1310_zhanghua_openstackswift/","title":"OpenStack  \u5206\u4eab\u7bc77 Swift"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#openstack-7-swift","text":"","title":"OpenStack-\u5206\u4eab\u7bc77-Swift"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift","text":"https://wiki.openstack.org/wiki/Swift OpenStack\u7684Swift\u9879\u76ee\u6700\u521d\u6765\u81eaRackSpace Cloud File\u9879\u76ee\uff0c\u7531RackSpace\u4e8e2010\u5e74\u8d21\u732e\u7ed9OpenStack\uff1b\u540cNova\u4f5c\u4e3aOpenStack\u6700\u521d\u7684\u4e24\u4e2a\u9879\u76ee\u3002 Swift\u662fOpenStack\u4e2d\u7684\u5bf9\u8c61\u5b58\u50a8\u9879\u76ee\uff0cSwift\u4f5c\u4e3a\u5bf9\u8c61\u5b58\u50a8\u7684\u4e00\u79cd\u975e\u5e38\u9002\u5408\u5b58\u50a8\u9759\u6001\u6570\u636e\uff0c\u5c31\u662f\u90a3\u4e9b\u5728\u4e00\u5b9a\u65f6\u671f\u5185\u66f4\u65b0\u9891\u7387\u6bd4\u8f83\u4f4e\u7684\u6570\u636e\u3002\u6bd4\u5982\u865a\u62df\u673a\u7684\u955c\u50cf\uff0c\u591a\u5a92\u4f53\u6587\u4ef6\uff0c\u548c\u6570\u636e\u5907\u4efd\u7b49\u3002 Swift\u5e76\u4e0d\u9002\u5408\u7528\u4e8e\u5b58\u653e\u66f4\u65b0\u9891\u7387\u8f83\u4e3a\u9891\u7e41\u7684\u6570\u636e\uff0c\u5982\u679c\u8981\u5b58\u50a8\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\u7684\u6570\u636e\u4e00\u822c\u53ef\u4ee5\u9009\u7528Cinder\u8fdb\u884c\u5b58\u653e\u3002 Swift\u4f5c\u4e3a\u5bf9\u8c61\u5b58\u50a8\u7684\u4e00\u79cd\uff0c\u90a3\u4e48Swift\u8d1f\u8d23\u7ba1\u7406\u7684\u903b\u8f91\u5355\u5143\u4e3a\u5bf9\u8c61\uff08object\uff09\u3002\u4f20\u7edf\u7684\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\u6587\u4ef6\u5b58\u50a8\uff0c\u5728\u5bf9\u5b58\u50a8\u7684\u6587\u4ef6\u8fdb\u884c\u63cf\u8ff0\u65f6\u4e00\u822c\u91c7\u7528\u7684\u5143\u6570\u636e\u52a0\u6587\u4ef6\u672c\u8eab\u7684\u65b9\u5f0f\uff0c\u4e24\u8005\u4e00\u822c\u5206\u5f00\u5b58\u653e\u3002Swift\u91c7\u7528\u7684Object\u5bf9\u8c61\u5143\u6570\u636e\u548c\u5185\u5bb9\u4e00\u8d77\u5b58\u653e\u3002","title":"\u4ec0\u4e48\u662fSwift"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_1","text":"Swift\u80fd\u591f\u63d0\u4f9b\u6781\u9ad8\u7684\u6570\u636e\u6301\u4e45\u6027 Swift\u91c7\u7528\u5b8c\u5168\u5bf9\u79f0\u7684\u67b6\u6784\uff0c\u4f7f\u5f97Swift\u4e2d\u7684\u5404\u4e2a\u8282\u70b9\u53ef\u4ee5\u5b8c\u5168\u5bf9\u7b49\uff0c\u80fd\u591f\u6781\u5927\u7684\u964d\u4f4e\u6210\u672c Swift\u62e5\u6709\u65e0\u9650\u7684\u53ef\u6269\u5c55\u6027\uff1bSwift\u7684\u6027\u80fd\u80fd\u591f\u5b9e\u73b0\u7ebf\u6027\u63d0\u5347 Swift\u65e0\u5355\u70b9\u6545\u969c\uff1bSwift\u7684\u5143\u6570\u636e\u5b58\u50a8\u5b8c\u5168\u662f\u968f\u673a\u5206\u5e03\u7684\uff0c\u5e76\u4e14\u4e0e\u5bf9\u8c61\u6587\u4ef6\u5b58\u50a8\u4e00\u6837\uff0c\u5143\u6570\u636e\u4f1a\u5b58\u50a8\u591a\u4efd\uff0c\u6574\u4e2aSwift\u96c6\u7fa4\u4e2d\uff0c\u6ca1\u6709\u4e00\u4e2a\u89d2\u8272\u662f\u5355\u70b9\u7684\uff0c\u5e76\u4e14\u67b6\u6784\u548c\u8bbe\u8ba1\u4e0a\u4fdd\u8bc1\u65e0\u5355\u70b9\u4e1a\u52a1\u662f\u6709\u6548\u7684\u3002 \u7b80\u5355\uff1b\u53ef\u4f9d\u8d56 Swift\u6700\u4e3aOpenSatck\u9879\u76ee\u7684\u4e00\u90e8\u5206\u662f\u514d\u8d39\u4e14\u5f00\u6e90\u7684 Swift\u53ef\u4ee5\u7528\u4e8e\u72ec\u7acb\u7684\u5b58\u50a8\u7cfb\u7edf\u6216\u8005\u4e91\u8ba1\u7b97\u73af\u5883\u7684\u4e00\u90e8\u5206\uff08\u4e91\u8ba1\u7b97\u73af\u5883\u548c\u72ec\u7acb\u5b58\u50a8\u7cfb\u7edf\u5728\u4f7f\u7528\u8ba4\u8bc1\u670d\u52a1\u4e0a\u6709\u6240\u4e0d\u540c\uff09 Swift\u91c7\u7528\u591a\u526f\u672c\u673a\u5236\uff1b\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u6027","title":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528Swift"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_2","text":"https://www.swiftstack.com/docs/introduction/openstack_swift.html Swift\u5728\u67b6\u6784\u4e0a\u53ef\u4ee5\u5212\u5206\u4e3a\u4e24\u4e2a\u5c42\u6b21\uff0c\u4e00\u4e2a\u662fAccess Tier\u5373\u8bbf\u95ee\u5c42\uff1b\u4e00\u4e2a\u662fStorage Nodes\u5373\u5b58\u50a8\u5c42\u3002 -- https://www.swiftstack.com/docs/introduction/openstack_swift.html","title":"Swift\u7684\u4f53\u7cfb\u7ed3\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#access-tier","text":"\u8bbf\u95ee\u5c42\u5305\u542b\u4e24\u4e2a\u7ec4\u6210\u90e8\u5206\u4e00\u4e2a\u662fAuthenication\u8d1f\u8d23\u8ba4\u8bc1\uff0c\u4e00\u4e2a\u662fproxy node \u4ee3\u7406\u670d\u52a1\u8282\u70b9\u8d1f\u8d23RESTful\u7684\u8bf7\u6c42\u3002 Poxy\u4e0a\u8fd0\u884c\u6709Poxy Server\u7528\u4e8e\u5904\u7406\u7528\u6237\u7684RESTful\u8bf7\u6c42\u6d88\u606f\uff0c\u5f53Poxy\u63a5\u6536\u5230\u6765\u81ea\u7528\u6237\u7684RESTful\u8bf7\u6c42\u4ee5\u540e\u4f1a\u5c06\u8bf7\u6c42\u6d88\u606f\u4f20\u9012\u7ed9Authenication\u8fdb\u884c\u8ba4\u8bc1\u5904\u7406\u3002 \u53d1\u9001\u7ed9Swift\u7684\u8bf7\u6c42\u81f3\u5c11\u5305\u542b\u4e09\u4e2a\u7ec4\u6210\u90e8\u5206 \u200b -HTTP verb\uff08\u4f8b\u5982\uff1aget\uff08\u83b7\u53d6\uff09\uff0cDELL\uff08\u5220\u9664\uff09\uff1bPUT\uff08\u4e0a\u4f20\uff09\uff09 \u200b -Authenication \u4fe1\u606f \u200b -Storage URL\uff1a\u5b58\u50a8\u5730\u5740\u7684URL \u200b -Optional\uff08\u53ef\u9009\u9879\uff09\uff1a\u5199\u5165\u6570\u636e\u548c\u5143\u6570\u636e HTTP verb\uff1a\u63d0\u4f9b\u5177\u4f53\u7684\u8bf7\u6c42\u64cd\u4f5c\u3002\u4f8b\u5982\u5c06\u4e00\u4e2aobject\u5bf9\u8c61\u653e\u5165\u96c6\u7fa4\u4e2d\uff0c\u4ece\u96c6\u7fa4\u4e2d\u83b7\u53d6\u8d26\u6237\uff08\u7279\u522b\u6ce8\u610fSwift\u4e2d\u7684\u8d26\u6237\u4fe1\u606f\u6307\u7684\u5e76\u4e0d\u662f\u7528\u6237\u8d26\u6237\u800c\u662f\u5b58\u50a8\u7684\u533a\u57df\u4fe1\u606f\uff09\u4fe1\u606f\u3002 Swift\u4e2d\u5bf9\u8c61\u7684\u5b58\u50a8URL\u5982\u4e0b\u6240\u793a\uff1a https://swift.example.com/v1/account/container/object URL\u662f\u7531\u4e24\u90e8\u5206\u7ec4\u6210\u7684\uff1a 1.\u5b58\u50a8\u96c6\u7fa4\u7684\u4f4d\u7f6e\uff1aswift.example.com/v1 2.\u5b58\u50a8\u7684\u4f4d\u7f6e\uff1aaccount/container/object","title":"Access Tier"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#account","text":"\u8d26\u6237\u5b58\u50a8\u4f4d\u7f6e\u662f\u4e00\u4e2a\u552f\u4e00\u7684\u547d\u540d\u5b58\u50a8\u533a\u57df\uff0c\u5176\u4e2d\u5305\u542b\u8d26\u6237\u672c\u8eab\u7684\u5143\u6570\u636e\u4fe1\u606f\u548c\u8d26\u6237\u4e2d\u5bb9\u5668\u7684\u5217\u8868\u3002","title":"account\uff08\u8d26\u6237\uff09\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#accountcontainer","text":"\u5bb9\u5668\u5b58\u50a8\u4f4d\u7f6e\u4f7f\u8d26\u6237\u4e2d\u5b9a\u4e49\u7684\u5b58\u50a8\u533a\u57df\uff0c\u5b58\u50a8\u5bb9\u5668\u7684\u5143\u6570\u636e\u548c\u5bb9\u5668\u4e2d\u7684\u5bf9\u8c61\u5217\u8868","title":"/account/container(\u5bb9\u5668):"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#accountcontainerobject","text":"\u5bf9\u8c61\u5b58\u50a8\u4f4d\u7f6e\u8d1f\u8d23\u5b58\u653e\u6570\u636e\u5bf9\u8c61\u548c\u5bf9\u8c61\u7684\u5143\u6570\u636e\u4fe1\u606f","title":"/account/container/object(\u5bf9\u8c61)\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#storage-nodes","text":"\u5b58\u50a8\u5c42\u662f\u7531\u4e00\u7cfb\u5217\u7684\u5b58\u50a8\u8282\u70b9\u7ec4\u6210\u7684\uff0c\u8d1f\u8d23\u5bf9\u8c61\u6570\u636e\u7684\u5b58\u50a8\u3002Proxy Node\u63a5\u6536\u5230\u6765\u81ea\u7528\u6237\u7684\u8bbf\u95ee\u8bf7\u6c42\u65f6\u4f1a\u5c06\u5176\u8f6c\u53d1\u5230\u76f8\u5e94\u7684\u5b58\u50a8\u8282\u70b9\u4e0a\u3002\u4e3a\u4e86\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u9760\u6027\uff0c\u5728\u7cfb\u7edf\u51fa\u73b0\u6545\u969c\u7684\u65f6\u5019\u5c06\u6545\u969c\u9694\u79bb\u5728\u6700\u5c0f\u7684\u7269\u7406\u8303\u56f4\u4e4b\u5185\uff0c\u5b58\u50a8\u5c42\u5728\u7269\u7406\u4e0a\u53c8\u8fdb\u884c\u4e86\u4e00\u4e9b\u5212\u5206\u3002 \u200b Regina\uff1a\u5728\u5730\u7406\u4e0a\u9694\u7edd\u7684\u533a\u57df\uff0c\u4e0d\u540cRegina\u901a\u5e38\u6240\u5904\u7684\u5730\u7406\u4f4d\u7f6e\u76f8\u8ddd\u8f83\u8fdc \u200b Zone\uff1a\u5728\u6bcf\u4e2aRegina\u5185\u90e8\u8fdb\u4e00\u6b65\u8fdb\u884c\u5212\u5206\uff0c\u6bcf\u4e2aZone\u4e00\u822c\u4ee3\u8868\u4e00\u4e2a\u72ec\u7acb\u7684\u5b58\u50a8\u8282\u70b9\uff0c\u53ef\u4ee5\u662f\u4e00\u4e2a\u673a\u67dc\u3002 \u200b Storage Node\uff1a\u5b58\u50a8\u5bf9\u8c61\u7684\u7269\u7406\u8282\u70b9\uff0c\u901a\u5e38\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\u4e00\u4e2a\u7269\u7406\u7684\u5b58\u50a8\u670d\u52a1\u5668 \u200b Device\uff1a\u7b80\u5355\u7406\u89e3\u4e3a\u4e00\u4e2a\u78c1\u76d8\u5373\u53ef \u200b partition:\u5904\u5728Device\u4e0a\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u3002 Swift\u7684\u56db\u4e2a\u670d\u52a1\u5668\u8fdb\u7a0b\u5206\u522b\u662fProxy\uff0caccount\uff0ccontainer\u548cobject\uff0c\u5f53\u4e00\u4e2a\u8282\u70b9\u4e0a\u53ea\u6709\u4ee3\u7406\u8fdb\u7a0b\u8fd0\u884c\u65f6\uff0c\u6b64\u8282\u70b9\u79f0\u4e4b\u4e3a\u4ee3\u7406\u8282\u70b9\uff1b\u5f53\u4e00\u4e2a\u8282\u70b9\u4e0a\u8fd0\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u670d\u52a1\u8fdb\u7a0b\u65f6\uff08account\uff0ccontainer\uff0cobject\uff09\u65f6\uff0c\u8be5\u8282\u70b9\u901a\u5e38\u79f0\u4e4b\u4e3a\u5b58\u50a8\u8282\u70b9\u3002","title":"Storage Nodes"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_3","text":"Storage Node\u4e0a\u5b58\u5728\u4e00\u4e2a\u4e09\u5c42\u7ed3\u6784 Account;Container;object.\u4e0e\u4e4b\u76f8\u5bf9\u5e94\u7684\u662fStorage Node\u4e0a\u8fd0\u884c\u7684\u4e09\u79cd\u670d\u52a1\u3002 Account Server\uff1a\u63d0\u4f9bAccount\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bContainer\u5217\u8868\u548caccount\u7684\u5143\u6570\u636e\u4fe1\u606f\u3002\u6570\u636e\u5b58\u653e\u5728SQLlite\u7684\u6570\u636e\u5e93\u4e2d\u3002 Container Server\uff1a\u63d0\u4f9bContainer\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bObject\u5217\u8868\u548cContainer\u7684\u5143\u6570\u636e\u4fe1\u606f\u3002\u6570\u636e\u5b58\u653e\u5728SQLlite\u7684\u6570\u636e\u5e93\u4e2d\u3002 Object Server\uff1a\u63d0\u4f9bObject\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u542bObject\u5bf9\u8c61\u548cObject\u7684\u5143\u6570\u636e\u3002 \u4e3a\u4f8b\u63d0\u9ad8\u6570\u636e\u7684\u53ef\u9760\u6027\u907f\u514d\u5355\u8282\u70b9\u7684\u7269\u7406\u6545\u969c\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u635f\u574f\uff0cSwift\u4e3a\u6bcf\u4e2aObject\u5bf9\u8c61\u5efa\u7acb\u4e86\u4e00\u5b9a\u6570\u91cf\u7684\u526f\u672c\uff0c\u901a\u8fc7\u526f\u672c\u673a\u5236\u6765\u5b9e\u73b0\u6570\u636e\u7684\u53ef\u9760\u6027\u3002\u9ed8\u8ba4\u662f3\u526f\u672c\u3002\u5e76\u4e14\u6bcf\u4e2a\u526f\u672c\u5b58\u653e\u5728\u4e0d\u540c\u7684Zone\u4e2d\uff0c\u8fd9\u6837\u5373\u4f7f\u53d1\u751f\u67d0\u4e2aZone\u635f\u574f\uff0c\u90a3\u4e48\u4e5f\u80fd\u4f7f\u7528\u5176\u4ed6Zone\u4e0a\u7684\u6570\u636e\u63a5\u7eed\u63d0\u4f9b\u53ef\u6301\u7eed\u7684\u6570\u636e\u670d\u52a1\u3002 \u5728Swift\u4e2d\u6570\u636e\u7684\u526f\u672c\u662f\u4ee5partition\u4e3a\u5355\u4f4d\u8fdb\u884c\u5b58\u653e\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u8c61\u526f\u672c\u5b9e\u9645\u4e0a\u7531partition\u526f\u672c\u7ec4\u7ec7\u5728\u4e00\u8d77\u7528partition\u526f\u672c\u95f4\u63a5\u6765\u5b9e\u73b0Object\u526f\u672c\u7684\u3002 \u65e2\u7136Swift\u4f7f\u7528\u4e86\u4e09\u526f\u672c\u673a\u5236\uff0c\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u5c31\u5fc5\u987b\u4fdd\u6301\u4e00\u81f4\uff0c\u4e5f\u5c31\u662f\u8bf4\u6709\u4e00\u4e2a\u526f\u672c\u4ea7\u751f\u6570\u636e\u66f4\u65b0\u7684\u8bdd\uff0c\u5176\u4ed6\u526f\u672c\u4e5f\u8981\u8fdb\u884c\u66f4\u65b0\uff0c\u4f7f\u5f97\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u65f6\u523b\u4fdd\u6301\u4e00\u81f4\u3002","title":"Swift\u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_4","text":"Auditor\uff1a\u901a\u8fc7\u6301\u7eed\u626b\u63cf\u78c1\u76d8\u68c0\u67e5Account\uff1bContaine\u548cObject\u7684\u5b8c\u6574\u6027\uff0c\u5982\u679c\u53d1\u751f\u73b0\u6709\u6570\u636e\u635f\u574f\u90a3\u4e48Auditor\u5c31\u5bf9\u635f\u574f\u7684\u6570\u636e\u8fdb\u884c\u9694\u79bb\uff0c\u7136\u540e\u4f7f\u7528Replication\u4ece\u5176\u4ed6\u7684\u8282\u70b9\u4e0a\u83b7\u53d6\u5bf9\u5e94\u7684\u526f\u672c\u7528\u6765\u6062\u590d\u672c\u5730\u6570\u636e\u3002 Updater\uff1a\u5728\u521b\u5efa\u4e00\u4e2aContainer\u65f6\u5305\u542b\u8be5Container\u7684\u6570\u636e\u7684Account\u9700\u8981\u8fdb\u884c\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5c06\u66f4\u65b0\u6d88\u606f\u53d1\u9001\u5230SQLlite\u7684Account\u6570\u636e\u5e93\u4e2d\uff1b\u540c\u6837\u7684\u5728\u521b\u5efa\u4e00\u4e2aObject\u5bf9\u8c61\u662fContainer\u540c\u6837\u9700\u8981\u5c06\u66f4\u65b0\u6d88\u606f\u53d1\u9001\u5230SQLlite\u7684Container\u6570\u636e\u5e93\u4e2d\u3002\u4f46\u662f\u5047\u5982Account server\u548cContainer\u4e1a\u52a1\u7e41\u5fd9\uff0c\u5bfc\u81f4\u6570\u636e\u66f4\u65b0\u4e0d\u6210\u529f\uff0c\u6b64\u65f6\u5c31\u9700\u8981Updater\u7ee7\u7eed\u66f4\u65b0\u3002 Replication\uff1a\u8d1f\u8d23\u68c0\u6d4b\u5404\u4e2a\u8282\u70b9\u4e0a\u7684\u6570\u636e\u53ca\u526f\u672c\u662f\u5426\u4e00\u81f4\uff0c\u53d1\u73b0\u4e0d\u4e00\u81f4\u65f6\u5c06\u526f\u672c\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c\u3002","title":"Swift\u4fdd\u6301\u6570\u636e\u4e00\u81f4\u6027\u7684\u670d\u52a1"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#-ring","text":"Ring\u8bb0\u5f55\u4e86\u5b58\u50a8\u5bf9\u8c61\u548c\u7269\u7406\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0cAccount\uff1bContainer\uff1bObject\u90fd\u6709\u81ea\u5df1\u7684Ring.Proxy Server\u63a5\u6536\u5230\u7528\u6237\u7684\u8bf7\u6c42\u65f6\u4f1a\u6839\u636e\u4e0d\u540c\u7684\u64cd\u4f5c\u5b9e\u4f53\uff08Account\uff1bContainer\uff1bObject\uff09\u5206\u522b\u627e\u5230\u5404\u81ea\u5bf9\u5e94\u7684Ring\uff0c\u6765\u786e\u5b9a\u4ed6\u4eec\u5728\u670d\u52a1\u5668\u96c6\u7fa4\u4e2d\u7684\u5177\u4f53\u4f4d\u7f6e\u3002\u800cAccount\uff1bContainer\uff1bObject\u5728Ring\u4e2d\u7684\u4f4d\u7f6e\u4e5f\u662f\u4ea4\u7ed9Proxy Server\u8fdb\u884c\u7ef4\u62a4\u7684\u3002 Ring\u901a\u8fc7Zone\uff0cDevice\uff0cPartition\u548cReplica\u7684\u6982\u5ff5\u6765\u7ef4\u62a4\u6620\u5c04\u4fe1\u606f\u3002\u6bcf\u4e2aPartition\u7684\u4f4d\u7f6e\u5173\u7cfb\u6709Ring\u6765\u8fdb\u884c\u7ef4\u62a4\u3002","title":"\u5b9e\u73b0\u5bf9\u8c61\u548c\u7269\u7406\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6620\u5c04--Ring"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#ringswift-logic-architectural","text":"Swift\u901a\u8fc7Ring\u6765\u5b9e\u73b0\u5bf9\u7269\u7406\u8282\u70b9\u7684\u7ba1\u7406\uff0c\u5305\u62ec\u8bb0\u5f55\u5bf9\u8c61\u4e0e\u7269\u7406\u5b58\u50a8\u4f4d\u7f6e\u7684\u6620\u5c04\uff0c\u7269\u7406\u8282\u70b9\u7684\u6dfb\u52a0\u548c\u5220\u9664\u7b49\u3002","title":"\u5f15\u5165Ring\u4e4b\u540eSwift logic Architectural"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#consisten-hashing","text":"\u9762\u5bf9\u6d77\u91cf\u7ea7\u522b\u7684\u5bf9\u8c61\uff0c\u9700\u8981\u5b58\u653e\u5728\u6210\u5343\u4e0a\u4e07\u53f0\u670d\u52a1\u5668\u548c\u786c\u76d8\u8bbe\u5907\u4e0a\uff0c\u9996\u5148\u8981\u89e3\u51b3\u5bfb\u5740\u95ee\u9898\uff0c\u5982\u4f55\u5c06\u8fd9\u4e9b\u5bf9\u8c61\u5206\u4e0d\u5230\u8fd9\u4e9b\u8bbe\u5907\u7684\u5730\u5740\u4e0a\u3002Swift\u662f\u57fa\u4e8e\u4e00\u81f4\u6027\u6563\u5217\u6280\u672f\uff0c\u901a\u8fc7\u8ba1\u7b97\u53ef\u4ee5\u5c06\u5bf9\u8c61\u5747\u5300\u7684\u5206\u5e03\u5728\u865a\u62df\u7a7a\u95f4\u7684\u865a\u62df\u8282\u70b9\u4e0a\uff0c\u5728\u589e\u52a0\u6216\u8005\u5220\u9664\u8282\u70b9\u662f\u53ef\u5927\u5927\u51cf\u5c11\u79fb\u52a8\u7684\u6570\u636e\u91cf\uff1b\u865a\u62df\u7a7a\u95f4\u5927\u5c0f\u901a\u5e38\u91c7\u75282\u7684n\u6b21\u5e42\uff0c\u4fbf\u4e8e\u8fdb\u884c\u9ad8\u6548\u7684\u79fb\u4f4d\u64cd\u4f5c\uff0c\u7136\u540e\u901a\u8fc7\u72ec\u7279\u7684\u6570\u636e\u7ed3\u6784Ring\u518d\u5c06\u865a\u62df\u8282\u70b9\u6620\u5c04\u5230\u5b9e\u9645\u7684\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u4e0a\uff0c\u5b8c\u6210\u5bfb\u5740\u8fc7\u7a0b\u3002 \u901a\u5e38\u6211\u4eec\u4f7f\u7528Hash\u7b97\u6cd5\uff0c\u9996\u5148\u8ba1\u7b97\u51fa\u5bf9\u8c61\u7684Hash\u503cKey\uff0c\u7136\u540e\u5c06key\u8fdb\u884c\u53d6\u6a21\uff08key%N N\u4ee3\u8868\u7684\u662fpartition\u7684\u4e2a\u6570\uff09\u4e5f\u505akey mod N\uff1b\u8ba1\u7b97\u5b8c\u6210\u540e\u5f97\u5230\u7684\u4f59\u6570\u7684\u7ed3\u679c\u4fbf\u662f\u6570\u636e\u5b58\u653e\u7684\u8282\u70b9\u3002\u6bd4\u5982N\u7b49\u4e8e3\uff1b\u4e14\u7ecf\u8fc7\u8ba1\u7b97\u51fa\u6765\u7684\uff0ckey\u503c\u5206\u522b\u4e3a0,1,2,3,4,5,6\u5bf9N\u8fdb\u884c\u53d6\u6a21\u5f97\u5230\u7684\u7ed3\u679c\u5206\u522b\u4e3a0,1,2,0,1,2.,0\u4e5f\u5c31\u662f\u5c06Object\u5206\u522b\u5b58\u653e\u57280,1,2,1,2,0\u8282\u70b9\u4e0a\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u5f53\u4e2d\u6bcf\u4e2aStorage Node\u4e0a\u90fd\u5b58\u653e\u4e86\u4e24\u4e2aObject\u3002\u5982\u679cHash\u7b97\u6cd5\u662f\u5e73\u5747\uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4f1a\u5b58\u653e\u57283\u4e2a\u8282\u70b9\u5f53\u4e2d\u3002\u5982\u679c\u6bcf\u4e2a\u6570\u636e\u7684\u8bbf\u95ee\u91cf\u6bd4\u8f83\u5e73\u5747\u90a3\u4e48\u6570\u636e\u7684\u8d1f\u8f7d\u5c06\u4f1a\u6bd4\u8f83\u5e73\u5747\u3002 \u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u7531\u4e8e\u6570\u636e\u7684\u8bbf\u95ee\u91cf\u548c\u4f7f\u7528\u91cf\u8fdb\u4e00\u6b65\u589e\u52a0\u5c31\u9700\u8981\u9488\u5bf9\u8282\u70b9\u8fdb\u884c\u6269\u5bb9\uff0c\u4ee5\u589e\u5f3a\u6570\u636e\u7684\u8bbf\u95ee\u8bf7\u6c42\u3002 \u5982\u679c\u6211\u4eec\u5c06\u8282\u70b9\u589e\u52a0\u52304\u4e2a\uff0c\u90a3\u4e48\u6b64\u65f6N\u4e3a4;\u6267\u884c\u4e3akey mod N\u7684\u64cd\u4f5c\u5f97\u51fa\u7684\u7ed3\u679c\u4e3a0,1,2,3,1,1,2\u8ddf\u4e0a\u9762\u7684N\u4e3a3\u65f6\u8ba1\u7b97\u7ed3\u679c\u8fdb\u884c\u5bf9\u6bd4\u3002\u5f97\u51faHash\u503c\u4e3a3,4,5,6\u7684Object\u9700\u8981\u8fdb\u884c\u91cd\u65b0\u5206\u914d\uff0c\u5982\u679c\u5b58\u50a8\u8282\u70b9\u7684\u6570\u91cf\u4ee5\u53ca\u5b58\u50a8\u8282\u70b9\u4e0a\u7684\u6570\u636e\u5f88\u5927\u65f6\u8fc1\u79fb\u7684\u6210\u672c\u5c31\u4f1a\u5f88\u9ad8\u3002\u4e3a\u4e86\u51cf\u5c11\u8282\u70b9\u589e\u51cf\u6240\u5e26\u6765\u7684\u6210\u672c\uff0cSwift\u4f7f\u7528\u7684\u662f\u4e00\u81f4\u6027Hash\u7b97\u6cd5\uff0c\u5728\u5b58\u50a8\u8282\u70b9\u6570\u91cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u7ecf\u5386\u800c\u4e3a\u7684\u51cf\u5c11\u5df2\u7ecf\u5b58\u5728\u7684\u5bf9\u8c61\u548c\u8282\u70b9\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002 key N\u4e3a3 N\u4e3a4 0 0 0 1 1 1 2 2 2 3 0 3 4 1 0 5 2 1 6 0 2","title":"\u57fa\u672c\u539f\u7406\uff1a\u4e00\u81f4\u6027\u6563\u5217\uff08Consisten Hashing\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#hash","text":"\u8ba1\u7b97\u6bcf\u4e2a\u5bf9\u8c61\u7684Hash\u503c\u5e76\u4e14\u5c06\u4ed6\u4eec\u5747\u5300\u7684\u5206\u5e03\u5230\u4e00\u4e2a\u865a\u62df\u7a7a\u95f4\u4e0a\u53bb\uff0c\u4e00\u822c\u75282^32\u6807\u8bc6\u8be5\u865a\u62df\u7a7a\u95f4\u3002 \u5047\u8bbe\u67092 m\u4e2a\u5b58\u50a8\u8282\u70b9\uff0c\u90a3\u4e48\u5c06\u865a\u62df\u7a7a\u95f4\u5747\u5300\u7684\u5206\u62102 m\u7b49\u4efd\uff0c\u6bcf\u4efd\u957f\u5ea6\u4e3a2^(32-m) \u5047\u8bbe\u4e00\u4e2a\u5bf9\u8c61\u540d\u79f0Hash\u503ckey\u4e3an\uff1b\u90a3\u4e48\u8be5\u5bf9\u8c61\u5bf9\u5e94\u7684\u5b58\u50a8\u8282\u70b9\u4e3a n/2^(32-m);\u8f6c\u6362\u4e3a\u4e8c\u8fdb\u5236\u79fb\u4f4d\u64cd\u4f5c\u5c31\u662f\u8bb2Hash\u4e4b\u540e\u7684\u7ed3\u679c\u53f3\u79fb32-m\u4f4d\u3002 \u4ee5m = 3\u4e3a\u4f8b\uff0c\u63cf\u8ff0\u4e00\u4e0b\u5177\u4f53\u8fc7\u7a0b\u3002 \u5b58\u50a8\u8282\u70b9\u7684\u4e2a\u6570\u4e3a2^m \u4e3a8\u4e2a\u865a\u62df\u5b58\u50a8\u8282\u70b9\u3002","title":"\u4e00\u81f4\u6027Hash\u7684\u8fc7\u7a0b\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#consistency-modle","text":"\u6309\u7167Rric Brewer\u7684CAP\uff08Consistency\uff0cAvailability\uff0cPartition Tolerance\uff09\u7406\u8bba\uff0c\u65e0\u6cd5\u540c\u65f6\u6ee1\u8db3\u4e09\u4e2a\u65b9\u9762\uff0cSwift\u653e\u5f03\u4e25\u683c\u4e00\u81f4\u6027\uff08\u6ee1\u8db3ACID\u4e8b\u52a1\u7ea7\u522b\uff09\uff0c\u800c\u91c7\u7528\u6700\u7ec8\u4e00\u81f4\u6027\u6a21\u578b\uff08Eventual Consistency\uff09\uff0c\u6765\u8fbe\u5230\u9ad8\u53ef\u7528\u6027\u548c\u65e0\u7ebf\u6c34\u5e73\u6269\u5c55\u80fd\u529b\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u4e2a\u76ee\u6807\uff0cSwift\u91c7\u7528Quorum\u4ef2\u88c1\u534f\u8bae\uff08Quorum\u6709\u6cd5\u5b9a\u6295\u7968\u4eba\u6570\u7684\u542b\u4e49\uff09 \uff081\uff09\u5b9a\u4e49\uff1aN\uff1a\u6570\u636e\u7684\u526f\u672c\u603b\u6570\uff1bW\uff1a\u5199\u64cd\u4f5c\u88ab\u786e\u8ba4\u63a5\u53d7\u7684\u526f\u672c\u6570\u91cf\uff1bR\uff1a\u8bfb\u64cd\u4f5c\u7684\u526f\u672c\u6570\u91cf \uff082\uff09\u5f3a\u4e00\u81f4\u6027\uff1aR+W>N\uff0c\u4ee5\u4fdd\u8bc1\u5bf9\u526f\u672c\u7684\u8bfb\u5199\u64cd\u4f5c\u4f1a\u4ea7\u751f\u4ea4\u96c6\uff0c\u4ece\u800c\u4fdd\u8bc1\u53ef\u4ee5\u8bfb\u53d6\u5230\u6700\u65b0\u7248\u672c\uff1b\u5982\u679c W=N\uff0cR=1\uff0c\u5219\u9700\u8981\u5168\u90e8\u66f4\u65b0\uff0c\u9002\u5408\u5927\u91cf\u8bfb\u5c11\u91cf\u5199\u64cd\u4f5c\u573a\u666f\u4e0b\u7684\u5f3a\u4e00\u81f4\u6027\uff1b\u5982\u679c R=N\uff0cW=1\uff0c\u5219\u53ea\u66f4\u65b0\u4e00\u4e2a\u526f\u672c\uff0c\u901a\u8fc7\u8bfb\u53d6\u5168\u90e8\u526f\u672c\u6765\u5f97\u5230\u6700\u65b0\u7248\u672c\uff0c\u9002\u5408\u5927\u91cf\u5199\u5c11\u91cf\u8bfb\u573a\u666f\u4e0b\u7684\u5f3a\u4e00\u81f4\u6027\u3002 \uff083\uff09\u5f31\u4e00\u81f4\u6027\uff1aR+W<=N\uff0c\u5982\u679c\u8bfb\u5199\u64cd\u4f5c\u7684\u526f\u672c\u96c6\u5408\u4e0d\u4ea7\u751f\u4ea4\u96c6\uff0c\u5c31\u53ef\u80fd\u4f1a\u8bfb\u5230\u810f\u6570\u636e\uff1b\u9002\u5408\u5bf9\u4e00\u81f4\u6027\u8981\u6c42\u6bd4\u8f83\u4f4e\u7684\u573a\u666f\u3002 Swift \u9488\u5bf9\u7684\u662f\u8bfb\u5199\u90fd\u6bd4\u8f83\u9891\u7e41\u7684\u573a\u666f\uff0c\u6240\u4ee5\u91c7\u7528\u4e86\u6bd4\u8f83\u6298\u4e2d\u7684\u7b56\u7565\uff0c\u5373\u5199\u64cd\u4f5c\u9700\u8981\u6ee1\u8db3\u81f3\u5c11\u4e00\u534a\u4ee5\u4e0a\u6210\u529f W >N/2\uff0c\u518d\u4fdd\u8bc1\u8bfb\u64cd\u4f5c\u4e0e\u5199\u64cd\u4f5c\u7684\u526f\u672c\u96c6\u5408\u81f3\u5c11\u4ea7\u751f\u4e00\u4e2a\u4ea4\u96c6\uff0c\u5373 R+W>N\u3002Swift \u9ed8\u8ba4\u914d\u7f6e\u662f N=3\uff0cW=2>N/2\uff0cR=1 \u6216 2\uff0c\u5373\u6bcf\u4e2a\u5bf9\u8c61\u4f1a\u5b58\u5728 3 \u4e2a\u526f\u672c\uff0c\u8fd9\u4e9b\u526f\u672c\u4f1a\u5c3d\u91cf\u88ab\u5b58\u50a8\u5728\u4e0d\u540c\u533a\u57df\u7684\u8282\u70b9\u4e0a\uff1bW=2 \u8868\u793a\u81f3\u5c11\u9700\u8981\u66f4\u65b0 2 \u4e2a\u526f\u672c\u624d\u7b97\u5199\u6210\u529f\uff1b\u5f53 R=1 \u65f6\u610f\u5473\u7740\u67d0\u4e00\u4e2a\u8bfb\u64cd\u4f5c\u6210\u529f\u4fbf\u7acb\u523b\u8fd4\u56de\uff0c\u6b64\u79cd\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u8bfb\u53d6\u5230\u65e7\u7248\u672c\uff08\u5f31\u4e00\u81f4\u6027\u6a21\u578b\uff09\uff1b\u5f53 R=2 \u65f6\uff0c\u9700\u8981\u901a\u8fc7\u5728\u8bfb\u64cd\u4f5c\u8bf7\u6c42\u5934\u4e2d\u589e\u52a0 x-newest=true \u53c2\u6570\u6765\u540c\u65f6\u8bfb\u53d6 2 \u4e2a\u526f\u672c\u7684\u5143\u6570\u636e\u4fe1\u606f\uff0c\u7136\u540e\u6bd4\u8f83\u65f6\u95f4\u6233\u6765\u786e\u5b9a\u54ea\u4e2a\u662f\u6700\u65b0\u7248\u672c\uff08\u5f3a\u4e00\u81f4\u6027\u6a21\u578b\uff09\uff1b\u5982\u679c\u6570\u636e\u51fa\u73b0\u4e86\u4e0d\u4e00\u81f4\uff0c\u540e\u53f0\u670d\u52a1\u8fdb\u7a0b\u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u7a97\u53e3\u5185\u901a\u8fc7\u68c0\u6d4b\u548c\u590d\u5236\u534f\u8bae\u6765\u5b8c\u6210\u6570\u636e\u540c\u6b65\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fbe\u5230\u6700\u7ec8\u4e00\u81f4\u6027\u3002\u5982\u56fe \u6240\u793a\uff1a","title":"\u6570\u636e\u4e00\u81f4\u6027\u6a21\u578b\uff08Consistency Modle\uff09"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#ring","text":"\u73af\u662f\u4e3a\u4e86\u5c06\u865a\u62df\u8282\u70b9\uff08\u5206\u533a\uff09\u6620\u5c04\u5230\u4e00\u7ec4\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u4e0a\uff0c\u5e76\u63d0\u4f9b\u4e00\u5b9a\u7684\u5197\u4f59\u5ea6\u800c\u8bbe\u8ba1\u7684\uff0c\u5176\u6570\u636e\u7ed3\u6784\u7531\u4ee5\u4e0b\u4fe1\u606f\u7ec4\u6210\uff1a \u5b58\u50a8\u8bbe\u5907\u5217\u8868\u3001\u8bbe\u5907\u4fe1\u606f\u5305\u62ec\u552f\u4e00\u6807\u8bc6\u53f7\uff08id\uff09\u3001\u533a\u57df\u53f7\uff08zone\uff09\u3001\u6743\u91cd\uff08weight\uff09\u3001IP \u5730\u5740\uff08ip\uff09\u3001\u7aef\u53e3\uff08port\uff09\u3001\u8bbe\u5907\u540d\u79f0\uff08device\uff09\u3001\u5143\u6570\u636e\uff08meta\uff09\u3002 \u5206\u533a\u5230\u8bbe\u5907\u6620\u5c04\u5173\u7cfb\uff08replica2part2dev_id \u6570\u7ec4) \u8ba1\u7b97\u5206\u533a\u53f7\u7684\u4f4d\u79fb(part_shift \u6574\u6570\uff0c\u5373\u56fe 1 \u4e2d\u7684 m) \u4ee5\u67e5\u627e\u4e00\u4e2a\u5bf9\u8c61\u7684\u8ba1\u7b97\u8fc7\u7a0b\u4e3a\u4f8b\uff1a \u4f7f\u7528\u5bf9\u8c61\u7684\u5c42\u6b21\u7ed3\u6784 account/container/object \u4f5c\u4e3a\u952e\uff0c\u4f7f\u7528 MD5 \u6563\u5217\u7b97\u6cd5\u5f97\u5230\u4e00\u4e2a\u6563\u5217\u503c\uff0c\u5bf9\u8be5\u6563\u5217\u503c\u7684\u524d 4 \u4e2a\u5b57\u8282\u8fdb\u884c\u53f3\u79fb\u64cd\u4f5c\u5f97\u5230\u5206\u533a\u7d22\u5f15\u53f7\uff0c\u79fb\u52a8\u4f4d\u6570\u7531\u4e0a\u9762\u7684 part_shift \u8bbe\u7f6e\u6307\u5b9a\uff1b\u6309\u7167\u5206\u533a\u7d22\u5f15\u53f7\u5728\u5206\u533a\u5230\u8bbe\u5907\u6620\u5c04\u8868\uff08replica2part2dev_id\uff09\u91cc\u67e5\u627e\u8be5\u5bf9\u8c61\u6240\u5728\u5206\u533a\u7684\u5bf9\u5e94\u7684\u6240\u6709\u8bbe\u5907\u7f16\u53f7\uff0c\u8fd9\u4e9b\u8bbe\u5907\u4f1a\u88ab\u5c3d\u91cf\u9009\u62e9\u90e8\u7f72\u5728\u4e0d\u540c\u533a\u57df\uff08Zone\uff09\u5185\uff0c\u533a\u57df\u53ea\u662f\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u5b83\u53ef\u4ee5\u662f\u67d0\u53f0\u673a\u5668\uff0c\u67d0\u4e2a\u673a\u67b6\uff0c\u751a\u81f3\u67d0\u4e2a\u5efa\u7b51\u5185\u7684\u673a\u7fa4\uff0c\u4ee5\u63d0\u4f9b\u6700\u9ad8\u7ea7\u522b\u7684\u5197\u4f59\u6027\uff0c\u5efa\u8bae\u81f3\u5c11\u90e8\u7f72 5 \u4e2a\u533a\u57df\uff1b\u6743\u91cd\u53c2\u6570\u662f\u4e2a\u76f8\u5bf9\u503c\uff0c\u53ef\u4ee5\u6765\u6839\u636e\u78c1\u76d8\u7684\u5927\u5c0f\u6765\u8c03\u8282\uff0c\u6743\u91cd\u8d8a\u5927\u8868\u793a\u53ef\u5206\u914d\u7684\u7a7a\u95f4\u8d8a\u591a\uff0c\u53ef\u90e8\u7f72\u66f4\u591a\u7684\u5206\u533a\u3002 Swift \u4e3a\u8d26\u6237\uff0c\u5bb9\u5668\u548c\u5bf9\u8c61\u5206\u522b\u5b9a\u4e49\u4e86\u7684\u73af\uff0c\u67e5\u627e\u8d26\u6237\u548c\u5bb9\u5668\u7684\u662f\u540c\u6837\u7684\u8fc7\u7a0b\u3002","title":"Ring\u7684\u6570\u636e\u7ed3\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_5","text":"","title":"Swift\u7ec4\u4ef6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift-api","text":"Swift\u901a\u8fc7RESTful API\u7684\u5f62\u5f0f\u4e3a\u81ea\u5df1\u63d0\u4f9b\u81ea\u5df1\u7684API\uff0cProxy Server \u627f\u62c5\u4e86\u7c7b\u4f3cNova-API\u7684\u529f\u80fd\uff0c\u8d1f\u8d23\u63a5\u6536\u6765\u81ea\u7528\u6237\u7684HTTP\u8bf7\u6c42\u3002 Swift API\u63d0\u4f9b\u4e86\u5305\u62ec\u5b58\u50a8\u5bf9\u8c61\uff0c\u538b\u7f29\u5bf9\u8c61\uff0c\u5220\u9664\u5bf9\u8c61\u5728\u5185\u7684\u4e00\u7cfb\u5217\u64cd\u4f5c","title":"Swift API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/#swift_6","text":"Swift\u4e2d\u652f\u6301\u5185\u90e8\u548c\u5916\u90e8\u4e24\u79cd\u7c7b\u578b\u7684\u8ba4\u8bc1\u7cfb\u7edf\u3002\u4e00\u822c\u6765\u8bf4\u5916\u90e8\u7684\u8ba4\u8bc1\u8bf7\u6c42\u65f6\u53ea\u60f3KeyStone\u670d\u52a1\u8fdb\u884c\u8ba4\u8bc1\u7684\uff0c\u5185\u90e8\u7684\u5219\u662f\u7531Swift\u7684WSGI\u4e2d\u95f4\u4ef6Tempauth\u6765\u8fdb\u884c\u8ba4\u8bc1\u7528\u6237\u3002\u65e0\u8bba\u91c7\u7528\u4ec0\u4e48\u65b9\u5f0f\u7684\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u7528\u6237\u90fd\u8981\u63d0\u4ea4\u81ea\u5df1\u7684credentials\uff08\u8bc1\u4e66\u662f\uff09\u7ed9\u5230\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u8ba4\u8bc1\u7cfb\u7edf\u4f1a\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2a\u6587\u672c\u5f62\u5f0f\u7684token\uff0ctoken\u5177\u6709\u4e00\u5b9a\u7684\u65f6\u6548\u6027\uff0ctoken\u7684\u8ba4\u8bc1\u7ed3\u679c\u4f1a\u88ab\u7f13\u5b58\uff0c\u7528\u6237\u53ef\u4ee5\u5728token\u672a\u8fc7\u671f\u7684\u65f6\u95f4\u5185\u901a\u8fc7\u8bf7\u6c42\u4e2d\u6307\u5b9atoken\u6765\u8bbf\u95eeSwift\u670d\u52a1\u3002 ----\u53c2\u8003\u5185\u5bb9\uff1a https://wiki.openstack.org/wiki/Swift https://www.swiftstack.com/docs/introduction/openstack_swift.html https://www.ibm.com/developerworks/cn/cloud/library/1310_zhanghua_openstackswift/","title":"Swift\u7684\u8ba4\u8bc1\u7ec4\u4ef6"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/","text":"KeyStone \u00b6 https://www.openstack.org/software/project-navigator/openstack-components#openstack-services \u4ec0\u4e48\u662fkeyStone \u00b6 keyStone\u662fOpenStack\u4e2d\u8d1f\u8d23\u7ba1\u7406\u8eab\u4efd\u670d\u52a1\uff08Identity Service\uff09\uff0c\u5373KeyStone\uff0c\u662fOpenStack\u65e9\u671f\u7248\u672c\u5c31\u72ec\u7acb\u51fa\u6765\u7684\u4e00\u4e2a\u6838\u5fc3\u9879\u76ee\uff0c\u5728OpenStack\u7684\u6574\u4f53\u6846\u67b6\u4e2d\uff0cKeyStone\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u670d\u52a1\u603b\u7ebf\uff0c\u5c06Nova\uff0cCinder\uff0cHorzion\uff0cSwift\uff0cGlance\u4ee5\u53caNeutron\u7b49\u5176\u4ed6\u670d\u52a1\u9010\u6e10\u90fd\u901a\u8fc7KeyStone\u6765\u6ce8\u518c\u5176\u670d\u52a1\u7684Endpoint\uff08\u8bbf\u95ee\u670d\u52a1\u7684url\uff09\uff0c\u8fd9\u4e9b\u670d\u52a1\u7531KeyStone\u4f53\u7cbe\u8eab\u4efd\u8ba4\u8bc1\u4e4b\u540e\uff0c\u624d\u80fd\u83b7\u5f97\u8be5\u670d\u52a1\u7684Endpoint\u6765\u8fdb\u884c\u8bbf\u95ee\u3002 KeyStone Architecture \u00b6 KeyStone\u7684\u4e2d\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5 https://docs.openstack.org/keystone/latest/getting-started/architecture.html Service\uff1a\u670d\u52a1\uff1b\u6bd4\u5982Nova\uff1bCinder\uff0cGlance\uff1bSwift\u7b49\uff0c\u6839\u636eUser\uff0cTenant\u548cRole\u4e00\u4e2a\u670d\u52a1\u53ef\u4ee5\u786e\u8ba4\u5f53\u524d\u7528\u6237\u540d\u662f\u5426\u5177\u6709\u8bbf\u95ee\u5176\u8d44\u6e90\u7684\u6743\u9650\u3002\u670d\u52a1\u5bf9\u5916\u66b4\u9732\u4e00\u4e2aEndpoint\uff0c\u7528\u6237\u53ea\u6709\u901a\u8fc7\u8fd9\u4e9bEndpoint\u624d\u80fd\u5bf9\u8fd9\u4e9b\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u3002\u4f7f\u7528\u8eab\u4efd\u670d\u52a1\u9a8c\u8bc1user/project.\u521b\u5efa\u4e00\u4e2atoken\u5728\u6210\u529f\u540e\u8fd4\u56de\u8fd9\u4e2atoken\u3002 Identity\uff1a\u8eab\u4efd\u670d\u52a1\uff1b\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\u51ed\u8bc1\u4ee5\u53ca\u76f8\u5173\u7684user/group\u7684\u6570\u636e\u4fe1\u606f\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff1b\u6b64\u6570\u636e\u7531Identity Service\u8fdb\u884c\u7ba1\u7406\uff0c\u5728\u590d\u6742\u573a\u666f\u4e0b\u6570\u636e\u7531Endpoint Service\u8fdb\u884c\u7ba1\u7406\u3002\u4f8b\u5982\u5728keyStone\u4f5c\u4e3aLDAP\uff08 \u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae \uff08 \u82f1\u6587 \uff1a Lightweight Directory Access Protocol \uff0c \u7f29\u5199 \uff1a LDAP \uff0c/\u02c8\u025bld\u00e6p/\uff09\u662f\u4e00\u4e2a\u5f00\u653e\u7684\uff0c\u4e2d\u7acb\u7684\uff0c\u5de5\u4e1a\u6807\u51c6\u7684 \u5e94\u7528\u534f\u8bae \uff0c\u901a\u8fc7 IP\u534f\u8bae \u63d0\u4f9b\u8bbf\u95ee\u63a7\u5236\u548c\u7ef4\u62a4\u5206\u5e03\u5f0f\u4fe1\u606f\u7684\u76ee\u5f55\u4fe1\u606f\u3002\uff09\u7684\u524d\u7aef\u65f6\uff0cKeyStone\u4ec5\u4ec5\u8d1f\u8d23\u4f20\u9012\u6d88\u606f\u7ed9LDAP\uff0c\u6b64\u65f6LDAP\u624d\u662f\u4e8b\u5b9e\u4e0a\u7684\u6e90\u5934\u3002 Users\uff1a\u7528\u6237\uff1b\u4ee3\u8868\u5355\u4e2aAPI\u7684\u4f7f\u7528\u8005\uff0c\u7528\u6237\u672c\u8eab\u5fc5\u987b\u7531\u7279\u5b9a\u7684\u57df\u6240\u6301\u6709\uff0c\u56e0\u6b64\u6240\u6709\u7528\u6237\u540d\u4e0d\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u800c\u4ec5\u4ec5\u662f\u5176\u6240\u5c5e\u7684\u57df\u7684\u552f\u4e00\u3002\u901a\u8fc7KeyStone\u8bbf\u95eeOpenStack\u670d\u52a1\u7684\u4e2a\u4eba\uff0c\u7cfb\u7edf\u6216\u8005\u662f\u67d0\u4e2a\u670d\u52a1\uff0cKeyStone\u4f1a\u901a\u8fc7\u8ba4\u8bc1\u4fe1\u606f\uff08Credential\uff0c\u6bd4\u5982\u5bc6\u7801\u7b49\uff09\u9a8c\u8bc1\u7528\u6237\u8bf7\u6c42\u7684\u5408\u6cd5\u6027\uff0c\u901a\u8fc7\u9a8c\u8bc1\u7684\u7528\u6237\u4f1a\u88ab\u5206\u914d\u5230\u4e00\u4e2a\u7279\u5b9a\u7684\u4ee4\u724c\uff0c\u8be5\u4ee4\u724c\u53ef\u4ee5\u7528\u4f5c\u5bf9\u540e\u7eed\u8d44\u6e90\u8bbf\u95ee\u7684\u4e00\u4e2a\u901a\u884c\u8bc1\u3002 Group\uff1a\u7ec4\uff1b\u4ee3\u8868\u7684\u662f\u7528\u6237\u96c6\u5408\u7684\u5bb9\u5668\u3002\u7ec4\u672c\u8eab\u5fc5\u987b\u7531\u7279\u5b9a\u7684\u57df\u6240\u6301\u6709\uff0c\u7ec4\u4e0d\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u4ec5\u4ec5\u662f\u5176\u6240\u5c5e\u7684\u57df\u7684\u552f\u4e00\u3002\u53ef\u4ee5\u5411Group\u4e2d\u6dfb\u52a0\u7528\u6237\uff0c\u5e76\u76f4\u63a5\u5411Group\u5206\u914d\u89d2\u8272\uff0c\u90a3\u4e48\u5728Group\u4e2d\u7684\u7528\u6237\u81ea\u52a8\u7ee7\u627f\u5bf9Group\u6dfb\u52a0\u7684\u89d2\u8272\uff0c\u901a\u8fc7\u5f15\u5165Group\u7684\u6982\u5ff5\uff0c\u80fd\u591f\u5b9e\u73b0\u5bf9\u7528\u6237\u7ec4\u7684\u7ba1\u7406\uff0c\u80fd\u591f\u4f7f\u5f97KeyStone\u540c\u65f6\u7ba1\u7406\u4e00\u7ec4\u7528\u6237\u7684\u6743\u9650\u3002 Resource\uff1a\u8d44\u6e90\uff1b\u8d1f\u8d23\u63d0\u4f9b\u6709\u5173project\u548cDomain\u7684\u6570\u636e\u4fe1\u606f\u3002 Projects\uff1a\u9879\u76ee\uff1b\u9879\u76ee\u662f\u5404\u4e2a\u670d\u52a1\u4e2d\u7684\u4e00\u4e9b\u53ef\u4ee5\u8bbf\u95ee\u7684\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4f8b\u5982\u5728Nova\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06project\u7406\u89e3\u4e3a\u4e00\u7ec4\u865a\u62df\u673a\u7684\u62e5\u6709\u8005\uff0c\u5728Swift\u4e2d\u5219\u662f\u4e00\u7ec4\u5bb9\u5668\u7684\u62e5\u6709\u8005\u3002\u56e0\u6b64\u5728\u521b\u5efa\u865a\u62df\u673a\u6216\u8005\u5bb9\u5668\u662f\u9700\u8981\u6307\u5b9a\u4ed6\u4eec\u6240\u5c5e\u7684project\uff0c\u5426\u5219\u4f1a\u5c06\u521b\u5efa\u7684\u865a\u62df\u673a\u6216\u8005\u5bb9\u5668\u6dfb\u52a0\u5230\u9ed8\u8ba4\u7684\u9879\u76ee\u4e0b\u3002user\u603b\u662f\u7ed1\u5b9a\u5728\u67d0\u4e9bproject\u4e0a\u7684\uff0c\u7528\u6237\u5728\u8bbf\u95eeproject\u6240\u5c5e\u7684\u8d44\u6e90\u524d\uff0c\u5fc5\u987b\u5177\u6709\u5bf9\u8be5project\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u6216\u8005\u8bf4\u5728\u7279\u5b9a\u7684project\u4e0b\u8d4b\u4e88\u4e86\u7279\u5b9a\u7684\u89d2\u8272\u3002project\u4e0d\u662f\u5168\u5c40\u552f\u4e00\uff0c\u4ec5\u5728\u5b83\u6240\u5c5e\u7684Domain\u4e2d\u552f\u4e00\u5373\u53ef\u3002 Domain\uff1a\u57df\u3002KeyStone\u662f\u4e00\u4e2a\u865a\u62df\u7684\u6982\u5ff5\uff0c\u7531\u7279\u5b9a\u7684\u9879\u76ee\uff08Project\uff09\u6765\u627f\u62c5\u3002\u4e00\u4e2aDomain\u662f\u4e00\u7ec4user,project\u6216\u8005Group\u7684\u5bb9\u5668\uff0c\u4e00\u4e2aDomain\u5bf9\u5e94\u4e00\u4e2a\u5927\u7684\u673a\u6784\uff0c\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u6240\u4ee5Domain\u662f\u5168\u5c40\u552f\u4e00\u7684\u3002\u4e91\u670d\u52a1\u7684\u5ba2\u6237\u662fDomain\u7684\u62e5\u6709\u8005\uff0c\u4ed6\u4eec\u53ef\u4ee5\u5728\u81ea\u5df1\u7684Domain\u4e0a\u4efb\u610f\u7684\u521b\u5efaProject\uff0cUser\uff0cGroup\u548cRoles\u3002\u901a\u8fc7\u5f15\u5165Domain\u4e91\u670d\u52a1\u7684\u5ba2\u6237\u53ef\u4ee5\u5bf9\u5176\u6240\u62e5\u6709\u7684\u591a\u4e2aProject\u8fdb\u884c\u7ba1\u7406\uff0c\u800c\u4e0d\u5fc5\u9488\u5bf9\u5355\u4e00\u7684Project\u8fdb\u884c\u5206\u522b\u7ba1\u7406\u3002 \u200b \u57df\u540d\uff1a\u5728\u6240\u6709\u57df\u4e2d\u56fd\u90fd\u662f\u5168\u7403\u552f\u4e00\u7684 \u200b Roles\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 \u200b user:\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00\u3002 \u200b project\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 \u200b group\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 Assigment Roles\uff1a\u89d2\u8272\uff1b\u4e00\u4e2a\u7528\u6237\u6240\u5177\u6709\u7684\u89d2\u8272\uff0c\u89d2\u8272\u4e0d\u540c\u610f\u5473\u7740\u6743\u9650\u4e0d\u540c\u3002\u7528\u6237\u6240\u62e5\u6709\u7684\u89d2\u8272\u51b3\u5b9a\u4e86\u4ed6\u6240\u80fd\u8bbf\u95ee\u8d44\u6e90\u7684\u6743\u9650\uff1b\u80fd\u591f\u8bbf\u95ee\u54ea\u4e9b\u8d44\u6e90\uff0c\u80fd\u5bf9\u54ea\u4e9b\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\u3002\u4e00\u4e2a\u7528\u80fd\u53ef\u4ee5\u88ab\u8d4b\u4e88\u4e00\u4e2adomain\u6216\u8005project\u7684\u89d2\u8272\u3002\u4e00\u4e2a\u88ab\u8d4b\u4e88Domain\u7684Role\u5219\u88ab\u8ba4\u5b9a\u5bf9\u8fd9\u4e2aDomain\u4e2d\u7684\u6240\u6709Project\u90fd\u5177\u6709\u76f8\u540c\u7684\u89d2\u8272\u3002\u540c\u6837\u7684\u4e00\u4e2a\u88ab\u8d4b\u4e88Project\u7684\u6a58\u8272\u90a3\u4e48\u5b83\u5c06\u5bf9\u8fd9\u4e2aProject\u5177\u6709\u6743\u9650\u3002Roles\u80fd\u591f\u8fdb\u884c\u7ee7\u627f\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u4e00\u4e2a\u9879\u76ee\u6811\u5185\u5047\u8bbeRole\u5bf9\u6811\u6839\u6709\u6743\u9650\uff0c\u90a3\u4e48\u4ed6\u4fbf\u5bf9\u6240\u4ee5\u7684project\u6709\u6743\u9650\u3002 Role Assignment Token\uff1a\u4ee4\u724c\u3002\u4ee4\u724c\u662f\u5141\u8bb8\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u51ed\u8bc1\u3002\u65e0\u8bba\u901a\u8fc7\u4f55\u79cd\u65b9\u5f0f\uff0cKeyStone\u6700\u7ec8\u7684\u76ee\u7684\u662f\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u51ed\u8bc1\u3002\u7528\u6237\u901a\u8fc7Credential\u83b7\u53d6\u5728\u67d0\u4e2a\u9879\u76ee\u4e0b\u7684\u4ee4\u724c\u3002 Catalog\uff1a\u63d0\u4f9b\u7528\u4e8e\u7aef\u70b9\u53d1\u73b0\u7684\u6ce8\u518c\u8868 Credentials:\u51ed\u8bc1\u3002\u7528\u6237\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 Domain;Project;user;Group;Role\u793a\u610f\u56fe \u00b6 KeyStone\u7684\u529f\u80fd \u00b6 \u57fa\u4e8e\u4e0a\u6587\u5bf9KeyStone\u7684\u4ecb\u7ecd\uff1bKeyStoen\u4e3b\u8981\u6709Authentication\uff08\u8ba4\u8bc1\uff09\uff1bToken(\u4ee4\u724c)\uff1bCatalog\uff08\u76ee\u5f55\uff09\u548cpolicy\uff08\u5b89\u5168\u7b56\u7565\uff1b\u6216\u79f0\u4e3a\u8bbf\u95ee\u63a7\u5236\uff094\u4e2a\u6838\u5fc3\u529f\u80fd\u3002 Authentication\uff1a\u5bf9\u7528\u6237\u8eab\u4efd\u8fdb\u884c\u9a8c\u8bc1\uff0c\u7528\u6237\u7684\u8eab\u4efd\u51ed\u8bc1\u901a\u5e38\u662f\u4ee5\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u65b9\u5f0f\u5448\u73b0\u3002\u8ba4\u8bc1\u670d\u52a1\u540c\u65f6\u63d0\u4f9b\u4e86\u4e0e\u8be5\u7528\u6237\u76f8\u5173\u7684\u5143\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u7684\u9879\u76ee\u89d2\u8272\u3002 Token\uff1a\u786e\u8ba4\u7528\u6237\u7684\u8eab\u4efd\u4e4b\u540e\uff0c\u4f1a\u63d0\u4f9b\u7ed9\u7528\u6237\u4e00\u4e2a\u6838\u5b9e\u8be5\u8eab\u4efd\u5e76\u7528\u4e8e\u540e\u7eed\u8d44\u6e90\u8bbf\u95ee\u8bf7\u6c42\u7684\u4ee4\u724c\u3002Token\u670d\u52a1\u5219\u9a8c\u8bc1\u5e76\u7ba1\u7406\u7528\u4e8e\u9a8c\u8bc1\u8eab\u4efd\u7684\u4ee4\u724c\u3002KeyStone\u4f1a\u9881\u53d1\u7ed9\u901a\u8fc7\u8ba4\u8bc1\u670d\u52a1\u7684\u7528\u6237\u4e24\u79cd\u7c7b\u578b\u7684\u4ee4\u724c\u3002 \u200b \u4e00\u7c7b\u662f\u65e0\u660e\u786e\u8bbf\u95ee\u8303\u56f4\u7684\u4ee4\u724c\uff08unscoped token\uff09\uff0c\u6b64\u79cd\u7c7b\u578b\u7684\u4ee4\u724c\u5b58\u5728\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7528\u6765\u4fdd\u5b58\u7528\u6237\u7684Credential\uff0c\u53ef\u4ee5\u57fa\u4e8e\u6b64\u4ee4\u724c\u83b7\u53d6\u6709\u786e\u5b9a\u8bbf\u95ee\u8303\u56f4\u7684\u7684\u4ee4\u724c\uff08scoped token\uff09\u3002 Catalog\uff1acatalog\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u670d\u52a1\u7684\u67e5\u8be2\u76ee\u5f55\uff0c\u6216\u8005\u8bf4\u662f\u6bcf\u4e2a\u670d\u52a1\u7684\u53ef\u8bbf\u95eeEndpoint\u5217\u8868\u3002\u670d\u52a1\u76ee\u5f55\u5b58\u5728\u6240\u6709\u670d\u52a1\u7684Endpoint\u4fe1\u606f\uff0c\u670d\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u8bbf\u95ee\u9996\u5148\u9700\u8981\u83b7\u53d6\u5230\u8be5\u8d44\u6e90\u7684Endpoint\u4fe1\u606f\uff0c\u901a\u5e38\u662f\u4e00\u4e9bURl\u5217\u8868\u3002\u670d\u52a1\u76ee\u5f55\u5b58\u6709\u6240\u6709\u670d\u52a1\u7684Endpoint\u4fe1\u606f\uff0c\u670d\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u8bbf\u95ee\u9996\u5148\u8981\u4ece\u670d\u52a1\u76ee\u5f55\u4e0a\u83b7\u53d6\u5230\u8be5\u8d44\u6e90\u7684Endpoint\u4fe1\u606f\u3002keyStone\u63d0\u4f9b\u7684\u662f\u5177\u6709\u8bbf\u95ee\u8303\u56f4\u7684\u4ee4\u724c\u540c\u65f6\u8fd4\u56de\u7ed9\u7528\u6237\uff0c Policy\uff1a\u4e00\u4e2a\u57fa\u4e8e\u89c4\u5219\u7684\u8eab\u4efd\u8ba4\u8bc1\u5f15\u64ce\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u5b9a\u4e49\u5404\u79cd\u52a8\u4f5c\u4e0e\u7528\u6237\u89d2\u8272\u7684\u5339\u914d\u5173\u7cfb\u3002 KeyStone\u7684\u8bbf\u95ee\u6d41\u7a0b\uff1a \u00b6 KeyStone\u5728\u7528\u6237\u548c\u670d\u52a1\u4e4b\u95f4\u67b6\u8d77\u4e86\u4e00\u9053\u6865\u6881\uff1a\u7528\u6237\u4eceKeyStone\u83b7\u53d6\u4ee4\u724c\u4ee5\u53ca\u670d\u52a1\u5217\u8868\uff1b\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u65f6\uff0c\u53d1\u9001\u81ea\u5df1\u7684\u4ee4\u724c\uff1b\u76f8\u5173\u7684\u670d\u52a1\u5411KeyStone\u6c42\u8bc1\u4ee4\u724c\u7684\u5408\u6cd5\u6027\u3002 \u4e0b\u9762\u4ee5\u521b\u5efa\u865a\u62df\u673a\u4e3a\u4f8b\u5411\u5927\u5bb6\u91cd\u65b0\u63cf\u8ff0\u8fd9\u4e2a\u6d41\u7a0b\uff1a \u00b6 1.\u7528\u6237\u53d1\u9001\u81ea\u5df1\u7684\u51ed\u8bc1\u5230keystone\uff0ckeystone\u8ba4\u8bc1\u6210\u529f\u4e4b\u540e\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2aunscoped token\u4ee5\u53ca\u670d\u52a1\u76ee\u5f55\u3002 2.\u7528\u6237\u901a\u8fc7unscoped token\u5411keystone\u67e5\u8be2\u5f53\u524d\u73af\u5883\u4e0b\u7684\u9879\u76ee\u5217\u8868\uff0ckeystone\u8fdb\u884c\u9a8c\u8bc1token\u6210\u529f\u540e\u8fd4\u56de\u4e00\u4e2a\u9879\u76ee\u5217\u8868\u7ed9\u7528\u6237\u3002 3.\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u9879\u76ee\uff0c\u53d1\u9001\u81ea\u5df1\u7684\u51ed\u8bc1\u7ed9keyston\u7533\u8bf7\u4e00\u4e2ascoped token\uff0cKeystone\u9a8c\u8bc1\u5b8c\u6210\u540e\u8fd4\u56de\u4e00\u4e2ascoped token. 4.\u7528\u6237\u51ed\u501fscoped token\u53d1\u9001\u8bf7\u6c42\u5230\u8ba1\u7b97\u670d\u52a1\u7684Endpoint\u521b\u5efa\u865a\u62df\u673a\uff0ckeystone\u9a8c\u8bc1scoped token\u6210\u529f\u540e\uff0c\u518d\u628a\u8bf7\u6c42\u53d1\u9001\u7ed9Nova\uff0c\u6700\u7ec8\u521b\u5efa\u865a\u62df\u673a\u3002 keystone\u67b6\u6784 \u00b6","title":"OpenStack  \u5206\u4eab\u7bc78 Keystone"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone","text":"https://www.openstack.org/software/project-navigator/openstack-components#openstack-services","title":"KeyStone"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone_1","text":"keyStone\u662fOpenStack\u4e2d\u8d1f\u8d23\u7ba1\u7406\u8eab\u4efd\u670d\u52a1\uff08Identity Service\uff09\uff0c\u5373KeyStone\uff0c\u662fOpenStack\u65e9\u671f\u7248\u672c\u5c31\u72ec\u7acb\u51fa\u6765\u7684\u4e00\u4e2a\u6838\u5fc3\u9879\u76ee\uff0c\u5728OpenStack\u7684\u6574\u4f53\u6846\u67b6\u4e2d\uff0cKeyStone\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u670d\u52a1\u603b\u7ebf\uff0c\u5c06Nova\uff0cCinder\uff0cHorzion\uff0cSwift\uff0cGlance\u4ee5\u53caNeutron\u7b49\u5176\u4ed6\u670d\u52a1\u9010\u6e10\u90fd\u901a\u8fc7KeyStone\u6765\u6ce8\u518c\u5176\u670d\u52a1\u7684Endpoint\uff08\u8bbf\u95ee\u670d\u52a1\u7684url\uff09\uff0c\u8fd9\u4e9b\u670d\u52a1\u7531KeyStone\u4f53\u7cbe\u8eab\u4efd\u8ba4\u8bc1\u4e4b\u540e\uff0c\u624d\u80fd\u83b7\u5f97\u8be5\u670d\u52a1\u7684Endpoint\u6765\u8fdb\u884c\u8bbf\u95ee\u3002","title":"\u4ec0\u4e48\u662fkeyStone"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone-architecture","text":"KeyStone\u7684\u4e2d\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5 https://docs.openstack.org/keystone/latest/getting-started/architecture.html Service\uff1a\u670d\u52a1\uff1b\u6bd4\u5982Nova\uff1bCinder\uff0cGlance\uff1bSwift\u7b49\uff0c\u6839\u636eUser\uff0cTenant\u548cRole\u4e00\u4e2a\u670d\u52a1\u53ef\u4ee5\u786e\u8ba4\u5f53\u524d\u7528\u6237\u540d\u662f\u5426\u5177\u6709\u8bbf\u95ee\u5176\u8d44\u6e90\u7684\u6743\u9650\u3002\u670d\u52a1\u5bf9\u5916\u66b4\u9732\u4e00\u4e2aEndpoint\uff0c\u7528\u6237\u53ea\u6709\u901a\u8fc7\u8fd9\u4e9bEndpoint\u624d\u80fd\u5bf9\u8fd9\u4e9b\u670d\u52a1\u8fdb\u884c\u8bbf\u95ee\u3002\u4f7f\u7528\u8eab\u4efd\u670d\u52a1\u9a8c\u8bc1user/project.\u521b\u5efa\u4e00\u4e2atoken\u5728\u6210\u529f\u540e\u8fd4\u56de\u8fd9\u4e2atoken\u3002 Identity\uff1a\u8eab\u4efd\u670d\u52a1\uff1b\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\u51ed\u8bc1\u4ee5\u53ca\u76f8\u5173\u7684user/group\u7684\u6570\u636e\u4fe1\u606f\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff1b\u6b64\u6570\u636e\u7531Identity Service\u8fdb\u884c\u7ba1\u7406\uff0c\u5728\u590d\u6742\u573a\u666f\u4e0b\u6570\u636e\u7531Endpoint Service\u8fdb\u884c\u7ba1\u7406\u3002\u4f8b\u5982\u5728keyStone\u4f5c\u4e3aLDAP\uff08 \u8f7b\u578b\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae \uff08 \u82f1\u6587 \uff1a Lightweight Directory Access Protocol \uff0c \u7f29\u5199 \uff1a LDAP \uff0c/\u02c8\u025bld\u00e6p/\uff09\u662f\u4e00\u4e2a\u5f00\u653e\u7684\uff0c\u4e2d\u7acb\u7684\uff0c\u5de5\u4e1a\u6807\u51c6\u7684 \u5e94\u7528\u534f\u8bae \uff0c\u901a\u8fc7 IP\u534f\u8bae \u63d0\u4f9b\u8bbf\u95ee\u63a7\u5236\u548c\u7ef4\u62a4\u5206\u5e03\u5f0f\u4fe1\u606f\u7684\u76ee\u5f55\u4fe1\u606f\u3002\uff09\u7684\u524d\u7aef\u65f6\uff0cKeyStone\u4ec5\u4ec5\u8d1f\u8d23\u4f20\u9012\u6d88\u606f\u7ed9LDAP\uff0c\u6b64\u65f6LDAP\u624d\u662f\u4e8b\u5b9e\u4e0a\u7684\u6e90\u5934\u3002 Users\uff1a\u7528\u6237\uff1b\u4ee3\u8868\u5355\u4e2aAPI\u7684\u4f7f\u7528\u8005\uff0c\u7528\u6237\u672c\u8eab\u5fc5\u987b\u7531\u7279\u5b9a\u7684\u57df\u6240\u6301\u6709\uff0c\u56e0\u6b64\u6240\u6709\u7528\u6237\u540d\u4e0d\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u800c\u4ec5\u4ec5\u662f\u5176\u6240\u5c5e\u7684\u57df\u7684\u552f\u4e00\u3002\u901a\u8fc7KeyStone\u8bbf\u95eeOpenStack\u670d\u52a1\u7684\u4e2a\u4eba\uff0c\u7cfb\u7edf\u6216\u8005\u662f\u67d0\u4e2a\u670d\u52a1\uff0cKeyStone\u4f1a\u901a\u8fc7\u8ba4\u8bc1\u4fe1\u606f\uff08Credential\uff0c\u6bd4\u5982\u5bc6\u7801\u7b49\uff09\u9a8c\u8bc1\u7528\u6237\u8bf7\u6c42\u7684\u5408\u6cd5\u6027\uff0c\u901a\u8fc7\u9a8c\u8bc1\u7684\u7528\u6237\u4f1a\u88ab\u5206\u914d\u5230\u4e00\u4e2a\u7279\u5b9a\u7684\u4ee4\u724c\uff0c\u8be5\u4ee4\u724c\u53ef\u4ee5\u7528\u4f5c\u5bf9\u540e\u7eed\u8d44\u6e90\u8bbf\u95ee\u7684\u4e00\u4e2a\u901a\u884c\u8bc1\u3002 Group\uff1a\u7ec4\uff1b\u4ee3\u8868\u7684\u662f\u7528\u6237\u96c6\u5408\u7684\u5bb9\u5668\u3002\u7ec4\u672c\u8eab\u5fc5\u987b\u7531\u7279\u5b9a\u7684\u57df\u6240\u6301\u6709\uff0c\u7ec4\u4e0d\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u4ec5\u4ec5\u662f\u5176\u6240\u5c5e\u7684\u57df\u7684\u552f\u4e00\u3002\u53ef\u4ee5\u5411Group\u4e2d\u6dfb\u52a0\u7528\u6237\uff0c\u5e76\u76f4\u63a5\u5411Group\u5206\u914d\u89d2\u8272\uff0c\u90a3\u4e48\u5728Group\u4e2d\u7684\u7528\u6237\u81ea\u52a8\u7ee7\u627f\u5bf9Group\u6dfb\u52a0\u7684\u89d2\u8272\uff0c\u901a\u8fc7\u5f15\u5165Group\u7684\u6982\u5ff5\uff0c\u80fd\u591f\u5b9e\u73b0\u5bf9\u7528\u6237\u7ec4\u7684\u7ba1\u7406\uff0c\u80fd\u591f\u4f7f\u5f97KeyStone\u540c\u65f6\u7ba1\u7406\u4e00\u7ec4\u7528\u6237\u7684\u6743\u9650\u3002 Resource\uff1a\u8d44\u6e90\uff1b\u8d1f\u8d23\u63d0\u4f9b\u6709\u5173project\u548cDomain\u7684\u6570\u636e\u4fe1\u606f\u3002 Projects\uff1a\u9879\u76ee\uff1b\u9879\u76ee\u662f\u5404\u4e2a\u670d\u52a1\u4e2d\u7684\u4e00\u4e9b\u53ef\u4ee5\u8bbf\u95ee\u7684\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4f8b\u5982\u5728Nova\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06project\u7406\u89e3\u4e3a\u4e00\u7ec4\u865a\u62df\u673a\u7684\u62e5\u6709\u8005\uff0c\u5728Swift\u4e2d\u5219\u662f\u4e00\u7ec4\u5bb9\u5668\u7684\u62e5\u6709\u8005\u3002\u56e0\u6b64\u5728\u521b\u5efa\u865a\u62df\u673a\u6216\u8005\u5bb9\u5668\u662f\u9700\u8981\u6307\u5b9a\u4ed6\u4eec\u6240\u5c5e\u7684project\uff0c\u5426\u5219\u4f1a\u5c06\u521b\u5efa\u7684\u865a\u62df\u673a\u6216\u8005\u5bb9\u5668\u6dfb\u52a0\u5230\u9ed8\u8ba4\u7684\u9879\u76ee\u4e0b\u3002user\u603b\u662f\u7ed1\u5b9a\u5728\u67d0\u4e9bproject\u4e0a\u7684\uff0c\u7528\u6237\u5728\u8bbf\u95eeproject\u6240\u5c5e\u7684\u8d44\u6e90\u524d\uff0c\u5fc5\u987b\u5177\u6709\u5bf9\u8be5project\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u6216\u8005\u8bf4\u5728\u7279\u5b9a\u7684project\u4e0b\u8d4b\u4e88\u4e86\u7279\u5b9a\u7684\u89d2\u8272\u3002project\u4e0d\u662f\u5168\u5c40\u552f\u4e00\uff0c\u4ec5\u5728\u5b83\u6240\u5c5e\u7684Domain\u4e2d\u552f\u4e00\u5373\u53ef\u3002 Domain\uff1a\u57df\u3002KeyStone\u662f\u4e00\u4e2a\u865a\u62df\u7684\u6982\u5ff5\uff0c\u7531\u7279\u5b9a\u7684\u9879\u76ee\uff08Project\uff09\u6765\u627f\u62c5\u3002\u4e00\u4e2aDomain\u662f\u4e00\u7ec4user,project\u6216\u8005Group\u7684\u5bb9\u5668\uff0c\u4e00\u4e2aDomain\u5bf9\u5e94\u4e00\u4e2a\u5927\u7684\u673a\u6784\uff0c\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\uff0c\u6240\u4ee5Domain\u662f\u5168\u5c40\u552f\u4e00\u7684\u3002\u4e91\u670d\u52a1\u7684\u5ba2\u6237\u662fDomain\u7684\u62e5\u6709\u8005\uff0c\u4ed6\u4eec\u53ef\u4ee5\u5728\u81ea\u5df1\u7684Domain\u4e0a\u4efb\u610f\u7684\u521b\u5efaProject\uff0cUser\uff0cGroup\u548cRoles\u3002\u901a\u8fc7\u5f15\u5165Domain\u4e91\u670d\u52a1\u7684\u5ba2\u6237\u53ef\u4ee5\u5bf9\u5176\u6240\u62e5\u6709\u7684\u591a\u4e2aProject\u8fdb\u884c\u7ba1\u7406\uff0c\u800c\u4e0d\u5fc5\u9488\u5bf9\u5355\u4e00\u7684Project\u8fdb\u884c\u5206\u522b\u7ba1\u7406\u3002 \u200b \u57df\u540d\uff1a\u5728\u6240\u6709\u57df\u4e2d\u56fd\u90fd\u662f\u5168\u7403\u552f\u4e00\u7684 \u200b Roles\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 \u200b user:\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00\u3002 \u200b project\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 \u200b group\uff1a\u5728\u6240\u5c5e\u57df\u4e2d\u552f\u4e00 Assigment Roles\uff1a\u89d2\u8272\uff1b\u4e00\u4e2a\u7528\u6237\u6240\u5177\u6709\u7684\u89d2\u8272\uff0c\u89d2\u8272\u4e0d\u540c\u610f\u5473\u7740\u6743\u9650\u4e0d\u540c\u3002\u7528\u6237\u6240\u62e5\u6709\u7684\u89d2\u8272\u51b3\u5b9a\u4e86\u4ed6\u6240\u80fd\u8bbf\u95ee\u8d44\u6e90\u7684\u6743\u9650\uff1b\u80fd\u591f\u8bbf\u95ee\u54ea\u4e9b\u8d44\u6e90\uff0c\u80fd\u5bf9\u54ea\u4e9b\u8d44\u6e90\u8fdb\u884c\u7ba1\u7406\u3002\u4e00\u4e2a\u7528\u80fd\u53ef\u4ee5\u88ab\u8d4b\u4e88\u4e00\u4e2adomain\u6216\u8005project\u7684\u89d2\u8272\u3002\u4e00\u4e2a\u88ab\u8d4b\u4e88Domain\u7684Role\u5219\u88ab\u8ba4\u5b9a\u5bf9\u8fd9\u4e2aDomain\u4e2d\u7684\u6240\u6709Project\u90fd\u5177\u6709\u76f8\u540c\u7684\u89d2\u8272\u3002\u540c\u6837\u7684\u4e00\u4e2a\u88ab\u8d4b\u4e88Project\u7684\u6a58\u8272\u90a3\u4e48\u5b83\u5c06\u5bf9\u8fd9\u4e2aProject\u5177\u6709\u6743\u9650\u3002Roles\u80fd\u591f\u8fdb\u884c\u7ee7\u627f\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u4e00\u4e2a\u9879\u76ee\u6811\u5185\u5047\u8bbeRole\u5bf9\u6811\u6839\u6709\u6743\u9650\uff0c\u90a3\u4e48\u4ed6\u4fbf\u5bf9\u6240\u4ee5\u7684project\u6709\u6743\u9650\u3002 Role Assignment Token\uff1a\u4ee4\u724c\u3002\u4ee4\u724c\u662f\u5141\u8bb8\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u51ed\u8bc1\u3002\u65e0\u8bba\u901a\u8fc7\u4f55\u79cd\u65b9\u5f0f\uff0cKeyStone\u6700\u7ec8\u7684\u76ee\u7684\u662f\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u51ed\u8bc1\u3002\u7528\u6237\u901a\u8fc7Credential\u83b7\u53d6\u5728\u67d0\u4e2a\u9879\u76ee\u4e0b\u7684\u4ee4\u724c\u3002 Catalog\uff1a\u63d0\u4f9b\u7528\u4e8e\u7aef\u70b9\u53d1\u73b0\u7684\u6ce8\u518c\u8868 Credentials:\u51ed\u8bc1\u3002\u7528\u6237\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002","title":"KeyStone Architecture"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#domainprojectusergrouprole","text":"","title":"Domain;Project;user;Group;Role\u793a\u610f\u56fe"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone_2","text":"\u57fa\u4e8e\u4e0a\u6587\u5bf9KeyStone\u7684\u4ecb\u7ecd\uff1bKeyStoen\u4e3b\u8981\u6709Authentication\uff08\u8ba4\u8bc1\uff09\uff1bToken(\u4ee4\u724c)\uff1bCatalog\uff08\u76ee\u5f55\uff09\u548cpolicy\uff08\u5b89\u5168\u7b56\u7565\uff1b\u6216\u79f0\u4e3a\u8bbf\u95ee\u63a7\u5236\uff094\u4e2a\u6838\u5fc3\u529f\u80fd\u3002 Authentication\uff1a\u5bf9\u7528\u6237\u8eab\u4efd\u8fdb\u884c\u9a8c\u8bc1\uff0c\u7528\u6237\u7684\u8eab\u4efd\u51ed\u8bc1\u901a\u5e38\u662f\u4ee5\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u65b9\u5f0f\u5448\u73b0\u3002\u8ba4\u8bc1\u670d\u52a1\u540c\u65f6\u63d0\u4f9b\u4e86\u4e0e\u8be5\u7528\u6237\u76f8\u5173\u7684\u5143\u6570\u636e\uff0c\u4f8b\u5982\u7528\u6237\u7684\u9879\u76ee\u89d2\u8272\u3002 Token\uff1a\u786e\u8ba4\u7528\u6237\u7684\u8eab\u4efd\u4e4b\u540e\uff0c\u4f1a\u63d0\u4f9b\u7ed9\u7528\u6237\u4e00\u4e2a\u6838\u5b9e\u8be5\u8eab\u4efd\u5e76\u7528\u4e8e\u540e\u7eed\u8d44\u6e90\u8bbf\u95ee\u8bf7\u6c42\u7684\u4ee4\u724c\u3002Token\u670d\u52a1\u5219\u9a8c\u8bc1\u5e76\u7ba1\u7406\u7528\u4e8e\u9a8c\u8bc1\u8eab\u4efd\u7684\u4ee4\u724c\u3002KeyStone\u4f1a\u9881\u53d1\u7ed9\u901a\u8fc7\u8ba4\u8bc1\u670d\u52a1\u7684\u7528\u6237\u4e24\u79cd\u7c7b\u578b\u7684\u4ee4\u724c\u3002 \u200b \u4e00\u7c7b\u662f\u65e0\u660e\u786e\u8bbf\u95ee\u8303\u56f4\u7684\u4ee4\u724c\uff08unscoped token\uff09\uff0c\u6b64\u79cd\u7c7b\u578b\u7684\u4ee4\u724c\u5b58\u5728\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7528\u6765\u4fdd\u5b58\u7528\u6237\u7684Credential\uff0c\u53ef\u4ee5\u57fa\u4e8e\u6b64\u4ee4\u724c\u83b7\u53d6\u6709\u786e\u5b9a\u8bbf\u95ee\u8303\u56f4\u7684\u7684\u4ee4\u724c\uff08scoped token\uff09\u3002 Catalog\uff1acatalog\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u670d\u52a1\u7684\u67e5\u8be2\u76ee\u5f55\uff0c\u6216\u8005\u8bf4\u662f\u6bcf\u4e2a\u670d\u52a1\u7684\u53ef\u8bbf\u95eeEndpoint\u5217\u8868\u3002\u670d\u52a1\u76ee\u5f55\u5b58\u5728\u6240\u6709\u670d\u52a1\u7684Endpoint\u4fe1\u606f\uff0c\u670d\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u8bbf\u95ee\u9996\u5148\u9700\u8981\u83b7\u53d6\u5230\u8be5\u8d44\u6e90\u7684Endpoint\u4fe1\u606f\uff0c\u901a\u5e38\u662f\u4e00\u4e9bURl\u5217\u8868\u3002\u670d\u52a1\u76ee\u5f55\u5b58\u6709\u6240\u6709\u670d\u52a1\u7684Endpoint\u4fe1\u606f\uff0c\u670d\u52a1\u4e4b\u95f4\u7684\u8d44\u6e90\u8bbf\u95ee\u9996\u5148\u8981\u4ece\u670d\u52a1\u76ee\u5f55\u4e0a\u83b7\u53d6\u5230\u8be5\u8d44\u6e90\u7684Endpoint\u4fe1\u606f\u3002keyStone\u63d0\u4f9b\u7684\u662f\u5177\u6709\u8bbf\u95ee\u8303\u56f4\u7684\u4ee4\u724c\u540c\u65f6\u8fd4\u56de\u7ed9\u7528\u6237\uff0c Policy\uff1a\u4e00\u4e2a\u57fa\u4e8e\u89c4\u5219\u7684\u8eab\u4efd\u8ba4\u8bc1\u5f15\u64ce\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u5b9a\u4e49\u5404\u79cd\u52a8\u4f5c\u4e0e\u7528\u6237\u89d2\u8272\u7684\u5339\u914d\u5173\u7cfb\u3002","title":"KeyStone\u7684\u529f\u80fd"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone_3","text":"KeyStone\u5728\u7528\u6237\u548c\u670d\u52a1\u4e4b\u95f4\u67b6\u8d77\u4e86\u4e00\u9053\u6865\u6881\uff1a\u7528\u6237\u4eceKeyStone\u83b7\u53d6\u4ee4\u724c\u4ee5\u53ca\u670d\u52a1\u5217\u8868\uff1b\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u65f6\uff0c\u53d1\u9001\u81ea\u5df1\u7684\u4ee4\u724c\uff1b\u76f8\u5173\u7684\u670d\u52a1\u5411KeyStone\u6c42\u8bc1\u4ee4\u724c\u7684\u5408\u6cd5\u6027\u3002","title":"KeyStone\u7684\u8bbf\u95ee\u6d41\u7a0b\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#_1","text":"1.\u7528\u6237\u53d1\u9001\u81ea\u5df1\u7684\u51ed\u8bc1\u5230keystone\uff0ckeystone\u8ba4\u8bc1\u6210\u529f\u4e4b\u540e\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2aunscoped token\u4ee5\u53ca\u670d\u52a1\u76ee\u5f55\u3002 2.\u7528\u6237\u901a\u8fc7unscoped token\u5411keystone\u67e5\u8be2\u5f53\u524d\u73af\u5883\u4e0b\u7684\u9879\u76ee\u5217\u8868\uff0ckeystone\u8fdb\u884c\u9a8c\u8bc1token\u6210\u529f\u540e\u8fd4\u56de\u4e00\u4e2a\u9879\u76ee\u5217\u8868\u7ed9\u7528\u6237\u3002 3.\u7528\u6237\u9009\u62e9\u4e00\u4e2a\u9879\u76ee\uff0c\u53d1\u9001\u81ea\u5df1\u7684\u51ed\u8bc1\u7ed9keyston\u7533\u8bf7\u4e00\u4e2ascoped token\uff0cKeystone\u9a8c\u8bc1\u5b8c\u6210\u540e\u8fd4\u56de\u4e00\u4e2ascoped token. 4.\u7528\u6237\u51ed\u501fscoped token\u53d1\u9001\u8bf7\u6c42\u5230\u8ba1\u7b97\u670d\u52a1\u7684Endpoint\u521b\u5efa\u865a\u62df\u673a\uff0ckeystone\u9a8c\u8bc1scoped token\u6210\u529f\u540e\uff0c\u518d\u628a\u8bf7\u6c42\u53d1\u9001\u7ed9Nova\uff0c\u6700\u7ec8\u521b\u5efa\u865a\u62df\u673a\u3002","title":"\u4e0b\u9762\u4ee5\u521b\u5efa\u865a\u62df\u673a\u4e3a\u4f8b\u5411\u5927\u5bb6\u91cd\u65b0\u63cf\u8ff0\u8fd9\u4e2a\u6d41\u7a0b\uff1a"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/#keystone_4","text":"","title":"keystone\u67b6\u6784"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/","text":"Ironci\u662f\u4ec0\u4e48 \u00b6 https://docs.openstack.org/ironic/latest/user/index.html \u4e91\u8ba1\u7b97\u6280\u672f\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u540c\u6837\u5e26\u52a8\u4e86\u865a\u62df\u5316\u6280\u672f\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u4e91\u8ba1\u7b97\u548c\u865a\u62df\u5316\u7684\u53d1\u5c55\u662f\u4e00\u4e2a\u76f8\u4e92\u4fc3\u8fdb\u7684\u8fc7\u7a0b\u3002\u865a\u62df\u673a\u7684\u7279\u6027\u5f88\u597d\u7684\u5207\u5408\u4e86\u4e91\u8ba1\u7b97\u7684\u9700\u6c42\uff0c\u5728\u88f8\u673a\u4e0a\u90e8\u7f72\u548c\u8fd0\u884c\u5de5\u4f5c\u8d1f\u8f7d\u7684\u65b9\u5f0f\u4f3c\u4e4e\u4e0d\u518d\u662f\u4e3b\u6d41\u4e86\uff0c\u4f46\u662f\u5728\u5c06\u5de5\u4f5c\u8d1f\u8f7d\u5f80\u4e91\u7aef\u8fdb\u884c\u8fc1\u79fb\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u53d1\u73b0\u5728\u88f8\u673a\u4e0a\u8fd0\u884c\u8d1f\u8f7d\u7684\u65b9\u5f0f\u540c\u6837\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u200b \u9ad8\u6027\u80fd\u8ba1\u7b97\uff1a\u91c7\u7528\u7269\u7406\u673a\u76f4\u63a5\u8fd0\u884c\u8d1f\u8f7d\u53ef\u4ee5\u51cf\u5c11\u7531\u865a\u62df\u5316\u5c42\u5e26\u6765\u7684\u5f00\u9500\uff0c\u63d0\u9ad8IO\u7684\u8d1f\u8f7d\u80fd\u529b\u3002 \u200b \u9700\u8981\u7528\u5230\u7269\u7406\u8bbe\u5907\u8d44\u6e90\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u8fd9\u4e9b\u7269\u7406\u8d44\u6e90\u4e0d\u80fd\u88ab\u865a\u62df\u5316\u3002 \u200b \u6570\u636e\u5e93\u5e94\u7528\uff1a\u6570\u636e\u5e93\u670d\u52a1\u5bf9\u7cfb\u7edf\u7684IO\u8981\u6c42\u8f83\u9ad8\uff0c\u5728\u865a\u62df\u5316\u73af\u5883\u4e0a\u8fd0\u884c\u4f1a\u5bf9\u6027\u80fd\u5e26\u6765\u4e00\u5b9a\u7684\u5f71\u54cd \u200b \u88f8\u673a\u6258\u7ba1\uff1a\u5ba2\u6237\u628a\u81ea\u5df1\u7684\u7269\u7406\u673a\u653e\u5230\u4e91\u670d\u52a1\u5546\u7684\u4e91\u73af\u5883\u4e2d\uff0c\u9700\u8981\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u80fd\u591f\u63d0\u4f9b\u6258\u7ba1\u88f8\u673a \u200b \u63d0\u4f9b\u5feb\u901f\u90e8\u7f72\u4e91\u57fa\u7840\u67b6\u6784\u7684\u80fd\u529b\u3002 \u200b \u6df7\u5408\u4e91\u7684\u5feb\u901f\u53d1\u5c55\u4f7f\u5f97\u4e91\u73af\u5883\u4e2d\u5bf9\u865a\u62df\u673a\u548c\u7269\u7406\u673a\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u9700\u8981\u7edf\u4e00\u7684\u63a5\u53e3\uff0cSoftLayer\uff0cOracle\u7b49\u4e91\u73af\u5883\u5df2\u7ecf\u5b9e\u73b0\u4e86\u5bf9\u88f8\u673a\u7684\u4e91\u7ba1\u7406\u3002 \u5177\u6709\u8bbd\u523a\u610f\u5473\u7684\u662f\uff0cIronic\u4f5c\u4e3a\u4e00\u4e2aOpenStack\u9879\u76ee\uff0c\u4ed6\u63d0\u4f9b\u88f8\u673a\uff08\u800c\u4e0d\u662f\u865a\u62df\u673a\uff09\u4ed6\u53ef\u4ee5\u96c6\u6210\u5230OpenSatck\u4e2d\u4f5c\u4e3aOpenStack\u4e91\u4e2d\u7684\u4e00\u90e8\u5206\u4f7f\u7528\uff0c\u5e76\u4e0eOpenStack\u4e2d\u7684\u5404\u4e2a\u9879\u76eekeyStone\uff0cNova\uff0cNeutron\uff0cSwift\u7b49\u534f\u540c\u5de5\u4f5c\u3002 Ironic System Architectural \u00b6 Ironic\u6bcf\u4e2a\u4ea4\u4e92\u7684\u7c7b\u578b\u90fd\u662f\u5b9e\u9645\u786c\u4ef6\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u7535\u6e90\uff0c\u542f\u52a8\uff0c\u90e8\u7f72\u7b49\u3002\u6839\u636e\u7269\u7406\u786c\u4ef6\u7684\u4e0d\u540c\uff0cIronic\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9a71\u52a8\u7684\u6846\u67b6\u6765\u8fdb\u884c\u652f\u6301\u3002\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u7684\u9a71\u52a8\u6709PXE-IPMITool\uff0cPXE-IPMINative\uff0cPXE-SSH\u7b49 Ironic-API\u901a\u8fc7RPC\u4e0eIronic-Conductor\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002Ironic-API\u7684\u6267\u884c\u8fc7\u7a0b\u4e0e\u4f7f\u7528\u65b9\u5f0f\u4e0e\u4e4b\u524d\u7684OpenStack\u4e2d\u7684\u5176\u4ed6\u7ec4\u4ef6\u5341\u5206\u7c7b\u4f3c\u3002Conductor\u7684\u4f7f\u7528\u7406\u5ff5\u51e0\u4e4e\u8131\u80ce\u4e8eNova-Conductor\u670d\u52a1\uff0c\u7528\u6237\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\u548c\u5b8c\u6210\u590d\u6742\u6d41\u7a0b\u7684\u63a7\u5236\u3002 Ironic\u63a5\u6536\u5230\u7528\u6237\u7684RESTful\u8bf7\u6c42\u540e\u901a\u8fc7RPC\u4e0eIronic-Conductor\u53ea\u89c1\u90a3\u8fdb\u884c\u901a\u4fe1\uff0c\u7531Conductor\u5b8c\u6210\u590d\u6742\u6d41\u7a0b\u7684\u63a7\u5236\u3002Conductor\u4f1a\u6839\u636e\u914d\u7f6e\u9700\u6c42\u8c03\u7528\u4e0d\u540c\u7684\u9a71\u52a8\uff0c\u6bd4\u5982\u4f7f\u7528PXE\u5b8c\u6210\u771f\u6b63\u7684\u90e8\u7f72\u3002 Ironic\u670d\u52a1\u6709\u4ee5\u4e0b\u4e24\u79cd\u4f7f\u7528\u6a21\u5f0f \u200b \u548cNova\u670d\u52a1\u4e00\u8d77\uff0c\u4f5c\u4e3aNova\u7684\u4e00\u4e2avirtDriver\u6765\u4f7f\u7528\uff0cNova\u628a\u88f8\u673a\u5f53\u6210\u662f\u4e00\u4e2a\u865a\u62df\u673a\u6765\u4f7f\u7528\u3002\u5229\u7528Nova\u670d\u52a1\u4e2d\u7684\u591a\u79df\u6237\uff0c\u8c03\u5ea6\uff0c\u914d\u989d\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u6784\u6210\u771f\u6b63\u7684\u903b\u8f91\u4e91\u3002 \u200b Standalong\u5355\u72ec\u4f7f\u7528\u6a21\u5f0f\uff0c\u6ca1\u6709\u591a\u79df\u6237\uff0c\u6ca1\u6709\u8c03\u5ea6\uff0c\u6ca1\u6709\u914d\u989d\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u66f4\u591a\u7684\u662f\u4e00\u79cd\u903b\u8f91\u7684\u4e91\u90e8\u7f72\u5de5\u5177\u3002 Nova-API\u53d1\u51faboot Instance\u7684\u8bf7\u6c42\uff0cNova-Scheduler\u901a\u8fc7\u6d88\u606f\u961f\u5217\u62ff\u5230\u8fd9\u4e2a\u8bf7\u6c42 Nova-Scheduler\u7b5b\u9009\u51fa\u5408\u9002\u7684\u88f8\u8282\u70b9\uff1bNova-Compute\u6839\u636eNova-Scheduler\u7b5b\u9009\u51fa\u6765\u7684\u88f8\u8282\u70b9\uff0c\u901a\u8fc7Nova-Compute\u8c03\u5ea6Ironic-virtDriver\u542f\u52a8\u4e00\u4e2a\u4efb\u52a1\uff0c\u901a\u8fc7Ironic-API\u67e5\u627e\u8be5\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u9884\u7559\u51fa\u8be5\u8282\u70b9 \u5c06\u8bf7\u6c42\u7684Image\u4eceGlance\u4e0a\u4e0b\u8f7d\u4e0b\u6765\u4fdd\u5b58\u65e9Ironic Conductor\u7684\u672c\u5730\u78c1\u76d8 \u8c03\u7528Neutron-API\u6765\u505a\u7f51\u5361\u7ed1\u5b9a\u5e76\u8bbe\u7f6eNeutron\u4e2d\u7684DHCP\u7aef\u53e3\u6765\u652f\u6301PEX/TFTP\u670d\u52a1 Ironic virtDriver\u901a\u8fc7Ironic API\u53d1\u51fa\u90e8\u7f72\u8bf7\u6c42\u7ed9Ironic Conductor Ironic Conductor\u8c03\u5ea6\u76f8\u5e94\u7684\u9a71\u52a8\u6765\u5b8c\u6210\u90e8\u7f72\u3002 Ironic Driver \u00b6 \u6839\u636e\u4e0d\u540c\u7684\u786c\u4ef6\uff0c\u76ee\u6807\u673a\u54fc\u591f\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\uff0cIronic\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9a71\u52a8\u6846\u67b6\u6765\u8fdb\u884c\u652f\u6301\uff0c\u6bcf\u79cd\u9a71\u52a8\u57fa\u672c\u90fd\u8981\u5b9e\u73b0Deploy\uff0cPower\uff0cConsole\u7b49\u51e0\u7c7b\u6838\u5fc3\u529f\u80fd\u3002 Ironic API \u00b6 Ironic API\u662fIronic\u7528\u6765\u63a5\u6536RESTful\u8bf7\u6c42\u7684\u7ec4\u4ef6\uff0c\u5b83\u5305\u542b\u51e0\u4e2a\u6838\u5fc3\u6a21\u5757\u3002 \u200b Chassis\uff1a\u8868\u793a\u4e00\u4e2a\u673a\u67b6\u6216\u8005\u673a\u67dc\uff0c\u4ed6\u662fNode\u7684\u96c6\u5408 \u200b Driver\uff1a\u8868\u793a\u670d\u52a1\u91cc\u9762\u7684\u5404\u79cd\u9a71\u52a8\u8d44\u6e90\uff0c\u5305\u542b\u4e86\u955c\u50cf\u5b89\u88c5\uff0c\u90e8\u7f72\uff0c\u7535\u6e90\u63a7\u5236\u7b49\u3002 \u200b Node\uff1a\u8868\u793a\u6ce8\u518c\u5728Ironic\u4e2d\u7684\u4e00\u4e2a\u7269\u7406\u673a \u200b Port\uff1a\u8868\u793aNeutron\u4e2d\u7684\u7f51\u7edc\u7aef\u53e3\uff0c\u7528\u6765\u7ed1\u5b9a\u7269\u7406\u673a\u5668\u4e0a\u7684\u7f51\u5361\u7aef\u53e3\u3002 Ironic Conductor \u00b6 Ironic API\u901a\u8fc7RPC\u8c03\u7528Ironic Conductor\u6765\u5b8c\u6210\u5b9e\u9645\u7684\u5de5\u4f5c\uff0cIronic\u4f1a\u6839\u636e\u914d\u7f6e\u4ea4\u7ed9\u5177\u4f53\u7684\u9a71\u52a8\uff0c\u6765\u5b8c\u6210\u771f\u6b63\u7684\u90e8\u7f72\u3002","title":"OpenStack  \u5206\u4eab\u7bc79 Ironic"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/#ironci","text":"https://docs.openstack.org/ironic/latest/user/index.html \u4e91\u8ba1\u7b97\u6280\u672f\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u540c\u6837\u5e26\u52a8\u4e86\u865a\u62df\u5316\u6280\u672f\u7684\u5e7f\u6cdb\u5e94\u7528\uff0c\u4e91\u8ba1\u7b97\u548c\u865a\u62df\u5316\u7684\u53d1\u5c55\u662f\u4e00\u4e2a\u76f8\u4e92\u4fc3\u8fdb\u7684\u8fc7\u7a0b\u3002\u865a\u62df\u673a\u7684\u7279\u6027\u5f88\u597d\u7684\u5207\u5408\u4e86\u4e91\u8ba1\u7b97\u7684\u9700\u6c42\uff0c\u5728\u88f8\u673a\u4e0a\u90e8\u7f72\u548c\u8fd0\u884c\u5de5\u4f5c\u8d1f\u8f7d\u7684\u65b9\u5f0f\u4f3c\u4e4e\u4e0d\u518d\u662f\u4e3b\u6d41\u4e86\uff0c\u4f46\u662f\u5728\u5c06\u5de5\u4f5c\u8d1f\u8f7d\u5f80\u4e91\u7aef\u8fdb\u884c\u8fc1\u79fb\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u53d1\u73b0\u5728\u88f8\u673a\u4e0a\u8fd0\u884c\u8d1f\u8f7d\u7684\u65b9\u5f0f\u540c\u6837\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002 \u200b \u9ad8\u6027\u80fd\u8ba1\u7b97\uff1a\u91c7\u7528\u7269\u7406\u673a\u76f4\u63a5\u8fd0\u884c\u8d1f\u8f7d\u53ef\u4ee5\u51cf\u5c11\u7531\u865a\u62df\u5316\u5c42\u5e26\u6765\u7684\u5f00\u9500\uff0c\u63d0\u9ad8IO\u7684\u8d1f\u8f7d\u80fd\u529b\u3002 \u200b \u9700\u8981\u7528\u5230\u7269\u7406\u8bbe\u5907\u8d44\u6e90\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u8fd9\u4e9b\u7269\u7406\u8d44\u6e90\u4e0d\u80fd\u88ab\u865a\u62df\u5316\u3002 \u200b \u6570\u636e\u5e93\u5e94\u7528\uff1a\u6570\u636e\u5e93\u670d\u52a1\u5bf9\u7cfb\u7edf\u7684IO\u8981\u6c42\u8f83\u9ad8\uff0c\u5728\u865a\u62df\u5316\u73af\u5883\u4e0a\u8fd0\u884c\u4f1a\u5bf9\u6027\u80fd\u5e26\u6765\u4e00\u5b9a\u7684\u5f71\u54cd \u200b \u88f8\u673a\u6258\u7ba1\uff1a\u5ba2\u6237\u628a\u81ea\u5df1\u7684\u7269\u7406\u673a\u653e\u5230\u4e91\u670d\u52a1\u5546\u7684\u4e91\u73af\u5883\u4e2d\uff0c\u9700\u8981\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u80fd\u591f\u63d0\u4f9b\u6258\u7ba1\u88f8\u673a \u200b \u63d0\u4f9b\u5feb\u901f\u90e8\u7f72\u4e91\u57fa\u7840\u67b6\u6784\u7684\u80fd\u529b\u3002 \u200b \u6df7\u5408\u4e91\u7684\u5feb\u901f\u53d1\u5c55\u4f7f\u5f97\u4e91\u73af\u5883\u4e2d\u5bf9\u865a\u62df\u673a\u548c\u7269\u7406\u673a\u7684\u90e8\u7f72\u548c\u7ba1\u7406\u9700\u8981\u7edf\u4e00\u7684\u63a5\u53e3\uff0cSoftLayer\uff0cOracle\u7b49\u4e91\u73af\u5883\u5df2\u7ecf\u5b9e\u73b0\u4e86\u5bf9\u88f8\u673a\u7684\u4e91\u7ba1\u7406\u3002 \u5177\u6709\u8bbd\u523a\u610f\u5473\u7684\u662f\uff0cIronic\u4f5c\u4e3a\u4e00\u4e2aOpenStack\u9879\u76ee\uff0c\u4ed6\u63d0\u4f9b\u88f8\u673a\uff08\u800c\u4e0d\u662f\u865a\u62df\u673a\uff09\u4ed6\u53ef\u4ee5\u96c6\u6210\u5230OpenSatck\u4e2d\u4f5c\u4e3aOpenStack\u4e91\u4e2d\u7684\u4e00\u90e8\u5206\u4f7f\u7528\uff0c\u5e76\u4e0eOpenStack\u4e2d\u7684\u5404\u4e2a\u9879\u76eekeyStone\uff0cNova\uff0cNeutron\uff0cSwift\u7b49\u534f\u540c\u5de5\u4f5c\u3002","title":"Ironci\u662f\u4ec0\u4e48"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/#ironic-system-architectural","text":"Ironic\u6bcf\u4e2a\u4ea4\u4e92\u7684\u7c7b\u578b\u90fd\u662f\u5b9e\u9645\u786c\u4ef6\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u7535\u6e90\uff0c\u542f\u52a8\uff0c\u90e8\u7f72\u7b49\u3002\u6839\u636e\u7269\u7406\u786c\u4ef6\u7684\u4e0d\u540c\uff0cIronic\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9a71\u52a8\u7684\u6846\u67b6\u6765\u8fdb\u884c\u652f\u6301\u3002\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u7684\u9a71\u52a8\u6709PXE-IPMITool\uff0cPXE-IPMINative\uff0cPXE-SSH\u7b49 Ironic-API\u901a\u8fc7RPC\u4e0eIronic-Conductor\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002Ironic-API\u7684\u6267\u884c\u8fc7\u7a0b\u4e0e\u4f7f\u7528\u65b9\u5f0f\u4e0e\u4e4b\u524d\u7684OpenStack\u4e2d\u7684\u5176\u4ed6\u7ec4\u4ef6\u5341\u5206\u7c7b\u4f3c\u3002Conductor\u7684\u4f7f\u7528\u7406\u5ff5\u51e0\u4e4e\u8131\u80ce\u4e8eNova-Conductor\u670d\u52a1\uff0c\u7528\u6237\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\u548c\u5b8c\u6210\u590d\u6742\u6d41\u7a0b\u7684\u63a7\u5236\u3002 Ironic\u63a5\u6536\u5230\u7528\u6237\u7684RESTful\u8bf7\u6c42\u540e\u901a\u8fc7RPC\u4e0eIronic-Conductor\u53ea\u89c1\u90a3\u8fdb\u884c\u901a\u4fe1\uff0c\u7531Conductor\u5b8c\u6210\u590d\u6742\u6d41\u7a0b\u7684\u63a7\u5236\u3002Conductor\u4f1a\u6839\u636e\u914d\u7f6e\u9700\u6c42\u8c03\u7528\u4e0d\u540c\u7684\u9a71\u52a8\uff0c\u6bd4\u5982\u4f7f\u7528PXE\u5b8c\u6210\u771f\u6b63\u7684\u90e8\u7f72\u3002 Ironic\u670d\u52a1\u6709\u4ee5\u4e0b\u4e24\u79cd\u4f7f\u7528\u6a21\u5f0f \u200b \u548cNova\u670d\u52a1\u4e00\u8d77\uff0c\u4f5c\u4e3aNova\u7684\u4e00\u4e2avirtDriver\u6765\u4f7f\u7528\uff0cNova\u628a\u88f8\u673a\u5f53\u6210\u662f\u4e00\u4e2a\u865a\u62df\u673a\u6765\u4f7f\u7528\u3002\u5229\u7528Nova\u670d\u52a1\u4e2d\u7684\u591a\u79df\u6237\uff0c\u8c03\u5ea6\uff0c\u914d\u989d\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u6784\u6210\u771f\u6b63\u7684\u903b\u8f91\u4e91\u3002 \u200b Standalong\u5355\u72ec\u4f7f\u7528\u6a21\u5f0f\uff0c\u6ca1\u6709\u591a\u79df\u6237\uff0c\u6ca1\u6709\u8c03\u5ea6\uff0c\u6ca1\u6709\u914d\u989d\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u66f4\u591a\u7684\u662f\u4e00\u79cd\u903b\u8f91\u7684\u4e91\u90e8\u7f72\u5de5\u5177\u3002 Nova-API\u53d1\u51faboot Instance\u7684\u8bf7\u6c42\uff0cNova-Scheduler\u901a\u8fc7\u6d88\u606f\u961f\u5217\u62ff\u5230\u8fd9\u4e2a\u8bf7\u6c42 Nova-Scheduler\u7b5b\u9009\u51fa\u5408\u9002\u7684\u88f8\u8282\u70b9\uff1bNova-Compute\u6839\u636eNova-Scheduler\u7b5b\u9009\u51fa\u6765\u7684\u88f8\u8282\u70b9\uff0c\u901a\u8fc7Nova-Compute\u8c03\u5ea6Ironic-virtDriver\u542f\u52a8\u4e00\u4e2a\u4efb\u52a1\uff0c\u901a\u8fc7Ironic-API\u67e5\u627e\u8be5\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u9884\u7559\u51fa\u8be5\u8282\u70b9 \u5c06\u8bf7\u6c42\u7684Image\u4eceGlance\u4e0a\u4e0b\u8f7d\u4e0b\u6765\u4fdd\u5b58\u65e9Ironic Conductor\u7684\u672c\u5730\u78c1\u76d8 \u8c03\u7528Neutron-API\u6765\u505a\u7f51\u5361\u7ed1\u5b9a\u5e76\u8bbe\u7f6eNeutron\u4e2d\u7684DHCP\u7aef\u53e3\u6765\u652f\u6301PEX/TFTP\u670d\u52a1 Ironic virtDriver\u901a\u8fc7Ironic API\u53d1\u51fa\u90e8\u7f72\u8bf7\u6c42\u7ed9Ironic Conductor Ironic Conductor\u8c03\u5ea6\u76f8\u5e94\u7684\u9a71\u52a8\u6765\u5b8c\u6210\u90e8\u7f72\u3002","title":"Ironic System Architectural"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/#ironic-driver","text":"\u6839\u636e\u4e0d\u540c\u7684\u786c\u4ef6\uff0c\u76ee\u6807\u673a\u54fc\u591f\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\uff0cIronic\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9a71\u52a8\u6846\u67b6\u6765\u8fdb\u884c\u652f\u6301\uff0c\u6bcf\u79cd\u9a71\u52a8\u57fa\u672c\u90fd\u8981\u5b9e\u73b0Deploy\uff0cPower\uff0cConsole\u7b49\u51e0\u7c7b\u6838\u5fc3\u529f\u80fd\u3002","title":"Ironic Driver"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/#ironic-api","text":"Ironic API\u662fIronic\u7528\u6765\u63a5\u6536RESTful\u8bf7\u6c42\u7684\u7ec4\u4ef6\uff0c\u5b83\u5305\u542b\u51e0\u4e2a\u6838\u5fc3\u6a21\u5757\u3002 \u200b Chassis\uff1a\u8868\u793a\u4e00\u4e2a\u673a\u67b6\u6216\u8005\u673a\u67dc\uff0c\u4ed6\u662fNode\u7684\u96c6\u5408 \u200b Driver\uff1a\u8868\u793a\u670d\u52a1\u91cc\u9762\u7684\u5404\u79cd\u9a71\u52a8\u8d44\u6e90\uff0c\u5305\u542b\u4e86\u955c\u50cf\u5b89\u88c5\uff0c\u90e8\u7f72\uff0c\u7535\u6e90\u63a7\u5236\u7b49\u3002 \u200b Node\uff1a\u8868\u793a\u6ce8\u518c\u5728Ironic\u4e2d\u7684\u4e00\u4e2a\u7269\u7406\u673a \u200b Port\uff1a\u8868\u793aNeutron\u4e2d\u7684\u7f51\u7edc\u7aef\u53e3\uff0c\u7528\u6765\u7ed1\u5b9a\u7269\u7406\u673a\u5668\u4e0a\u7684\u7f51\u5361\u7aef\u53e3\u3002","title":"Ironic API"},{"location":"OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/#ironic-conductor","text":"Ironic API\u901a\u8fc7RPC\u8c03\u7528Ironic Conductor\u6765\u5b8c\u6210\u5b9e\u9645\u7684\u5de5\u4f5c\uff0cIronic\u4f1a\u6839\u636e\u914d\u7f6e\u4ea4\u7ed9\u5177\u4f53\u7684\u9a71\u52a8\uff0c\u6765\u5b8c\u6210\u771f\u6b63\u7684\u90e8\u7f72\u3002","title":"Ironic Conductor"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/","text":"title: \"Openstack \u5206\u4eab\u7bc71\" date: 2020-04-29T01:11:06+08:00 draft: true \u4e91\u8ba1\u7b97 \u00b6 09\u5e74\u5f00\u59cb\uff1acloudcompute\u6982\u5ff5\u88ab\u7092\u5f97\u706b\u70ed\uff0c\u7531\u4e8e\u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u4e91\u8ba1\u7b97\u6570\u636e\u4e2d\u5fc3\u4f1a\u5e26\u6765\u5927\u91cf\u7684\u8bbe\u5907\u548c\u8d44\u91d1\u6d41\u5165\uff0c\u65e0\u8bba\u662f\u653f\u5e9c\u8fd8\u662f\u53c2\u4e0e\u4e91\u8ba1\u7b97\u7684\u8bbe\u5907\u5236\u9020\u7684\u5382\u5546\u90fd\u662f\u4e50\u89c1\u5176\u6210\u7684\u3002\u5382\u5546\u80fd\u5356\u8bbe\u5907\uff0c\u653f\u5e9c\u80fd\u4e3a\u4eba\u6c11\u670d\u52a1\u3002 \u4e91\u8ba1\u7b97\u662f\u4ec0\u4e48\uff1f \u00b6 \u7532\u9aa8\u6587\u603b\u88c1\u8bf4\uff1a\u4e91\u8ba1\u7b97\u662f\u8ba1\u7b97\u673a\u52a0\u4e0a\u7f51\u7ebf \u4e91\u8ba1\u7b97\u662f\u7528\u5230\u7684\u662f\u96c6\u7fa4\u6280\u672f \u8d85\u8ba1\u7b97\u673a \u7f51\u683c\u8ba1\u7b97\u548c\u4e91\u8ba1\u7b97\u6709\u4ec0\u4e48\u533a\u522b \u4e0a\u4e16\u7eaa60\u5e74\u4ee3\uff0c\u9ea6\u5361\u9521\u63d0\u51fa\u4e86\u628a\u8ba1\u7b97\u80fd\u529b\u4f5c\u4e3a\u6c34\u548c\u7535\u4e00\u6837\u7684\u516c\u5171\u4e8b\u4e1a\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u7406\u5ff5\uff0c\u8fd9\u6210\u4e3a\u4e91\u8ba1\u7b97\u601d\u60f3\u7684\u8d77\u6e90\u3002 \u4e91\u8ba1\u7b97\uff1a \u4e91\u8ba1\u7b97\u662f\u670d\u52a1\u6a21\u5f0f\uff1a\u4ed6\u4e0d\u662f\u65b0\u6280\u672f\uff0c\u66f4\u51c6\u786e\u7684\u8bf4\u6765\u4e0d\u80fd\u79f0\u4e4b\u4e3a\u6280\u672f\uff0c\u5b83\u662f\u5728\u4e00\u4e9b\u5173\u952e\u6280\u672f\u65e5\u8d8b\u6210\u719f\u540e\u50ac\u751f\u7684\u4e00\u79cd\u65b0\u7684\u670d\u52a1\u6a21\u5f0f\u3002 \u4e91\u8ba1\u7b97\u901a\u8fc7\u96c6\u4e2d\u62e5\u6709\uff0c\u4f7f\u5f97\u7528\u6237\u80fd\u5f97\u5230\u5176\u672c\u8eab\u65e0\u6cd5\u5f97\u5230\u7684\u670d\u52a1\uff0c\u6216\u8005\u662f\u4ee5\u66f4\u4f4e\u6210\u672c\u83b7\u5f97\u76f8\u540c\u7684\u670d\u52a1\uff0c\u964d\u4f4e\u62e5\u6709\u6210\u672c\u662f\u4e91\u8ba1\u7b97\u7684\u6838\u5fc3\u4e4b\u4e00 \u4e91\u8ba1\u7b97\u9879\u76ee\uff0c\u5fc5\u5148\u8003\u8651\u670d\u52a1\u6a21\u5f0f\u548c\u76c8\u5229\u7684\u95ee\u9898\uff0c\u5176\u6b21\u624d\u662f\u6295\u8d44\u672a\u6765 \u4e91\u8ba1\u7b97\u7684\u7279\u5f81 \u00b6 \u81ea\u6211\u670d\u52a1 \u6309\u4f7f\u7528\u91cf\u8ba1\u8d39 \u5f39\u6027\u67b6\u6784 \u53ef\u5b9a\u5236\u5316 \u4e3a\u4ec0\u4e48\u8981\u4e91\u8ba1\u7b97 \u00b6 \u786c\u4ef6\u5f00\u652f\u7684\u8282\u7701 \u8f6f\u4ef6\u8bb8\u53ef\u8bc1\u7684\u8282\u7701 \u7ef4\u62a4\u56e2\u961f\u7684\u8282\u7701 \u80fd\u8017\u7684\u8282\u7701 \u4e3a\u4ec0\u4e48\u4e0d\u8981\u4e91\u8ba1\u7b97 \u00b6 \u670d\u52a1\u53ef\u9760\u6027\u7684\u5fe7\u8651 \u6570\u636e\u5b89\u5168\u6027\u7684\u5fe7\u8651 \u7528\u6237\u53ef\u80fd\u88ab\u4e91\u4f9b\u5e94\u5546\u7ed1\u67b6 \u96c6\u4e2d\u672a\u5fc5\u610f\u5473\u7740\u5e73\u5747\u8d39\u7528\u7684\u4e0b\u964d \u4e91\u8ba1\u7b97\u7684\u6a21\u5f0f \u00b6 \u79c1\u6709\u4e91\uff0c\u516c\u6709\u4e91\uff0c\u6df7\u5408\u4e91 \u6309\u7167\u670d\u52a1\u6a21\u5f0f\u6765\u5212\u5206 IaaS\uff0cPaaS\uff0cSaaS IaaS\u7684\u4f8b\u5b50\uff1a\u7f51\u76d8\uff0cVPS(\u865a\u62df\u4e3b\u673a)\uff0c\u8fc5\u96f7\u79bb\u7ebf\u4e0b\u8f7d PaaS\u7684\u4f8b\u5b50\uff1aGoogle appspot\uff0cBAE SaaS\u7684\u4f8b\u5b50\uff1a\u7f51\u7edcCRM\uff0cHR\uff0c\u641c\u7d22\uff0c\u5730\u56fe\uff0c\u7535\u5b50\u5546\u52a1 \u4e91\u8ba1\u7b97\u7684\u5173\u952e\u6280\u672f \u00b6 \u5206\u5e03\u5f0f\u8ba1\u7b97\u548c\u5b58\u50a8\u6280\u672f \u865a\u62df\u5316\u6280\u672f \u81ea\u52a8\u8fd0\u7ef4 \u8ba1\u8d39 \u4e91\u8ba1\u7b97\u4f9b\u5e94\u5546\u7684\u6280\u672f\u503e\u5411 \u00b6 \u4f7f\u7528\u5ec9\u4ef7\u7684\u548c\u5bb9\u6613\u66f4\u6362\u66ff\u4ee3\u7684\u901a\u7528\u6027\u786c\u4ef6\u7ec4\u6210\u5206\u5e03\u5f0f\u96c6\u7fa4\uff0c\u653e\u5f03\u4f7f\u7528\u6602\u8d35\u7684\u8d85\u7ea7\u8ba1\u7b97\u673a\u548c\u4e13\u7528\u7684\u5b58\u50a8\u8bbe\u5907 \u57fa\u4e8e\u6210\u54c1\u6216\u8005\u534a\u6210\u54c1\u7684\u5f00\u6e90\u6280\u672f\u6846\u67b6\uff0c\u81ea\u884c\u7ec4\u7ec7\u56e2\u961f\u8fdb\u884c\u5f00\u53d1\uff0c\u5c3d\u91cf\u638c\u63e1\u5230\u6240\u6709\u4f7f\u7528\u5230\u7684\u6280\u672f\uff0c\u907f\u514d\u4f7f\u7528\u8bb8\u53ef\u8bc1\u8d39\u7528\u7684\u6602\u8d35\u6280\u672f\uff0c\u907f\u514d\u4f7f\u7528\u65e0\u6cd5\u5168\u7a0b\u638c\u63e1\u7684\u5382\u5546\u63d0\u4f9b\u7684\u6280\u672f \u5f3a\u8c03\u5355\u4f4d\u80fd\u8017\uff0c\u5f3a\u8c03\u6210\u672c\u8ba1\u7b97\uff0c\u51e1\u662f\u80fd\u5bfc\u81f4\u8282\u80fd\u7684\u6280\u672f\u90fd\u5e7f\u53d7\u6b22\u8fce \u4e91\u8ba1\u7b97\u7684\u5178\u578b\u5e94\u7528\u573a\u666f \u00b6 \u6e32\u67d3\u519c\u573a \u8fc5\u96f7\u79bb\u7ebf\u4e0b\u8f7d \u767e\u5ea6\u7f51\u76d8 \u963f\u91cc\u4e91 Dataguru\u4e91\u6559\u80b2\u673a\u6784 \u4e91\u8ba1\u7b97\u7684\u9f3b\u7956\u4e4b\u4e00\u2014\u2014Google \u00b6 Google\u7684\u96c6\u88c5\u7bb1\u7ec4\u5408\u5f0f\u8ba1\u7b97\u4e2d\u5fc3 \u8ba1\u7b97\u4e2d\u5fc3\u4f4d\u4e8e\u5bd2\u51b7\u5730\u5e26\u8282\u7701\u7a7a\u8c03\u8d39\u7528 \u5012\u4ed8\u6b3e\u7684\u5e26\u5bbd \u672c\u8eab\u5c31\u662f\u8f6f\u4ef6\u5de8\u65e0\u9738 Hadoop\uff1aGoogle\u6280\u672f\u7684\u5c71\u5be8\u54c1 \u00b6 GFS->HDFS Map-Reduce Big Table->HBase Hadoop\u5728\u4e91\u8ba1\u7b97\u4e2d\u7684\u7528\u9014 \u00b6 \u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u7684\u4f4e\u5355\u4f4d\u7684\u5de8\u5927\u5b58\u50a8\u80fd\u529b\uff0c\u9ad8\u5197\u4f59\u5ea6\u7684\u53ef\u9760\u6027 Map-Reduce\u63d0\u4f9b\u5feb\u65f6\u5c1a\u6240\u6240\u82cf\u5e76\u884c\u8ba1\u7b97\u80fd\u529b\uff0c\u8fd9\u79cd\u80fd\u529b\u53ef\u4ee5\u968f\u7740\u8282\u70b9\u7684\u589e\u52a0\u7ebf\u6027\u589e\u957f \u4e91\u8ba1\u7b97\u7684\u53e6\u4e00\u9f3b\u7956Amazon \u00b6 \u521b\u59cb\u4eba\u662fJeffery Bezos\u3002\u539f\u5c31\u804c\u534e\u5c14\u8857\uff0c\u540e\u770b\u5230\u4e92\u8054\u7f51\u6025\u901f\u53d1\u5c55\u7684\u5546\u673a\uff0c\u9009\u62e9\u7f51\u4e0a\u4e66\u5e97\u4f5c\u4e3a\u5176\u6295\u8d44\u4e8b\u4e1a\u3002 \u4e9a\u9a6c\u900a1995\u5e74\u6b63\u5f0f\u4e0a\u7ebf\uff0c\u7f51\u7ad9\u53d6\u540d\u4e8e\u5357\u7f8e\u7684\u989d\u4e9a\u9a6c\u5b59\u6cb3 \u4e9a\u9a6c\u900a\u548c\u4e92\u8054\u7f51\u4e00\u8d77\u5feb\u901f\u53d1\u5c55\uff0c1997\u5e74\u5728Nasdaq\u4e0a\u5e02\uff0c\u80a1\u4ef7\u4ece\u51e0\u7f8e\u5143\u4e00\u76f4\u4e0a\u5347\u5230\u4e00\u767e\u591a\u7f8e\u5143 2001\u5e74\u5f00\u59cb\u76c8\u5229\uff0c\u5229\u6da6500\u4e07\u7f8e\u5143\uff08\u8425\u4e1a\u989d10\u4ebf\uff09 \u4e0d\u4ec5\u4ec5\u662f\u7535\u5b50\u5546\u52a1\u7f51\u7ad9 \u4e9a\u9a6c\u900a\uff1a\u4ece\u5356\u4e66\u5230\u4e91\u8ba1\u7b97 \u00b6 AWS\uff1aAmazon Web Services\u662f\u4e00\u7ec4\u8ba1\u7b97\u670d\u52a1\uff0c\u4ed6\u4eec\u662f\u5141\u8bb8\u7a0b\u5e8f\u8bbf\u95eeAmazon\u7684\u8ba1\u7b97\u57fa\u7840\u8bbe\u65bd Dynamo:\u4e00\u79cdKey-Value\u578b\u7684NoSQL\u6570\u636e\u5e93\uff0c\u662fNoSQL\u8fd0\u52a8\u7684\u5148\u9a71 S3\uff1a\u5168\u540d\u4e3a\u4e9a\u9a6c\u900a\u7b80\u6613\u5b58\u50a8\u670d\u52a1\uff08Amazon Simple Storage Service\uff09\uff0c\u7531\u4e9a\u9a6c\u900a\u516c\u53f8\uff0c\u5229\u7528\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u7cfb\u7edf\u63d0\u4f9b\u7684\u7ebf\u4e0a\u5b58\u50a8\u670d\u52a1\u3002\u7ecf\u7531Web\u670d\u52a1\u754c\u9762\uff0c\u5305\u62ecREST\uff0cSOAP\u4e0eBitTorrent\uff0c\u63d0\u4f9b\u7528\u6237\u80fd\u591f\u8f7b\u6613\u628a\u6863\u6848\u5b58\u50a8\u5230\u7f51\u7edc\u670d\u52a1\u5668\u4e0a\u3002\u57282006\u5e743\u6708\u5f00\u59cb\uff0c\u4e9a\u9a6c\u900a\u516c\u53f8\u5728\u7f8e\u56fd\u63a8\u51fa\u8fd9\u9879\u670d\u52a1\uff0c2007\u5e7411\u6708\u6269\u5c55\u5230\u6b27\u6d32\u5730\u533a\u3002\u4e9a\u9a6c\u900a\u516c\u53f8\u4e3a\u8fd9\u9879\u670d\u52a1\u6536\u53d6\u7684\u8d39\u7528\uff0c\u662f\u6bcf\u4e2a\u6708\u4e00\u4e2agigabyte\u9700\u89810.15\u7f8e\u5143\uff0c\u5982\u679c\u9700\u8981\u989d\u5916\u7684\u7f51\u7edc\u5e26\u5bbd\u4e0e\u54c1\u8d28\uff0c\u5219\u9700\u8981\u53e6\u6536\u53d6\u8d39\u7528 EC2\uff1a\u5f39\u6027\u8ba1\u7b97\u4e91 \u4e9a\u9a6c\u900aCTO\u548c\u4e91\u603b\u67b6\u6784\u5e08Werner Vogels \u00b6 Elastic Compute Cloud \uff08EC2\uff09 \u00b6 \u865a\u62df\u8ba1\u7b97\u673a \"\u65e0\u9650\"\u80fd\u529b \u53ef\u4ee5\u6839\u636e\u7528\u6237\u7684\u9700\u6c42\u6765\u914d\u7f6e\u5b9e\u4f8b\u6570\u91cf\uff0c\u4ece\u800c\u6539\u53d8\u79df\u7528\u7684\u8ba1\u7b97\u80fd\u529b \u4e3b\u8981\u7279\u5f81 \u7075\u6d3b\u6027\uff1a\u5141\u8bb8\u914d\u7f6e\u5b9e\u4f8b\u6570\u91cf\uff0c\u5730\u7406\u4f4d\u7f6e \u4f4e\u6210\u672c\uff1a\u4e00\u6574\u5957\u5b89\u5168\u63aa\u65bd \u6613\u7528\u6027\uff1a\u81ea\u7531\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\uff0c\u81ea\u52a8\u8d1f\u8f7d\u5e73\u8861 \u5bb9\u9519\u6027\uff1a\u65e0\u72b6\u6001\u548c\u591a\u5b9e\u4f8b\u914d\u7f6e EC2\u7684\u57fa\u672c\u67b6\u6784 \u00b6 OpenStack:\u4e9a\u9a6c\u900aEC2\u7684\u5c71\u5be8\u4ea7\u54c1 \u00b6 OpenStack\u662f\u7531Rackspase\u548cNASA\u5171\u540c\u5f00\u53d1\u7684\u4e91\u8ba1\u7b97\u5e73\u53f0\uff0c\u5e2e\u52a9\u670d\u52a1\u5546\u548c\u4f01\u4e1a\u5185\u90e8\u5b9e\u73b0\u7c7b\u4f3c\u4e8eAmazon EC2\u548cS3\u7684\u4e91\u8ba1\u7b97\u67b6\u6784\u670d\u52a1 OpenStack\u5305\u542b\u51e0\u4e2a\u4e3b\u8981\u6a21\u5757\uff1aNova\uff0cCinder\uff0cSwift\uff0ckeys,Horizon,Glance\uff0cNeutorn\u7b49Nova\u6700\u65e9\u662fNASA\u5f00\u53d1\u7684\u865a\u62df\u670d\u52a1\u5668\u90e8\u7f72\u548c\u4e1a\u52a1\u8ba1\u7b97\u6a21\u5757\uff1bSwiift\u662fRackSpack\u5f00\u53d1\u7684\u5206\u5e03\u5f0f\u4e91\u8ba1\u7b97\u5b58\u50a8\u6a21\u5757\u3002\u4e3b\u8981\u7528python\u7f16\u5199\u6e90\u4ee3\u7801\uff0c\u4f7f\u7528Twister\u8f6f\u4ef6\u6846\u67b6\u3002 \u65e8\u5728\u4e3a\u516c\u5171\u53ca\u79c1\u6709\u4e91\u7684\u5efa\u8bbe\u4e0e\u7ba1\u7406\u63d0\u4f9b\u8f6f\u4ef6\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u4f7f\u7528Apache\u8bb8\u53ef\u8bc1 \u5382\u5546\u652f\u6301\uff1aDell\uff0cCitrix\uff0cCisco\uff0cHUAWEI\uff0cAMD\uff0cIntel\u7b49 Openstack\u5b98\u7f51\uff1a http://www.opensatck.org/ Rackspace\u5b98\u7f51\uff1a http://www.rackspace.com/ Openstack\u7684\u540c\u7c7b \u00b6 CloudStack\uff1aCloudStack\u7684\u524d\u8eab\u662fCloud.com.2011\u5e747\u6708\u88abCitrix\u6536\u8d2d\uff0c\u5e76\u5c06CloudStack\u5f00\u6e90\u3002 Eucalyptus\uff1a\u6700\u521d\u662f\u7f8e\u56fd\u52a0\u5229\u798f\u5c3c\u4e9a\u5927\u5b66Santa Barbara\u8ba1\u7b97\u673a\u79d1\u5b66\u5b66\u9662\u7684\u989d\u4e00\u4e2a\u7814\u7a76\u9879\u76ee\uff0c\u73b0\u5728\u5df2\u7ecf\u5546\u4e1a\u5316\uff0c\u53d1\u5c55\u6210\u4e3a\u4e86EucaluptusSystems Inc\u3002\u5206\u4e3a\u5f00\u6e90\u7248\u548c\u4f01\u4e1a\u7248\u3002","title":"Openstack  \u5206\u4eab\u7bc71"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_1","text":"09\u5e74\u5f00\u59cb\uff1acloudcompute\u6982\u5ff5\u88ab\u7092\u5f97\u706b\u70ed\uff0c\u7531\u4e8e\u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u4e91\u8ba1\u7b97\u6570\u636e\u4e2d\u5fc3\u4f1a\u5e26\u6765\u5927\u91cf\u7684\u8bbe\u5907\u548c\u8d44\u91d1\u6d41\u5165\uff0c\u65e0\u8bba\u662f\u653f\u5e9c\u8fd8\u662f\u53c2\u4e0e\u4e91\u8ba1\u7b97\u7684\u8bbe\u5907\u5236\u9020\u7684\u5382\u5546\u90fd\u662f\u4e50\u89c1\u5176\u6210\u7684\u3002\u5382\u5546\u80fd\u5356\u8bbe\u5907\uff0c\u653f\u5e9c\u80fd\u4e3a\u4eba\u6c11\u670d\u52a1\u3002","title":"\u4e91\u8ba1\u7b97"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_2","text":"\u7532\u9aa8\u6587\u603b\u88c1\u8bf4\uff1a\u4e91\u8ba1\u7b97\u662f\u8ba1\u7b97\u673a\u52a0\u4e0a\u7f51\u7ebf \u4e91\u8ba1\u7b97\u662f\u7528\u5230\u7684\u662f\u96c6\u7fa4\u6280\u672f \u8d85\u8ba1\u7b97\u673a \u7f51\u683c\u8ba1\u7b97\u548c\u4e91\u8ba1\u7b97\u6709\u4ec0\u4e48\u533a\u522b \u4e0a\u4e16\u7eaa60\u5e74\u4ee3\uff0c\u9ea6\u5361\u9521\u63d0\u51fa\u4e86\u628a\u8ba1\u7b97\u80fd\u529b\u4f5c\u4e3a\u6c34\u548c\u7535\u4e00\u6837\u7684\u516c\u5171\u4e8b\u4e1a\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u7406\u5ff5\uff0c\u8fd9\u6210\u4e3a\u4e91\u8ba1\u7b97\u601d\u60f3\u7684\u8d77\u6e90\u3002 \u4e91\u8ba1\u7b97\uff1a \u4e91\u8ba1\u7b97\u662f\u670d\u52a1\u6a21\u5f0f\uff1a\u4ed6\u4e0d\u662f\u65b0\u6280\u672f\uff0c\u66f4\u51c6\u786e\u7684\u8bf4\u6765\u4e0d\u80fd\u79f0\u4e4b\u4e3a\u6280\u672f\uff0c\u5b83\u662f\u5728\u4e00\u4e9b\u5173\u952e\u6280\u672f\u65e5\u8d8b\u6210\u719f\u540e\u50ac\u751f\u7684\u4e00\u79cd\u65b0\u7684\u670d\u52a1\u6a21\u5f0f\u3002 \u4e91\u8ba1\u7b97\u901a\u8fc7\u96c6\u4e2d\u62e5\u6709\uff0c\u4f7f\u5f97\u7528\u6237\u80fd\u5f97\u5230\u5176\u672c\u8eab\u65e0\u6cd5\u5f97\u5230\u7684\u670d\u52a1\uff0c\u6216\u8005\u662f\u4ee5\u66f4\u4f4e\u6210\u672c\u83b7\u5f97\u76f8\u540c\u7684\u670d\u52a1\uff0c\u964d\u4f4e\u62e5\u6709\u6210\u672c\u662f\u4e91\u8ba1\u7b97\u7684\u6838\u5fc3\u4e4b\u4e00 \u4e91\u8ba1\u7b97\u9879\u76ee\uff0c\u5fc5\u5148\u8003\u8651\u670d\u52a1\u6a21\u5f0f\u548c\u76c8\u5229\u7684\u95ee\u9898\uff0c\u5176\u6b21\u624d\u662f\u6295\u8d44\u672a\u6765","title":"\u4e91\u8ba1\u7b97\u662f\u4ec0\u4e48\uff1f"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_3","text":"\u81ea\u6211\u670d\u52a1 \u6309\u4f7f\u7528\u91cf\u8ba1\u8d39 \u5f39\u6027\u67b6\u6784 \u53ef\u5b9a\u5236\u5316","title":"\u4e91\u8ba1\u7b97\u7684\u7279\u5f81"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_4","text":"\u786c\u4ef6\u5f00\u652f\u7684\u8282\u7701 \u8f6f\u4ef6\u8bb8\u53ef\u8bc1\u7684\u8282\u7701 \u7ef4\u62a4\u56e2\u961f\u7684\u8282\u7701 \u80fd\u8017\u7684\u8282\u7701","title":"\u4e3a\u4ec0\u4e48\u8981\u4e91\u8ba1\u7b97"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_5","text":"\u670d\u52a1\u53ef\u9760\u6027\u7684\u5fe7\u8651 \u6570\u636e\u5b89\u5168\u6027\u7684\u5fe7\u8651 \u7528\u6237\u53ef\u80fd\u88ab\u4e91\u4f9b\u5e94\u5546\u7ed1\u67b6 \u96c6\u4e2d\u672a\u5fc5\u610f\u5473\u7740\u5e73\u5747\u8d39\u7528\u7684\u4e0b\u964d","title":"\u4e3a\u4ec0\u4e48\u4e0d\u8981\u4e91\u8ba1\u7b97"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_6","text":"\u79c1\u6709\u4e91\uff0c\u516c\u6709\u4e91\uff0c\u6df7\u5408\u4e91 \u6309\u7167\u670d\u52a1\u6a21\u5f0f\u6765\u5212\u5206 IaaS\uff0cPaaS\uff0cSaaS IaaS\u7684\u4f8b\u5b50\uff1a\u7f51\u76d8\uff0cVPS(\u865a\u62df\u4e3b\u673a)\uff0c\u8fc5\u96f7\u79bb\u7ebf\u4e0b\u8f7d PaaS\u7684\u4f8b\u5b50\uff1aGoogle appspot\uff0cBAE SaaS\u7684\u4f8b\u5b50\uff1a\u7f51\u7edcCRM\uff0cHR\uff0c\u641c\u7d22\uff0c\u5730\u56fe\uff0c\u7535\u5b50\u5546\u52a1","title":"\u4e91\u8ba1\u7b97\u7684\u6a21\u5f0f"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_7","text":"\u5206\u5e03\u5f0f\u8ba1\u7b97\u548c\u5b58\u50a8\u6280\u672f \u865a\u62df\u5316\u6280\u672f \u81ea\u52a8\u8fd0\u7ef4 \u8ba1\u8d39","title":"\u4e91\u8ba1\u7b97\u7684\u5173\u952e\u6280\u672f"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_8","text":"\u4f7f\u7528\u5ec9\u4ef7\u7684\u548c\u5bb9\u6613\u66f4\u6362\u66ff\u4ee3\u7684\u901a\u7528\u6027\u786c\u4ef6\u7ec4\u6210\u5206\u5e03\u5f0f\u96c6\u7fa4\uff0c\u653e\u5f03\u4f7f\u7528\u6602\u8d35\u7684\u8d85\u7ea7\u8ba1\u7b97\u673a\u548c\u4e13\u7528\u7684\u5b58\u50a8\u8bbe\u5907 \u57fa\u4e8e\u6210\u54c1\u6216\u8005\u534a\u6210\u54c1\u7684\u5f00\u6e90\u6280\u672f\u6846\u67b6\uff0c\u81ea\u884c\u7ec4\u7ec7\u56e2\u961f\u8fdb\u884c\u5f00\u53d1\uff0c\u5c3d\u91cf\u638c\u63e1\u5230\u6240\u6709\u4f7f\u7528\u5230\u7684\u6280\u672f\uff0c\u907f\u514d\u4f7f\u7528\u8bb8\u53ef\u8bc1\u8d39\u7528\u7684\u6602\u8d35\u6280\u672f\uff0c\u907f\u514d\u4f7f\u7528\u65e0\u6cd5\u5168\u7a0b\u638c\u63e1\u7684\u5382\u5546\u63d0\u4f9b\u7684\u6280\u672f \u5f3a\u8c03\u5355\u4f4d\u80fd\u8017\uff0c\u5f3a\u8c03\u6210\u672c\u8ba1\u7b97\uff0c\u51e1\u662f\u80fd\u5bfc\u81f4\u8282\u80fd\u7684\u6280\u672f\u90fd\u5e7f\u53d7\u6b22\u8fce","title":"\u4e91\u8ba1\u7b97\u4f9b\u5e94\u5546\u7684\u6280\u672f\u503e\u5411"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_9","text":"\u6e32\u67d3\u519c\u573a \u8fc5\u96f7\u79bb\u7ebf\u4e0b\u8f7d \u767e\u5ea6\u7f51\u76d8 \u963f\u91cc\u4e91 Dataguru\u4e91\u6559\u80b2\u673a\u6784","title":"\u4e91\u8ba1\u7b97\u7684\u5178\u578b\u5e94\u7528\u573a\u666f"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#google","text":"Google\u7684\u96c6\u88c5\u7bb1\u7ec4\u5408\u5f0f\u8ba1\u7b97\u4e2d\u5fc3 \u8ba1\u7b97\u4e2d\u5fc3\u4f4d\u4e8e\u5bd2\u51b7\u5730\u5e26\u8282\u7701\u7a7a\u8c03\u8d39\u7528 \u5012\u4ed8\u6b3e\u7684\u5e26\u5bbd \u672c\u8eab\u5c31\u662f\u8f6f\u4ef6\u5de8\u65e0\u9738","title":"\u4e91\u8ba1\u7b97\u7684\u9f3b\u7956\u4e4b\u4e00\u2014\u2014Google"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#hadoopgoogle","text":"GFS->HDFS Map-Reduce Big Table->HBase","title":"Hadoop\uff1aGoogle\u6280\u672f\u7684\u5c71\u5be8\u54c1"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#hadoop","text":"\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u7684\u4f4e\u5355\u4f4d\u7684\u5de8\u5927\u5b58\u50a8\u80fd\u529b\uff0c\u9ad8\u5197\u4f59\u5ea6\u7684\u53ef\u9760\u6027 Map-Reduce\u63d0\u4f9b\u5feb\u65f6\u5c1a\u6240\u6240\u82cf\u5e76\u884c\u8ba1\u7b97\u80fd\u529b\uff0c\u8fd9\u79cd\u80fd\u529b\u53ef\u4ee5\u968f\u7740\u8282\u70b9\u7684\u589e\u52a0\u7ebf\u6027\u589e\u957f","title":"Hadoop\u5728\u4e91\u8ba1\u7b97\u4e2d\u7684\u7528\u9014"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#amazon","text":"\u521b\u59cb\u4eba\u662fJeffery Bezos\u3002\u539f\u5c31\u804c\u534e\u5c14\u8857\uff0c\u540e\u770b\u5230\u4e92\u8054\u7f51\u6025\u901f\u53d1\u5c55\u7684\u5546\u673a\uff0c\u9009\u62e9\u7f51\u4e0a\u4e66\u5e97\u4f5c\u4e3a\u5176\u6295\u8d44\u4e8b\u4e1a\u3002 \u4e9a\u9a6c\u900a1995\u5e74\u6b63\u5f0f\u4e0a\u7ebf\uff0c\u7f51\u7ad9\u53d6\u540d\u4e8e\u5357\u7f8e\u7684\u989d\u4e9a\u9a6c\u5b59\u6cb3 \u4e9a\u9a6c\u900a\u548c\u4e92\u8054\u7f51\u4e00\u8d77\u5feb\u901f\u53d1\u5c55\uff0c1997\u5e74\u5728Nasdaq\u4e0a\u5e02\uff0c\u80a1\u4ef7\u4ece\u51e0\u7f8e\u5143\u4e00\u76f4\u4e0a\u5347\u5230\u4e00\u767e\u591a\u7f8e\u5143 2001\u5e74\u5f00\u59cb\u76c8\u5229\uff0c\u5229\u6da6500\u4e07\u7f8e\u5143\uff08\u8425\u4e1a\u989d10\u4ebf\uff09 \u4e0d\u4ec5\u4ec5\u662f\u7535\u5b50\u5546\u52a1\u7f51\u7ad9","title":"\u4e91\u8ba1\u7b97\u7684\u53e6\u4e00\u9f3b\u7956Amazon"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#_10","text":"AWS\uff1aAmazon Web Services\u662f\u4e00\u7ec4\u8ba1\u7b97\u670d\u52a1\uff0c\u4ed6\u4eec\u662f\u5141\u8bb8\u7a0b\u5e8f\u8bbf\u95eeAmazon\u7684\u8ba1\u7b97\u57fa\u7840\u8bbe\u65bd Dynamo:\u4e00\u79cdKey-Value\u578b\u7684NoSQL\u6570\u636e\u5e93\uff0c\u662fNoSQL\u8fd0\u52a8\u7684\u5148\u9a71 S3\uff1a\u5168\u540d\u4e3a\u4e9a\u9a6c\u900a\u7b80\u6613\u5b58\u50a8\u670d\u52a1\uff08Amazon Simple Storage Service\uff09\uff0c\u7531\u4e9a\u9a6c\u900a\u516c\u53f8\uff0c\u5229\u7528\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u7cfb\u7edf\u63d0\u4f9b\u7684\u7ebf\u4e0a\u5b58\u50a8\u670d\u52a1\u3002\u7ecf\u7531Web\u670d\u52a1\u754c\u9762\uff0c\u5305\u62ecREST\uff0cSOAP\u4e0eBitTorrent\uff0c\u63d0\u4f9b\u7528\u6237\u80fd\u591f\u8f7b\u6613\u628a\u6863\u6848\u5b58\u50a8\u5230\u7f51\u7edc\u670d\u52a1\u5668\u4e0a\u3002\u57282006\u5e743\u6708\u5f00\u59cb\uff0c\u4e9a\u9a6c\u900a\u516c\u53f8\u5728\u7f8e\u56fd\u63a8\u51fa\u8fd9\u9879\u670d\u52a1\uff0c2007\u5e7411\u6708\u6269\u5c55\u5230\u6b27\u6d32\u5730\u533a\u3002\u4e9a\u9a6c\u900a\u516c\u53f8\u4e3a\u8fd9\u9879\u670d\u52a1\u6536\u53d6\u7684\u8d39\u7528\uff0c\u662f\u6bcf\u4e2a\u6708\u4e00\u4e2agigabyte\u9700\u89810.15\u7f8e\u5143\uff0c\u5982\u679c\u9700\u8981\u989d\u5916\u7684\u7f51\u7edc\u5e26\u5bbd\u4e0e\u54c1\u8d28\uff0c\u5219\u9700\u8981\u53e6\u6536\u53d6\u8d39\u7528 EC2\uff1a\u5f39\u6027\u8ba1\u7b97\u4e91","title":"\u4e9a\u9a6c\u900a\uff1a\u4ece\u5356\u4e66\u5230\u4e91\u8ba1\u7b97"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#ctowerner-vogels","text":"","title":"\u4e9a\u9a6c\u900aCTO\u548c\u4e91\u603b\u67b6\u6784\u5e08Werner Vogels"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#elastic-compute-cloud-ec2","text":"\u865a\u62df\u8ba1\u7b97\u673a \"\u65e0\u9650\"\u80fd\u529b \u53ef\u4ee5\u6839\u636e\u7528\u6237\u7684\u9700\u6c42\u6765\u914d\u7f6e\u5b9e\u4f8b\u6570\u91cf\uff0c\u4ece\u800c\u6539\u53d8\u79df\u7528\u7684\u8ba1\u7b97\u80fd\u529b \u4e3b\u8981\u7279\u5f81 \u7075\u6d3b\u6027\uff1a\u5141\u8bb8\u914d\u7f6e\u5b9e\u4f8b\u6570\u91cf\uff0c\u5730\u7406\u4f4d\u7f6e \u4f4e\u6210\u672c\uff1a\u4e00\u6574\u5957\u5b89\u5168\u63aa\u65bd \u6613\u7528\u6027\uff1a\u81ea\u7531\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\uff0c\u81ea\u52a8\u8d1f\u8f7d\u5e73\u8861 \u5bb9\u9519\u6027\uff1a\u65e0\u72b6\u6001\u548c\u591a\u5b9e\u4f8b\u914d\u7f6e","title":"Elastic Compute Cloud \uff08EC2\uff09"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#ec2","text":"","title":"EC2\u7684\u57fa\u672c\u67b6\u6784"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#openstackec2","text":"OpenStack\u662f\u7531Rackspase\u548cNASA\u5171\u540c\u5f00\u53d1\u7684\u4e91\u8ba1\u7b97\u5e73\u53f0\uff0c\u5e2e\u52a9\u670d\u52a1\u5546\u548c\u4f01\u4e1a\u5185\u90e8\u5b9e\u73b0\u7c7b\u4f3c\u4e8eAmazon EC2\u548cS3\u7684\u4e91\u8ba1\u7b97\u67b6\u6784\u670d\u52a1 OpenStack\u5305\u542b\u51e0\u4e2a\u4e3b\u8981\u6a21\u5757\uff1aNova\uff0cCinder\uff0cSwift\uff0ckeys,Horizon,Glance\uff0cNeutorn\u7b49Nova\u6700\u65e9\u662fNASA\u5f00\u53d1\u7684\u865a\u62df\u670d\u52a1\u5668\u90e8\u7f72\u548c\u4e1a\u52a1\u8ba1\u7b97\u6a21\u5757\uff1bSwiift\u662fRackSpack\u5f00\u53d1\u7684\u5206\u5e03\u5f0f\u4e91\u8ba1\u7b97\u5b58\u50a8\u6a21\u5757\u3002\u4e3b\u8981\u7528python\u7f16\u5199\u6e90\u4ee3\u7801\uff0c\u4f7f\u7528Twister\u8f6f\u4ef6\u6846\u67b6\u3002 \u65e8\u5728\u4e3a\u516c\u5171\u53ca\u79c1\u6709\u4e91\u7684\u5efa\u8bbe\u4e0e\u7ba1\u7406\u63d0\u4f9b\u8f6f\u4ef6\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u4f7f\u7528Apache\u8bb8\u53ef\u8bc1 \u5382\u5546\u652f\u6301\uff1aDell\uff0cCitrix\uff0cCisco\uff0cHUAWEI\uff0cAMD\uff0cIntel\u7b49 Openstack\u5b98\u7f51\uff1a http://www.opensatck.org/ Rackspace\u5b98\u7f51\uff1a http://www.rackspace.com/","title":"OpenStack:\u4e9a\u9a6c\u900aEC2\u7684\u5c71\u5be8\u4ea7\u54c1"},{"location":"Openstack--%E5%88%86%E4%BA%AB%E7%AF%871/#openstack","text":"CloudStack\uff1aCloudStack\u7684\u524d\u8eab\u662fCloud.com.2011\u5e747\u6708\u88abCitrix\u6536\u8d2d\uff0c\u5e76\u5c06CloudStack\u5f00\u6e90\u3002 Eucalyptus\uff1a\u6700\u521d\u662f\u7f8e\u56fd\u52a0\u5229\u798f\u5c3c\u4e9a\u5927\u5b66Santa Barbara\u8ba1\u7b97\u673a\u79d1\u5b66\u5b66\u9662\u7684\u989d\u4e00\u4e2a\u7814\u7a76\u9879\u76ee\uff0c\u73b0\u5728\u5df2\u7ecf\u5546\u4e1a\u5316\uff0c\u53d1\u5c55\u6210\u4e3a\u4e86EucaluptusSystems Inc\u3002\u5206\u4e3a\u5f00\u6e90\u7248\u548c\u4f01\u4e1a\u7248\u3002","title":"Openstack\u7684\u540c\u7c7b"},{"location":"QQme/","text":"","title":"QQme"},{"location":"weixinme/","text":"","title":"Weixinme"}]}